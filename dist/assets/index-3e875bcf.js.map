{"version":3,"file":"index-3e875bcf.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.development.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../src/lib/supabase.ts","../../src/lib/services/AuthService.ts","../../src/lib/api/database.ts","../../src/lib/hooks/useAuth.ts","../../node_modules/clsx/dist/clsx.m.js","../../src/components/ui/LoadingSpinner.tsx","../../node_modules/lucide-react/dist/esm/defaultAttributes.mjs","../../node_modules/lucide-react/dist/esm/createLucideIcon.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/alert-triangle.mjs","../../node_modules/lucide-react/dist/esm/icons/bell.mjs","../../node_modules/lucide-react/dist/esm/icons/calendar.mjs","../../node_modules/lucide-react/dist/esm/icons/camera.mjs","../../node_modules/lucide-react/dist/esm/icons/check.mjs","../../node_modules/lucide-react/dist/esm/icons/crown.mjs","../../node_modules/lucide-react/dist/esm/icons/download.mjs","../../node_modules/lucide-react/dist/esm/icons/eye.mjs","../../node_modules/lucide-react/dist/esm/icons/file-text.mjs","../../node_modules/lucide-react/dist/esm/icons/filter.mjs","../../node_modules/lucide-react/dist/esm/icons/heart.mjs","../../node_modules/lucide-react/dist/esm/icons/info.mjs","../../node_modules/lucide-react/dist/esm/icons/layers.mjs","../../node_modules/lucide-react/dist/esm/icons/log-out.mjs","../../node_modules/lucide-react/dist/esm/icons/map-pin.mjs","../../node_modules/lucide-react/dist/esm/icons/menu.mjs","../../node_modules/lucide-react/dist/esm/icons/message-circle.mjs","../../node_modules/lucide-react/dist/esm/icons/moon.mjs","../../node_modules/lucide-react/dist/esm/icons/navigation.mjs","../../node_modules/lucide-react/dist/esm/icons/pen-square.mjs","../../node_modules/lucide-react/dist/esm/icons/plus.mjs","../../node_modules/lucide-react/dist/esm/icons/refresh-cw.mjs","../../node_modules/lucide-react/dist/esm/icons/save.mjs","../../node_modules/lucide-react/dist/esm/icons/search.mjs","../../node_modules/lucide-react/dist/esm/icons/send.mjs","../../node_modules/lucide-react/dist/esm/icons/shield.mjs","../../node_modules/lucide-react/dist/esm/icons/sun.mjs","../../node_modules/lucide-react/dist/esm/icons/upload.mjs","../../node_modules/lucide-react/dist/esm/icons/user.mjs","../../node_modules/lucide-react/dist/esm/icons/x.mjs","../../src/i18n/pt.ts","../../src/i18n/en.ts","../../src/i18n/index.ts","../../src/components/common/BottomNavigation.tsx","../../src/components/ui/Button.tsx","../../src/lib/hooks/useEntitlements.ts","../../src/components/ui/Card.tsx","../../src/features/notifications/components/NotificationCenter.tsx","../../src/features/notifications/components/NotificationBell.tsx","../../src/components/common/TopNavigation.tsx","../../src/app/layouts/DashboardLayout.tsx","../../src/components/ui/Input.tsx","../../src/features/auth/pages/LoginPage.tsx","../../src/components/ui/Modal.tsx","../../src/lib/services/StorageService.ts","../../src/features/documents/components/AddDocumentModal.tsx","../../src/features/documents/pages/DocumentsPage.tsx","../../src/features/reports/pages/ReportLostPage.tsx","../../src/features/reports/pages/ReportFoundPage.tsx","../../src/features/feed/pages/FeedPage.tsx","../../src/features/profile/pages/ProfilePage.tsx","../../src/features/chat/pages/ChatPage.tsx","../../src/features/map/pages/MapPage.tsx","../../src/app/router.tsx","../../src/app/error-boundary.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    {\n      if (hasOwnProperty.call(props, 'key')) {\n        var componentName = getComponentNameFromType(type);\n        var keys = Object.keys(props).filter(function (k) {\n          return k !== 'key';\n        });\n        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n        if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n          error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n          didWarnAboutKeySpread[componentName + beforeExample] = true;\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import { createClient } from '@supabase/supabase-js';\r\n\r\n// Get Supabase configuration from environment variables or server\r\nconst getSupabaseConfig = async () => {\r\n  // Try to get from environment variables first (for development)\r\n  const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;\r\n  const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;\r\n\r\n  if (supabaseUrl && supabaseAnonKey && supabaseUrl !== 'https://your-project-id.supabase.co') {\r\n    console.log('🔧 Supabase: Using environment variables');\r\n    return { supabaseUrl, supabaseAnonKey };\r\n  }\r\n\r\n  // Fallback: fetch from server API (try both ports)\r\n  const serverPorts = [9000, 3000];\r\n  \r\n  for (const port of serverPorts) {\r\n    try {\r\n      console.log(`🔧 Supabase: Fetching config from server on port ${port}...`);\r\n      const response = await fetch(`http://localhost:${port}/api/config`);\r\n      if (response.ok) {\r\n        const config = await response.json();\r\n        \r\n        if (!config.supabaseUrl || !config.supabaseKey) {\r\n          throw new Error('Missing Supabase configuration from server');\r\n        }\r\n        \r\n        console.log(`✅ Supabase: Using server configuration from port ${port}`);\r\n        return { \r\n          supabaseUrl: config.supabaseUrl, \r\n          supabaseAnonKey: config.supabaseKey \r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.log(`❌ Supabase: Server on port ${port} not available:`, error.message);\r\n      continue;\r\n    }\r\n  }\r\n  \r\n  // If we have the known credentials from .env, use them directly as fallback\r\n  console.log('🔧 Supabase: Using hardcoded fallback configuration');\r\n  return {\r\n    supabaseUrl: 'https://vltgwacvosllvwsnenao.supabase.co',\r\n    supabaseAnonKey: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZsdGd3YWN2b3NsbHZ3c25lbmFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyOTk4MjQsImV4cCI6MjA2ODg3NTgyNH0.WSoQxPHT2LoY4Ob059i2omxs9xUFg9kGu3eotrvQ_b8'\r\n  };\r\n};\r\n\r\n// Initialize Supabase client\r\nlet supabaseClient: any = null;\r\nlet initPromise: Promise<any> | null = null;\r\n\r\nexport const initializeSupabase = async () => {\r\n  if (supabaseClient) {\r\n    return supabaseClient;\r\n  }\r\n\r\n  if (initPromise) {\r\n    return initPromise;\r\n  }\r\n\r\n  initPromise = (async () => {\r\n    try {\r\n      const { supabaseUrl, supabaseAnonKey } = await getSupabaseConfig();\r\n      \r\n      if (supabaseUrl === 'https://your-project-id.supabase.co' || supabaseAnonKey === 'your-anon-key-here') {\r\n        console.error('⚠️  WARNING: Using placeholder Supabase credentials!');\r\n        console.error('Please update your environment variables or server config with actual Supabase credentials.');\r\n        console.error('Get them from: https://supabase.com/dashboard/project/[YOUR_PROJECT]/settings/api');\r\n      } else {\r\n        console.log('✅ Supabase: Using actual credentials - authentication should work!');\r\n      }\r\n\r\n      supabaseClient = createClient(supabaseUrl, supabaseAnonKey, {\r\n        auth: {\r\n          autoRefreshToken: true,\r\n          persistSession: true,\r\n          detectSessionInUrl: true\r\n        }\r\n      });\r\n\r\n      console.log('✅ Supabase: Client initialized successfully');\r\n      return supabaseClient;\r\n    } catch (error) {\r\n      console.error('❌ Supabase: Failed to initialize client:', error);\r\n      throw error;\r\n    }\r\n  })();\r\n\r\n  return initPromise;\r\n};\r\n\r\n// Get the Supabase client (initialize if needed)\r\nexport const getSupabaseClient = async () => {\r\n  if (!supabaseClient) {\r\n    await initializeSupabase();\r\n  }\r\n  return supabaseClient;\r\n};\r\n\r\n// Direct export for components that need immediate access\r\nexport const supabase = {\r\n  get client() {\r\n    if (!supabaseClient) {\r\n      throw new Error('Supabase client not initialized. Call initializeSupabase() first.');\r\n    }\r\n    return supabaseClient;\r\n  }\r\n};\r\n\r\n// Export types for TypeScript\r\nexport type SupabaseClient = typeof supabaseClient;\r\n","import { SupabaseClient, User, Session } from '@supabase/supabase-js';\r\nimport { getSupabaseClient } from '@/lib/supabase';\r\nimport type { AuthService } from '@/lib/types';\r\n\r\n// Preserve storage bucket names\r\nexport const STORAGE_BUCKETS = {\r\n  DOCUMENTS: 'documents',\r\n  AVATARS: 'avatars',\r\n} as const;\r\n\r\n// Preserve table names\r\nexport const TABLES = {\r\n  USERS: 'users',\r\n  DOCUMENTS: 'documents',\r\n  CHATS: 'chats',\r\n  NOTIFICATIONS: 'notifications',\r\n} as const;\r\n\r\nclass AuthServiceImpl implements AuthService {\r\n  private client: SupabaseClient | null = null;\r\n  private initialized = false;\r\n\r\n  async ensureInitialized(): Promise<void> {\r\n    if (!this.initialized) {\r\n      this.client = await getSupabaseClient();\r\n      this.initialized = true;\r\n    }\r\n  }\r\n\r\n  async signIn(email: string, password: string) {\r\n    await this.ensureInitialized();\r\n    if (!this.client) throw new Error('Supabase client not initialized');\r\n\r\n    console.log('🔐 Attempting sign in with email:', email);\r\n    const { data, error } = await this.client.auth.signInWithPassword({\r\n      email,\r\n      password,\r\n    });\r\n\r\n    if (error) {\r\n      console.error('❌ Sign in error:', error);\r\n      throw error;\r\n    }\r\n\r\n    console.log('✅ Sign in successful:', data.user?.email);\r\n    return data;\r\n  }\r\n\r\n  async signUp(email: string, password: string, userData: any) {\r\n    await this.ensureInitialized();\r\n    if (!this.client) throw new Error('Supabase client not initialized');\r\n\r\n    console.log('🔐 Attempting sign up with email:', email, 'userData:', userData);\r\n    const { data, error } = await this.client.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n        data: userData,\r\n      },\r\n    });\r\n\r\n    if (error) {\r\n      console.error('❌ Sign up error:', error);\r\n      throw error;\r\n    }\r\n\r\n    console.log('✅ Sign up successful:', data.user?.email);\r\n\r\n    // Try to create user profile in our users table (preserves existing logic)\r\n    if (data.user) {\r\n      try {\r\n        console.log('🔧 Creating user profile in database...');\r\n        const { error: profileError } = await this.client\r\n          .from(TABLES.USERS)\r\n          .insert({\r\n            id: data.user.id,\r\n            email: data.user.email,\r\n            first_name: userData.first_name || '',\r\n            last_name: userData.last_name || '',\r\n            points: 0,\r\n            is_premium: false,\r\n          });\r\n\r\n        if (profileError) {\r\n          console.error('❌ Failed to create user profile:', profileError);\r\n        } else {\r\n          console.log('✅ User profile created successfully');\r\n        }\r\n      } catch (profileError) {\r\n        console.error('❌ Error creating user profile:', profileError);\r\n      }\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  async signInWithGoogle() {\r\n    await this.ensureInitialized();\r\n    if (!this.client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await this.client.auth.signInWithOAuth({\r\n      provider: 'google',\r\n      options: {\r\n        redirectTo: window.location.origin,\r\n      },\r\n    });\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async signOut() {\r\n    await this.ensureInitialized();\r\n    if (!this.client) throw new Error('Supabase client not initialized');\r\n\r\n    const { error } = await this.client.auth.signOut();\r\n    if (error) throw error;\r\n  }\r\n\r\n  async getCurrentUser(): Promise<User | null> {\r\n    await this.ensureInitialized();\r\n    if (!this.client) throw new Error('Supabase client not initialized');\r\n\r\n    const {\r\n      data: { user },\r\n    } = await this.client.auth.getUser();\r\n    return user;\r\n  }\r\n\r\n  onAuthStateChange(callback: (event: string, session: Session | null) => void) {\r\n    // If not initialized, initialize first then set up listener\r\n    if (!this.initialized || !this.client) {\r\n      console.log('🔧 AuthService: Initializing before setting up auth listener...');\r\n      this.ensureInitialized().then(() => {\r\n        if (this.client) {\r\n          console.log('🔧 AuthService: Setting up auth state change listener');\r\n          const {\r\n            data: { subscription },\r\n          } = this.client.auth.onAuthStateChange(callback);\r\n          \r\n          // Store unsubscribe for this specific subscription\r\n          const unsubscribe = () => subscription.unsubscribe();\r\n          this._subscriptions.push(unsubscribe);\r\n        }\r\n      }).catch(error => {\r\n        console.error('❌ AuthService: Failed to initialize for auth state change:', error);\r\n      });\r\n      \r\n      // Return no-op unsubscribe for now\r\n      return () => {};\r\n    }\r\n\r\n    console.log('🔧 AuthService: Setting up auth state change listener');\r\n    const {\r\n      data: { subscription },\r\n    } = this.client.auth.onAuthStateChange(callback);\r\n\r\n    const unsubscribe = () => subscription.unsubscribe();\r\n    this._subscriptions.push(unsubscribe);\r\n    \r\n    return unsubscribe;\r\n  }\r\n\r\n  private _subscriptions: (() => void)[] = [];\r\n\r\n  // Clean up all subscriptions\r\n  cleanup() {\r\n    this._subscriptions.forEach(unsubscribe => unsubscribe());\r\n    this._subscriptions = [];\r\n  }\r\n\r\n  // Expose client for backward compatibility\r\n  getClient(): SupabaseClient | null {\r\n    return this.client;\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nexport const authService = new AuthServiceImpl();\r\n\r\n// Initialize on module load for compatibility\r\nauthService.ensureInitialized().catch(console.error);\r\n","import type { Document, User, Chat, Notification, DocumentFormData, LostReportFormData, FoundReportFormData } from '@/lib/types';\r\nimport { authService, TABLES } from '@/lib/services/AuthService';\r\n\r\nclass DatabaseAPI {\r\n  // User functions - preserving existing logic\r\n  async createUserProfile(user: any): Promise<User> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.USERS)\r\n      .insert([{\r\n        id: user.id,\r\n        email: user.email,\r\n        first_name: user.user_metadata?.first_name || '',\r\n        last_name: user.user_metadata?.last_name || '',\r\n        points: 0,\r\n        is_premium: false,\r\n        created_at: new Date().toISOString(),\r\n      }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async getUserProfile(userId: string): Promise<User> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.USERS)\r\n      .select('*')\r\n      .eq('id', userId)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async updateUserProfile(userId: string, updates: Partial<User>): Promise<User> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.USERS)\r\n      .update({ ...updates, updated_at: new Date().toISOString() })\r\n      .eq('id', userId)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  // Document functions - preserving existing business logic\r\n  async createDocument(documentData: Partial<Document>): Promise<Document> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.DOCUMENTS)\r\n      .insert([{\r\n        ...documentData,\r\n        created_at: new Date().toISOString(),\r\n      }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async getUserDocuments(userId: string): Promise<Document[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.DOCUMENTS)\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (error) throw error;\r\n    return data || [];\r\n  }\r\n\r\n  async getDocumentById(documentId: string): Promise<Document> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.DOCUMENTS)\r\n      .select('*')\r\n      .eq('id', documentId)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async updateDocument(documentId: string, updates: Partial<Document>): Promise<Document> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.DOCUMENTS)\r\n      .update({ ...updates, updated_at: new Date().toISOString() })\r\n      .eq('id', documentId)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async deleteDocument(documentId: string): Promise<void> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { error } = await client\r\n      .from(TABLES.DOCUMENTS)\r\n      .delete()\r\n      .eq('id', documentId);\r\n\r\n    if (error) throw error;\r\n  }\r\n\r\n  // Feed functions - preserving existing filters\r\n  async getLostDocuments(filters: { type?: string; search?: string; limit?: number } = {}): Promise<Document[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    let query = client\r\n      .from(TABLES.DOCUMENTS)\r\n      .select('*')\r\n      .eq('status', 'lost')\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (filters.type) {\r\n      query = query.eq('type', filters.type);\r\n    }\r\n\r\n    if (filters.search) {\r\n      query = query.or(`name.ilike.%${filters.search}%,description.ilike.%${filters.search}%,location.ilike.%${filters.search}%`);\r\n    }\r\n\r\n    if (filters.limit) {\r\n      query = query.limit(filters.limit);\r\n    }\r\n\r\n    const { data, error } = await query;\r\n    if (error) throw error;\r\n    return data || [];\r\n  }\r\n\r\n  async getFoundDocuments(filters: { type?: string; search?: string; limit?: number } = {}): Promise<Document[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    let query = client\r\n      .from(TABLES.DOCUMENTS)\r\n      .select('*')\r\n      .eq('status', 'found')\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (filters.type) {\r\n      query = query.eq('type', filters.type);\r\n    }\r\n\r\n    if (filters.search) {\r\n      query = query.or(`name.ilike.%${filters.search}%,description.ilike.%${filters.search}%,location.ilike.%${filters.search}%`);\r\n    }\r\n\r\n    if (filters.limit) {\r\n      query = query.limit(filters.limit);\r\n    }\r\n\r\n    const { data, error } = await query;\r\n    if (error) throw error;\r\n    return data || [];\r\n  }\r\n\r\n  // Chat functions - preserving existing structure\r\n  async createChat(chatData: Partial<Chat>): Promise<Chat> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.CHATS)\r\n      .insert([{\r\n        ...chatData,\r\n        created_at: new Date().toISOString(),\r\n      }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async getChatMessages(chatId: string): Promise<ChatMessage[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from('chat_messages')\r\n      .select('*')\r\n      .eq('chat_id', chatId)\r\n      .order('created_at', { ascending: true });\r\n\r\n    if (error) throw error;\r\n    return data || [];\r\n  }\r\n\r\n  async getUserChats(userId: string): Promise<Chat[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from('chats')\r\n      .select(`\r\n        *,\r\n        documents (name, status, type),\r\n        chat_messages (content, created_at)\r\n      `)\r\n      .contains('participant_ids', [userId])\r\n      .order('updated_at', { ascending: false });\r\n\r\n    if (error) throw error;\r\n\r\n    return data?.map(chat => ({\r\n      id: chat.id,\r\n      document_id: chat.document_id,\r\n      document_name: chat.documents?.name || 'Documento Desconhecido',\r\n      document_status: chat.documents?.status || 'unknown',\r\n      participant_ids: chat.participant_ids,\r\n      other_user_name: this.getOtherUserName(chat.participant_ids, userId),\r\n      last_message: chat.chat_messages?.[0]?.content || null,\r\n      last_message_time: chat.chat_messages?.[0]?.created_at || null,\r\n      created_at: chat.created_at,\r\n      updated_at: chat.updated_at,\r\n    })) || [];\r\n  }\r\n\r\n  async sendChatMessage(messageData: {\r\n    chat_id: string;\r\n    sender_id: string;\r\n    content: string;\r\n    created_at: string;\r\n  }): Promise<ChatMessage> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from('chat_messages')\r\n      .insert(messageData)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  private getOtherUserName(participantIds: string[], currentUserId: string): string {\r\n    const otherUserId = participantIds.find(id => id !== currentUserId);\r\n    return otherUserId ? `Usuário ${otherUserId.slice(-4)}` : 'Usuário Desconhecido';\r\n  }\r\n\r\n  // Notification functions - preserving existing structure\r\n  async createNotification(notificationData: Partial<Notification>): Promise<Notification> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.NOTIFICATIONS)\r\n      .insert([{\r\n        ...notificationData,\r\n        created_at: new Date().toISOString(),\r\n      }])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async getUserNotifications(userId: string): Promise<Notification[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client\r\n      .from(TABLES.NOTIFICATIONS)\r\n      .select('*')\r\n      .eq('user_id', userId)\r\n      .order('created_at', { ascending: false })\r\n      .limit(50);\r\n\r\n    if (error) throw error;\r\n    return data || [];\r\n  }\r\n\r\n  async markNotificationAsRead(notificationId: string): Promise<void> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { error } = await client\r\n      .from(TABLES.NOTIFICATIONS)\r\n      .update({ read: true, updated_at: new Date().toISOString() })\r\n      .eq('id', notificationId);\r\n\r\n    if (error) throw error;\r\n  }\r\n\r\n  // Premium gating check - preserving business logic\r\n  async checkDocumentLimits(userId: string): Promise<{ canAdd: boolean; current: number; limit: number }> {\r\n    const [userProfile, userDocs] = await Promise.all([\r\n      this.getUserProfile(userId),\r\n      this.getUserDocuments(userId),\r\n    ]);\r\n\r\n    const normalDocs = userDocs.filter(doc => doc.status === 'normal');\r\n    const limit = userProfile.is_premium ? Infinity : 1;\r\n    \r\n    return {\r\n      canAdd: normalDocs.length < limit,\r\n      current: normalDocs.length,\r\n      limit: userProfile.is_premium ? -1 : limit, // -1 for unlimited\r\n    };\r\n  }\r\n\r\n  // Test database connection\r\n  async testConnection(): Promise<boolean> {\r\n    try {\r\n      const client = authService.getClient();\r\n      if (!client) return false;\r\n\r\n      const { error } = await client\r\n        .from(TABLES.USERS)\r\n        .select('count')\r\n        .limit(1);\r\n\r\n      return !error;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport const databaseAPI = new DatabaseAPI();\r\n","import { useState, useEffect } from 'react';\r\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport type { User, AuthState } from '@/lib/types';\r\nimport { authService } from '@/lib/services/AuthService';\r\nimport { databaseAPI } from '@/lib/api/database';\r\n\r\nexport function useAuth() {\r\n  const [authState, setAuthState] = useState<AuthState>({\r\n    user: null,\r\n    profile: null,\r\n    isLoading: true,\r\n    isAuthenticated: false,\r\n  });\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  // Query for user profile\r\n  const { data: profile, isLoading: profileLoading } = useQuery({\r\n    queryKey: ['user-profile', authState.user?.id],\r\n    queryFn: () => authState.user ? databaseAPI.getUserProfile(authState.user.id) : null,\r\n    enabled: !!authState.user && authState.isAuthenticated,\r\n    retry: (failureCount, error: any) => {\r\n      // If profile doesn't exist, try to create it\r\n      if (error?.code === 'PGRST116' && failureCount === 0) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Set up auth state listener\r\n    const unsubscribe = authService.onAuthStateChange(async (event, session) => {\r\n      console.log('🔐 Auth state changed:', event, session);\r\n\r\n      try {\r\n        if (event === 'SIGNED_IN' && session?.user) {\r\n          console.log('👤 Processing SIGNED_IN event for:', session.user.email);\r\n          \r\n          setAuthState(prev => ({\r\n            ...prev,\r\n            user: session.user,\r\n            isAuthenticated: true,\r\n            isLoading: false,\r\n          }));\r\n\r\n          // Invalidate profile query to refetch\r\n          queryClient.invalidateQueries({ queryKey: ['user-profile', session.user.id] });\r\n\r\n        } else if (event === 'SIGNED_OUT') {\r\n          console.log('👤 Processing SIGNED_OUT event');\r\n          \r\n          setAuthState({\r\n            user: null,\r\n            profile: null,\r\n            isLoading: false,\r\n            isAuthenticated: false,\r\n          });\r\n\r\n          // Clear all cached data\r\n          queryClient.clear();\r\n\r\n        } else if (event === 'INITIAL_SESSION') {\r\n          if (session?.user) {\r\n            console.log('👤 User already logged in:', session.user.email);\r\n            \r\n            setAuthState(prev => ({\r\n              ...prev,\r\n              user: session.user,\r\n              isAuthenticated: true,\r\n              isLoading: false,\r\n            }));\r\n\r\n            // Invalidate profile query to refetch\r\n            queryClient.invalidateQueries({ queryKey: ['user-profile', session.user.id] });\r\n          } else {\r\n            console.log('👤 No user logged in');\r\n            setAuthState(prev => ({\r\n              ...prev,\r\n              isLoading: false,\r\n            }));\r\n          }\r\n        } else if (event === 'TOKEN_REFRESHED') {\r\n          console.log('🔄 Token refreshed');\r\n          // User state should remain the same\r\n        }\r\n      } catch (error) {\r\n        console.error('❌ Error processing auth event:', event, error);\r\n        setAuthState(prev => ({\r\n          ...prev,\r\n          isLoading: false,\r\n        }));\r\n      }\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [queryClient]);\r\n\r\n  // Update auth state when profile is loaded\r\n  useEffect(() => {\r\n    if (profile && authState.user) {\r\n      setAuthState(prev => ({\r\n        ...prev,\r\n        profile,\r\n      }));\r\n    }\r\n  }, [profile, authState.user]);\r\n\r\n  // Auth methods\r\n  const signIn = async (email: string, password: string) => {\r\n    setAuthState(prev => ({ ...prev, isLoading: true }));\r\n    try {\r\n      await authService.signIn(email, password);\r\n      // Auth state will be updated by the listener\r\n    } catch (error) {\r\n      setAuthState(prev => ({ ...prev, isLoading: false }));\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const signUp = async (email: string, password: string, userData: any) => {\r\n    setAuthState(prev => ({ ...prev, isLoading: true }));\r\n    try {\r\n      await authService.signUp(email, password, userData);\r\n      // Auth state will be updated by the listener\r\n    } catch (error) {\r\n      setAuthState(prev => ({ ...prev, isLoading: false }));\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const signInWithGoogle = async () => {\r\n    setAuthState(prev => ({ ...prev, isLoading: true }));\r\n    try {\r\n      await authService.signInWithGoogle();\r\n      // Auth state will be updated by the listener\r\n    } catch (error) {\r\n      setAuthState(prev => ({ ...prev, isLoading: false }));\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const signOut = async () => {\r\n    try {\r\n      await authService.signOut();\r\n      // Auth state will be updated by the listener\r\n    } catch (error) {\r\n      console.error('Sign out error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Only consider profile loading if user is authenticated\r\n  const finalIsLoading = authState.isLoading || (authState.isAuthenticated && profileLoading);\r\n  \r\n  console.log('🔍 useAuth: Final state:', {\r\n    isAuthenticated: authState.isAuthenticated,\r\n    isLoading: finalIsLoading,\r\n    authStateLoading: authState.isLoading,\r\n    profileLoading,\r\n    user: !!authState.user,\r\n    finalIsLoading\r\n  });\r\n\r\n  return {\r\n    ...authState,\r\n    profile,\r\n    isLoading: finalIsLoading,\r\n    signIn,\r\n    signUp,\r\n    signInWithGoogle,\r\n    signOut,\r\n  };\r\n}\r\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import React from 'react';\r\nimport { clsx } from 'clsx';\r\n\r\nexport interface LoadingSpinnerProps {\r\n  size?: 'sm' | 'md' | 'lg' | 'xl';\r\n  className?: string;\r\n  color?: 'primary' | 'secondary' | 'white';\r\n}\r\n\r\nconst LoadingSpinner: React.FC<LoadingSpinnerProps> = ({\r\n  size = 'md',\r\n  className,\r\n  color = 'primary',\r\n}) => {\r\n  const sizes = {\r\n    sm: 'w-4 h-4',\r\n    md: 'w-6 h-6',\r\n    lg: 'w-8 h-8',\r\n    xl: 'w-12 h-12',\r\n  };\r\n\r\n  const colors = {\r\n    primary: 'border-primary-500',\r\n    secondary: 'border-secondary-500',\r\n    white: 'border-white',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        'inline-block animate-spin rounded-full border-2 border-transparent border-t-current',\r\n        sizes[size],\r\n        colors[color],\r\n        className\r\n      )}\r\n      role=\"status\"\r\n      aria-label=\"Loading\"\r\n    >\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport interface LoadingOverlayProps {\r\n  isLoading: boolean;\r\n  message?: string;\r\n  className?: string;\r\n}\r\n\r\nexport const LoadingOverlay: React.FC<LoadingOverlayProps> = ({\r\n  isLoading,\r\n  message = 'Loading...',\r\n  className,\r\n}) => {\r\n  if (!isLoading) return null;\r\n\r\n  return (\r\n    <div\r\n      className={clsx(\r\n        'fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50',\r\n        className\r\n      )}\r\n    >\r\n      <div className=\"bg-white dark:bg-secondary-800 rounded-lg p-6 shadow-xl\">\r\n        <div className=\"flex flex-col items-center space-y-3\">\r\n          <LoadingSpinner size=\"lg\" />\r\n          <p className=\"text-secondary-600 dark:text-secondary-400 text-sm font-medium\">\r\n            {message}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { LoadingSpinner };\r\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport { forwardRef, createElement } from 'react';\nimport defaultAttributes from './defaultAttributes.mjs';\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst createLucideIcon = (iconName, iconNode) => {\n  const Component = forwardRef(\n    ({ color = \"currentColor\", size = 24, strokeWidth = 2, absoluteStrokeWidth, children, ...rest }, ref) => createElement(\n      \"svg\",\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,\n        className: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]) || []\n      ]\n    )\n  );\n  Component.displayName = `${iconName}`;\n  return Component;\n};\nvar createLucideIcon$1 = createLucideIcon;\n\nexport { createLucideIcon$1 as default, toKebabCase };\n//# sourceMappingURL=createLucideIcon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertCircle = createLucideIcon(\"AlertCircle\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { AlertCircle as default };\n//# sourceMappingURL=alert-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst AlertTriangle = createLucideIcon(\"AlertTriangle\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\",\n      key: \"c3ski4\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { AlertTriangle as default };\n//# sourceMappingURL=alert-triangle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Bell = createLucideIcon(\"Bell\", [\n  [\"path\", { d: \"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9\", key: \"1qo2s2\" }],\n  [\"path\", { d: \"M10.3 21a1.94 1.94 0 0 0 3.4 0\", key: \"qgo35s\" }]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Calendar = createLucideIcon(\"Calendar\", [\n  [\n    \"rect\",\n    {\n      width: \"18\",\n      height: \"18\",\n      x: \"3\",\n      y: \"4\",\n      rx: \"2\",\n      ry: \"2\",\n      key: \"eu3xkr\"\n    }\n  ],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"2\", y2: \"6\", key: \"m3sa8f\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"2\", y2: \"6\", key: \"18kwsl\" }],\n  [\"line\", { x1: \"3\", x2: \"21\", y1: \"10\", y2: \"10\", key: \"xt86sb\" }]\n]);\n\nexport { Calendar as default };\n//# sourceMappingURL=calendar.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Camera = createLucideIcon(\"Camera\", [\n  [\n    \"path\",\n    {\n      d: \"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z\",\n      key: \"1tc9qg\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"13\", r: \"3\", key: \"1vg3eu\" }]\n]);\n\nexport { Camera as default };\n//# sourceMappingURL=camera.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Check = createLucideIcon(\"Check\", [\n  [\"polyline\", { points: \"20 6 9 17 4 12\", key: \"10jjfj\" }]\n]);\n\nexport { Check as default };\n//# sourceMappingURL=check.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Crown = createLucideIcon(\"Crown\", [\n  [\"path\", { d: \"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14\", key: \"zkxr6b\" }]\n]);\n\nexport { Crown as default };\n//# sourceMappingURL=crown.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Download = createLucideIcon(\"Download\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n]);\n\nexport { Download as default };\n//# sourceMappingURL=download.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Eye = createLucideIcon(\"Eye\", [\n  [\n    \"path\",\n    { d: \"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\", key: \"rwhkz3\" }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst FileText = createLucideIcon(\"FileText\", [\n  [\n    \"path\",\n    {\n      d: \"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\",\n      key: \"1nnpy2\"\n    }\n  ],\n  [\"polyline\", { points: \"14 2 14 8 20 8\", key: \"1ew0cm\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"13\", y2: \"13\", key: \"14keom\" }],\n  [\"line\", { x1: \"16\", x2: \"8\", y1: \"17\", y2: \"17\", key: \"17nazh\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"9\", y2: \"9\", key: \"1a5vjj\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Filter = createLucideIcon(\"Filter\", [\n  [\n    \"polygon\",\n    { points: \"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3\", key: \"1yg77f\" }\n  ]\n]);\n\nexport { Filter as default };\n//# sourceMappingURL=filter.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Heart = createLucideIcon(\"Heart\", [\n  [\n    \"path\",\n    {\n      d: \"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\",\n      key: \"c3ymky\"\n    }\n  ]\n]);\n\nexport { Heart as default };\n//# sourceMappingURL=heart.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Layers = createLucideIcon(\"Layers\", [\n  [\"polygon\", { points: \"12 2 2 7 12 12 22 7 12 2\", key: \"1b0ttc\" }],\n  [\"polyline\", { points: \"2 17 12 22 22 17\", key: \"imjtdl\" }],\n  [\"polyline\", { points: \"2 12 12 17 22 12\", key: \"5dexcv\" }]\n]);\n\nexport { Layers as default };\n//# sourceMappingURL=layers.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst LogOut = createLucideIcon(\"LogOut\", [\n  [\"path\", { d: \"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\", key: \"1uf3rs\" }],\n  [\"polyline\", { points: \"16 17 21 12 16 7\", key: \"1gabdz\" }],\n  [\"line\", { x1: \"21\", x2: \"9\", y1: \"12\", y2: \"12\", key: \"1uyos4\" }]\n]);\n\nexport { LogOut as default };\n//# sourceMappingURL=log-out.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst MapPin = createLucideIcon(\"MapPin\", [\n  [\n    \"path\",\n    { d: \"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\", key: \"2oe9fu\" }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"10\", r: \"3\", key: \"ilqhr7\" }]\n]);\n\nexport { MapPin as default };\n//# sourceMappingURL=map-pin.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Menu = createLucideIcon(\"Menu\", [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"12\", y2: \"12\", key: \"1e0a9i\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"6\", y2: \"6\", key: \"1owob3\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"18\", y2: \"18\", key: \"yk5zj1\" }]\n]);\n\nexport { Menu as default };\n//# sourceMappingURL=menu.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst MessageCircle = createLucideIcon(\"MessageCircle\", [\n  [\"path\", { d: \"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z\", key: \"v2veuj\" }]\n]);\n\nexport { MessageCircle as default };\n//# sourceMappingURL=message-circle.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Moon = createLucideIcon(\"Moon\", [\n  [\"path\", { d: \"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\", key: \"a7tn18\" }]\n]);\n\nexport { Moon as default };\n//# sourceMappingURL=moon.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Navigation = createLucideIcon(\"Navigation\", [\n  [\"polygon\", { points: \"3 11 22 2 13 21 11 13 3 11\", key: \"1ltx0t\" }]\n]);\n\nexport { Navigation as default };\n//# sourceMappingURL=navigation.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst PenSquare = createLucideIcon(\"PenSquare\", [\n  [\n    \"path\",\n    {\n      d: \"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\",\n      key: \"1qinfi\"\n    }\n  ],\n  [\n    \"path\",\n    { d: \"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z\", key: \"w2jsv5\" }\n  ]\n]);\n\nexport { PenSquare as default };\n//# sourceMappingURL=pen-square.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst RefreshCw = createLucideIcon(\"RefreshCw\", [\n  [\n    \"path\",\n    { d: \"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8\", key: \"v9h5vc\" }\n  ],\n  [\"path\", { d: \"M21 3v5h-5\", key: \"1q7to0\" }],\n  [\n    \"path\",\n    { d: \"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16\", key: \"3uifl3\" }\n  ],\n  [\"path\", { d: \"M8 16H3v5\", key: \"1cv678\" }]\n]);\n\nexport { RefreshCw as default };\n//# sourceMappingURL=refresh-cw.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\",\n      key: \"1owoqh\"\n    }\n  ],\n  [\"polyline\", { points: \"17 21 17 13 7 13 7 21\", key: \"1md35c\" }],\n  [\"polyline\", { points: \"7 3 7 8 15 8\", key: \"8nz8an\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Search = createLucideIcon(\"Search\", [\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"8\", key: \"4ej97u\" }],\n  [\"path\", { d: \"m21 21-4.3-4.3\", key: \"1qie3q\" }]\n]);\n\nexport { Search as default };\n//# sourceMappingURL=search.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Send = createLucideIcon(\"Send\", [\n  [\"path\", { d: \"m22 2-7 20-4-9-9-4Z\", key: \"1q3vgg\" }],\n  [\"path\", { d: \"M22 2 11 13\", key: \"nzbqef\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Shield = createLucideIcon(\"Shield\", [\n  [\"path\", { d: \"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z\", key: \"3xmgem\" }]\n]);\n\nexport { Shield as default };\n//# sourceMappingURL=shield.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Sun = createLucideIcon(\"Sun\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"4\", key: \"4exip2\" }],\n  [\"path\", { d: \"M12 2v2\", key: \"tus03m\" }],\n  [\"path\", { d: \"M12 20v2\", key: \"1lh1kg\" }],\n  [\"path\", { d: \"m4.93 4.93 1.41 1.41\", key: \"149t6j\" }],\n  [\"path\", { d: \"m17.66 17.66 1.41 1.41\", key: \"ptbguv\" }],\n  [\"path\", { d: \"M2 12h2\", key: \"1t8f8n\" }],\n  [\"path\", { d: \"M20 12h2\", key: \"1q8mjw\" }],\n  [\"path\", { d: \"m6.34 17.66-1.41 1.41\", key: \"1m8zz5\" }],\n  [\"path\", { d: \"m19.07 4.93-1.41 1.41\", key: \"1shlcs\" }]\n]);\n\nexport { Sun as default };\n//# sourceMappingURL=sun.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst User = createLucideIcon(\"User\", [\n  [\"path\", { d: \"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2\", key: \"975kel\" }],\n  [\"circle\", { cx: \"12\", cy: \"7\", r: \"4\", key: \"17ys0d\" }]\n]);\n\nexport { User as default };\n//# sourceMappingURL=user.mjs.map\n","/**\n * lucide-react v0.0.1 - ISC\n */\n\nimport createLucideIcon from '../createLucideIcon.mjs';\n\nconst X = createLucideIcon(\"X\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.mjs.map\n","// Portuguese translations - preserving existing keys from translations.js\r\nexport const ptTranslations = {\r\n  // Navigation\r\n  nav: {\r\n    home: 'Início',\r\n    my_docs: 'Meus Docs',\r\n    lost: 'Perdidos',\r\n    found: 'Encontrados',\r\n    profile: 'Perfil',\r\n    report_lost: 'Relatar Perda',\r\n    report_found: 'Relatar Encontrado',\r\n    chat: 'Chat',\r\n    map: 'Mapa',\r\n    reset: 'Reset',\r\n    logout: 'Sair',\r\n    upgrade: 'Premium',\r\n    feed: 'Feed',\r\n    language: 'Idioma',\r\n    light_mode: 'Modo Claro',\r\n    dark_mode: 'Modo Escuro',\r\n  },\r\n\r\n  // Login & Auth\r\n  login: {\r\n    title: 'FindMyDocs',\r\n    subtitle: 'Sistema de gestão de documentos perdidos e encontrados',\r\n    email: 'Email',\r\n    password: 'Senha',\r\n    login_button: 'Entrar',\r\n    signup_button: 'Criar Conta',\r\n    google_button: 'Continuar com Google',\r\n  },\r\n\r\n  // Signup\r\n  signup: {\r\n    title: 'Criar Conta',\r\n    first_name: 'Nome',\r\n    last_name: 'Sobrenome',\r\n    email: 'Email',\r\n    password: 'Senha (mín. 6 caracteres)',\r\n    create_button: 'Criar Conta',\r\n  },\r\n\r\n  // Welcome\r\n  welcome: {\r\n    title: 'Bem-vindo!',\r\n    tips_title: 'Dicas para Usar o FindMyDocs',\r\n    points: 'Pontos',\r\n    activity_points: 'Seus Pontos de Atividade',\r\n    earn_points: 'Ganhe 100 pontos para uma verificação de documento gratuita!',\r\n    help_others: 'Ganhe pontos ajudando outras pessoas a encontrarem seus documentos perdidos.',\r\n    learn_more: 'Saber mais',\r\n    free_plan: 'Plano Grátis',\r\n    current: 'Atual',\r\n    plan_description: 'Apenas armazenamento de carteira de identidade disponível',\r\n    upgrade: 'Atualizar',\r\n    add_document: 'Adicionar Novo Documento',\r\n  },\r\n\r\n  // Tips\r\n  tip: {\r\n    safe_location: {\r\n      title: 'Encontre em Locais Seguros',\r\n      description: 'Sempre se encontre em delegacias, edifícios governamentais ou locais públicos ao trocar documentos.',\r\n    },\r\n    verify_ownership: {\r\n      title: 'Verificar Propriedade',\r\n      description: 'Peça identificação adicional para verificar a propriedade antes de devolver documentos.',\r\n    },\r\n  },\r\n\r\n  // Documents\r\n  documents: {\r\n    title: 'Seus Documentos',\r\n    subtitle: 'Gerencie seus documentos importantes',\r\n    add: 'Adicionar Documento',\r\n    adding: 'Adicionando...',\r\n    total: 'total',\r\n    no_documents: 'Nenhum documento adicionado ainda',\r\n    empty_title: 'Nenhum documento registrado',\r\n    empty_description: 'Comece adicionando seu primeiro documento importante',\r\n    no_results: 'Nenhum resultado encontrado',\r\n    no_results_desc: 'Tente ajustar sua pesquisa',\r\n    search_placeholder: 'Pesquisar documentos...',\r\n    add_first: 'Clique em \"Adicionar Documento\" para começar',\r\n    view: 'Ver',\r\n    edit: 'Editar',\r\n    mark_lost: 'Marcar como Perdido',\r\n    contact: 'Contatar',\r\n    name: 'Nome do Documento',\r\n    name_placeholder: 'Ex: Bilhete de Identidade',\r\n    number: 'Número do Documento',\r\n    number_placeholder: 'Ex: 123456789BA123',\r\n    type: 'Tipo de Documento',\r\n    description: 'Descrição',\r\n    description_placeholder: 'Informações adicionais sobre o documento (opcional)',\r\n    files: 'Arquivos',\r\n    optional: 'opcional',\r\n    selected_files: 'Arquivos selecionados',\r\n    drag_drop_or: 'Arraste e solte arquivos aqui ou',\r\n    browse_files: 'procurar arquivos',\r\n    max_5_files: 'Máximo 5 arquivos',\r\n    max_5mb_each: 'Máximo 5MB cada',\r\n    missing_required_fields: 'Por favor, preencha todos os campos obrigatórios',\r\n    free_limit_reached: 'Limite do plano gratuito atingido',\r\n    upgrade_for_unlimited: 'Faça upgrade para documentos ilimitados',\r\n  },\r\n\r\n  // Document Modal\r\n  document: {\r\n    modal_title: 'Adicionar Documento',\r\n    type: 'Tipo de Documento',\r\n    name: 'Nome do Documento',\r\n    number: 'Número do Documento',\r\n    description: 'Descrição (opcional)',\r\n    upload_image: 'Enviar Arquivo',\r\n    upload_text: 'Clique para enviar ou arraste arquivos',\r\n    upload_camera_hint: 'Você pode tirar uma foto usando a câmera',\r\n    cancel: 'Cancelar',\r\n    save: 'Salvar Documento',\r\n  },\r\n\r\n  // Lost Documents\r\n  lost: {\r\n    title: 'Reportar Documento Perdido',\r\n    subtitle: 'Reporte um documento perdido para ajudar na busca',\r\n    modal_title: 'Reportar Perda',\r\n    document_type: 'Tipo de Documento',\r\n    document_name: 'Nome do Documento',\r\n    document_name_placeholder: 'Nome do documento perdido',\r\n    where_lost: 'Onde foi perdido?',\r\n    location_placeholder: 'Digite o local onde foi perdido',\r\n    additional_details: 'Detalhes adicionais',\r\n    description_placeholder: 'Descreva o documento',\r\n    contact_info: 'Suas informações de contato',\r\n    contact_placeholder: 'Seu telefone ou email para contato',\r\n    report_button_submit: 'Reportar Perda',\r\n    reporting: 'Reportando...',\r\n    all_types: 'Todos os Tipos',\r\n    search_placeholder: 'Buscar documentos...',\r\n    no_documents: 'Nenhum documento perdido',\r\n    be_first: 'Seja o primeiro a reportar',\r\n    upload_camera_hint: 'Você pode tirar uma foto usando a câmera',\r\n    evidence_files: 'Arquivos de Evidência',\r\n    drag_drop_or: 'Arraste e solte arquivos aqui ou',\r\n    browse_files: 'procurar arquivos',\r\n    max_5_files: 'Máximo 5 arquivos',\r\n    max_5mb_each: 'Máximo 5MB cada',\r\n    selected_files: 'Arquivos selecionados',\r\n    missing_required_fields: 'Por favor, preencha todos os campos obrigatórios',\r\n    report_success: 'Documento perdido reportado com sucesso!',\r\n    help_title: 'Como funciona?',\r\n    help_step1: 'Reporte seu documento perdido com detalhes',\r\n    help_step2: 'Outros usuários podem ver no feed de perdidos',\r\n    help_step3: 'Se alguém encontrar, poderá entrar em contato',\r\n    help_step4: 'Você receberá notificações de possíveis matches',\r\n  },\r\n\r\n  // Found Documents  \r\n  found: {\r\n    title: 'Reportar Documento Encontrado',\r\n    subtitle: 'Reporte um documento encontrado para ajudar o proprietário',\r\n    modal_title: 'Reportar Encontrado',\r\n    document_type: 'Tipo de Documento',\r\n    document_name: 'Nome do Documento',\r\n    document_name_placeholder: 'Nome do documento encontrado',\r\n    where_found: 'Onde você o encontrou?',\r\n    location_placeholder: 'Digite o local onde encontrou',\r\n    additional_details: 'Detalhes adicionais',\r\n    description_placeholder: 'Descreva o documento encontrado',\r\n    finder_contact: 'Suas informações de contato',\r\n    contact_placeholder: 'Seu telefone ou email para contato',\r\n    upload_image: 'Enviar imagem (opcional)',\r\n    report_button_submit: 'Enviar Relato de Encontrado',\r\n    reporting: 'Reportando...',\r\n    no_documents: 'Nenhum documento encontrado',\r\n    help_others: 'Ajude outros reportando documentos que você encontrou.',\r\n    upload_camera_hint: 'Você pode tirar uma foto usando a câmera',\r\n    evidence_files: 'Arquivos de Evidência',\r\n    drag_drop_or: 'Arraste e solte arquivos aqui ou',\r\n    browse_files: 'procurar arquivos',\r\n    max_5_files: 'Máximo 5 arquivos',\r\n    max_5mb_each: 'Máximo 5MB cada',\r\n    selected_files: 'Arquivos selecionados',\r\n    missing_required_fields: 'Por favor, preencha todos os campos obrigatórios',\r\n    report_success: 'Documento encontrado reportado com sucesso!',\r\n    help_title: 'Como funciona?',\r\n    help_step1: 'Reporte o documento que você encontrou',\r\n    help_step2: 'Outros usuários podem ver no feed de encontrados',\r\n    help_step3: 'O proprietário poderá entrar em contato',\r\n    help_step4: 'Você ajuda alguém a recuperar seu documento',\r\n  },\r\n\r\n  // Document Types\r\n  type: {\r\n    bi: 'BI (Bilhete de Identidade)',\r\n    passaporte: 'Passaporte',\r\n    carta: 'Carta de Condução',\r\n    outros: 'Outros',\r\n  },\r\n\r\n  // Status\r\n  status: {\r\n    active: 'Ativo',\r\n    normal: 'Normal',\r\n    lost: 'Perdido',\r\n    found: 'Encontrado',\r\n  },\r\n\r\n  // Chat\r\n  chat: {\r\n    title: 'Chat',\r\n    placeholder: 'Digite sua mensagem...',\r\n    send: 'Enviar',\r\n    conversations: 'conversas',\r\n    search_placeholder: 'Pesquisar conversas...',\r\n    no_results: 'Nenhuma conversa encontrada',\r\n    no_conversations: 'Nenhuma conversa ainda',\r\n    unknown_user: 'Usuário Desconhecido',\r\n    no_messages: 'Nenhuma mensagem ainda',\r\n    start_conversation: 'Inicie uma conversa!',\r\n    select_conversation: 'Selecione uma conversa',\r\n    select_conversation_desc: 'Escolha uma conversa da lista para começar a mensagear',\r\n  },\r\n\r\n  // Location\r\n  location: {\r\n    title: 'Selecionar Localização',\r\n    click_map: 'Clique no mapa para selecionar uma localização',\r\n    confirm: 'Confirmar Localização',\r\n    search_placeholder: 'Pesquisar endereço...',\r\n    search: 'Pesquisar',\r\n    use_current: 'Atual',\r\n    selected: 'Localização Selecionada',\r\n    current_location: 'Localização Atual',\r\n    clear: 'Limpar',\r\n    cancel: 'Cancelar',\r\n    map_instructions: 'Clique em qualquer lugar do mapa para definir a localização',\r\n  },\r\n\r\n  // Map\r\n  map: {\r\n    title: 'Mapa de Documentos',\r\n    subtitle: 'Visualize documentos perdidos e encontrados no mapa',\r\n    loading: 'Carregando mapa...',\r\n    initializing: 'Inicializando visualização do mapa',\r\n    search_placeholder: 'Pesquisar por localização...',\r\n    all_status: 'Todos',\r\n    lost_only: 'Apenas Perdidos',\r\n    found_only: 'Apenas Encontrados',\r\n    all_types: 'Todos os Tipos',\r\n    view: 'Visualização',\r\n    view_documents: 'Documentos',\r\n    view_heatmap: 'Mapa de Calor',\r\n    view_clusters: 'Agrupamentos',\r\n    my_location: 'Minha Localização',\r\n    documents_shown: 'documentos',\r\n    legend: 'Legenda',\r\n    nearby_documents: 'Documentos Próximos',\r\n    no_documents_found: 'Nenhum documento encontrado',\r\n  },\r\n\r\n  // Upgrade\r\n  upgrade: {\r\n    title: 'Upgrade para Premium',\r\n    free_plan: 'Plano Grátis',\r\n    premium_plan: 'Premium',\r\n    free_feature1: '1 documento (apenas BI)',\r\n    free_feature2: 'Busca básica',\r\n    premium_feature1: 'Documentos ilimitados',\r\n    premium_feature2: 'Todos os tipos de documento',\r\n    premium_feature3: 'Chat prioritário',\r\n    premium_feature4: 'Notificações push',\r\n    button: 'Upgrade Agora',\r\n  },\r\n\r\n  // Messages\r\n  message: {\r\n    document_added: 'Documento adicionado com sucesso!',\r\n    document_marked_lost: 'Documento marcado como perdido com sucesso!',\r\n    lost_reported: 'Documento perdido reportado com sucesso!',\r\n    found_reported: 'Documento encontrado reportado com sucesso! Obrigado por ajudar!',\r\n    fill_required: 'Por favor, preencha todos os campos obrigatórios.',\r\n    login_success: 'Login realizado com sucesso!',\r\n    confirm_mark_lost: 'Tem certeza de que deseja marcar este documento como perdido? Isso o tornará visível no feed público de documentos perdidos.',\r\n  },\r\n\r\n  // Profile\r\n  profile: {\r\n    title: 'Perfil do Usuário',\r\n    subtitle: 'Gerencie suas informações pessoais e configurações',\r\n    personal_info: 'Informações Pessoais',\r\n    first_name: 'Nome',\r\n    last_name: 'Sobrenome',\r\n    phone: 'Telefone',\r\n    location: 'Localização',\r\n    upload_avatar: 'Enviar',\r\n    update_success: 'Perfil atualizado com sucesso!',\r\n    avatar_success: 'Avatar atualizado com sucesso!',\r\n    status: {\r\n      active: 'Ativo',\r\n    },\r\n    stats: {\r\n      title: 'Estatísticas',\r\n      documents: 'Documentos',\r\n      points: 'Pontos',\r\n      helped: 'Ajudou',\r\n    },\r\n    actions: {\r\n      title: 'Ações',\r\n      backup: {\r\n        title: 'Backup de Dados',\r\n        description: 'Faça backup dos seus documentos',\r\n      },\r\n      notifications: {\r\n        title: 'Notificações',\r\n        description: 'Gerencie suas preferências',\r\n      },\r\n      security: {\r\n        title: 'Segurança',\r\n        description: 'Configurações de segurança da conta',\r\n      },\r\n    },\r\n  },\r\n\r\n  // Feed\r\n  feed: {\r\n    title: 'Feed de Documentos',\r\n    subtitle: 'Veja documentos perdidos e encontrados na sua área',\r\n    search_placeholder: 'Pesquisar documentos...',\r\n    status: 'Status',\r\n    all_status: 'Todos',\r\n    lost_only: 'Apenas Perdidos',\r\n    found_only: 'Apenas Encontrados',\r\n    type: 'Tipo',\r\n    all_types: 'Todos os Tipos',\r\n    loading: 'Carregando...',\r\n    documents_found: 'documentos encontrados',\r\n    no_documents: 'Nenhum documento encontrado',\r\n    no_results_filter: 'Tente ajustar os filtros ou a pesquisa',\r\n    no_documents_desc: 'Não há documentos perdidos ou encontrados no momento',\r\n    file: 'arquivo',\r\n    view_details: 'Ver Detalhes',\r\n    contact: 'Contatar',\r\n    help_title: 'Como funciona o Feed?',\r\n    lost_documents: 'Documentos Perdidos',\r\n    lost_explanation: 'Veja documentos que outras pessoas perderam e ajude-as a encontrá-los.',\r\n    found_documents: 'Documentos Encontrados',\r\n    found_explanation: 'Veja documentos que outras pessoas encontraram e entre em contato se for seu.',\r\n  },\r\n\r\n  // Notifications\r\n  notifications: {\r\n    title: 'Notificações',\r\n    all: 'Todas',\r\n    unread: 'Não lidas',\r\n    mark_all_read: 'Marcar todas como lidas',\r\n    no_unread: 'Nenhuma notificação não lida',\r\n    no_notifications: 'Nenhuma notificação ainda',\r\n    just_now: 'Agora mesmo',\r\n    minutes_ago: '{{minutes}}m atrás',\r\n    hours_ago: '{{hours}}h atrás',\r\n  },\r\n\r\n  // Common\r\n  common: {\r\n    select_type: 'Selecione o tipo',\r\n    loading: 'Carregando...',\r\n    cancel: 'Cancelar',\r\n    location: 'Localização',\r\n    created_at: 'Criado em',\r\n    save: 'Salvar',\r\n    edit: 'Editar',\r\n    delete: 'Eliminar',\r\n    confirm: 'Confirmar',\r\n    close: 'Fechar',\r\n    optional: 'opcional',\r\n  },\r\n\r\n  // Placeholders\r\n  placeholder: {\r\n    phone: 'Ex: 84 123 4567',\r\n  },\r\n} as const;\r\n","// English translations - preserving existing keys from translations.js\r\nexport const enTranslations = {\r\n  // Navigation\r\n  nav: {\r\n    home: 'Home',\r\n    my_docs: 'My Docs',\r\n    lost: 'Lost',\r\n    found: 'Found',\r\n    profile: 'Profile',\r\n    report_lost: 'Report Lost',\r\n    report_found: 'Report Found',\r\n    reset: 'Reset',\r\n    logout: 'Logout',\r\n    upgrade: 'Premium',\r\n    feed: 'Feed',\r\n  },\r\n\r\n  // Login & Auth\r\n  login: {\r\n    title: 'FindMyDocs',\r\n    subtitle: 'Lost and found document management system',\r\n    email: 'Email',\r\n    password: 'Password',\r\n    login_button: 'Login',\r\n    signup_button: 'Create Account',\r\n    google_button: 'Continue with Google',\r\n  },\r\n\r\n  // Signup\r\n  signup: {\r\n    title: 'Create Account',\r\n    first_name: 'First Name',\r\n    last_name: 'Last Name',\r\n    email: 'Email',\r\n    password: 'Password (min. 6 characters)',\r\n    create_button: 'Create Account',\r\n  },\r\n\r\n  // Welcome\r\n  welcome: {\r\n    title: 'Welcome!',\r\n    tips_title: 'Tips for Using FindMyDocs',\r\n    points: 'Points',\r\n    activity_points: 'Your Activity Points',\r\n    earn_points: 'Earn 100 more points for a free document verification!',\r\n    help_others: 'Earn points by helping others find their lost documents.',\r\n    learn_more: 'Learn more',\r\n    free_plan: 'Free Plan',\r\n    current: 'Current',\r\n    plan_description: 'Only ID card storage available',\r\n    upgrade: 'Upgrade',\r\n    add_document: 'Add New Document',\r\n  },\r\n\r\n  // Tips\r\n  tip: {\r\n    safe_location: {\r\n      title: 'Meet in Safe Locations',\r\n      description: 'Always meet at police stations, government buildings, or public places when exchanging documents.',\r\n    },\r\n    verify_ownership: {\r\n      title: 'Verify Ownership',\r\n      description: 'Ask for additional identification to verify ownership before returning documents.',\r\n    },\r\n  },\r\n\r\n  // Documents\r\n  documents: {\r\n    title: 'Your Documents',\r\n    add: 'Add Document',\r\n    total: 'total',\r\n    no_documents: 'No documents added yet',\r\n    add_first: 'Click \"Add Document\" to get started',\r\n    view: 'View',\r\n    edit: 'Edit',\r\n    mark_lost: 'Mark as Lost',\r\n    contact: 'Contact',\r\n  },\r\n\r\n  // Document Modal\r\n  document: {\r\n    modal_title: 'Add Document',\r\n    type: 'Document Type',\r\n    name: 'Document Name',\r\n    number: 'Document Number',\r\n    description: 'Description (optional)',\r\n    upload_image: 'Upload File',\r\n    upload_text: 'Click to upload or drag and drop files',\r\n    upload_camera_hint: 'You can take a photo using your camera',\r\n    cancel: 'Cancel',\r\n    save: 'Save Document',\r\n  },\r\n\r\n  // Lost Documents\r\n  lost: {\r\n    modal_title: 'Report Lost',\r\n    document_type: 'Document Type',\r\n    document_name: 'Document Name',\r\n    where_lost: 'Where was it lost?',\r\n    location_placeholder: 'Enter the location where it was lost',\r\n    additional_details: 'Additional details',\r\n    description_placeholder: 'Describe the document',\r\n    contact_info: 'Your contact information',\r\n    report_button_submit: 'Report Lost',\r\n    all_types: 'All Types',\r\n    search_placeholder: 'Search documents...',\r\n    no_documents: 'No lost documents',\r\n    be_first: 'Be the first to report',\r\n    upload_camera_hint: 'You can take a photo using your camera',\r\n  },\r\n\r\n  // Found Documents\r\n  found: {\r\n    modal_title: 'Report Found',\r\n    document_type: 'Document Type',\r\n    document_name: 'Document Name',\r\n    where_found: 'Where did you find it?',\r\n    location_placeholder: 'Enter the location where you found it',\r\n    additional_details: 'Additional details',\r\n    description_placeholder: 'Describe the found document',\r\n    finder_contact: 'Your contact information',\r\n    upload_image: 'Upload image (optional)',\r\n    report_button_submit: 'Submit Found Report',\r\n    no_documents: 'No found documents',\r\n    help_others: 'Help others by reporting documents you found.',\r\n    upload_camera_hint: 'You can take a photo using your camera',\r\n  },\r\n\r\n  // Document Types\r\n  type: {\r\n    bi: 'ID Card',\r\n    passaporte: 'Passport',\r\n    carta: 'Driver\\'s License',\r\n    outros: 'Others',\r\n  },\r\n\r\n  // Status\r\n  status: {\r\n    active: 'Active',\r\n    normal: 'Normal',\r\n    lost: 'Lost',\r\n    found: 'Found',\r\n  },\r\n\r\n  // Chat\r\n  chat: {\r\n    title: 'Chat',\r\n    placeholder: 'Type your message...',\r\n    send: 'Send',\r\n  },\r\n\r\n  // Location\r\n  location: {\r\n    title: 'Select Location',\r\n    click_map: 'Click on the map to select a location',\r\n    confirm: 'Confirm Location',\r\n  },\r\n\r\n  // Upgrade\r\n  upgrade: {\r\n    title: 'Upgrade to Premium',\r\n    free_plan: 'Free Plan',\r\n    premium_plan: 'Premium',\r\n    free_feature1: '1 document (ID card only)',\r\n    free_feature2: 'Basic search',\r\n    premium_feature1: 'Unlimited documents',\r\n    premium_feature2: 'All document types',\r\n    premium_feature3: 'Priority chat',\r\n    premium_feature4: 'Push notifications',\r\n    button: 'Upgrade Now',\r\n  },\r\n\r\n  // Messages\r\n  message: {\r\n    document_added: 'Document added successfully!',\r\n    document_marked_lost: 'Document marked as lost successfully!',\r\n    lost_reported: 'Lost document reported successfully!',\r\n    found_reported: 'Found document reported successfully! Thank you for helping!',\r\n    fill_required: 'Please fill in all required fields.',\r\n    login_success: 'Login successful!',\r\n    confirm_mark_lost: 'Are you sure you want to mark this document as lost? This will make it visible in the public lost documents feed.',\r\n  },\r\n\r\n  // Profile\r\n  profile: {\r\n    title: 'User Profile',\r\n    status: {\r\n      active: 'Active',\r\n    },\r\n    stats: {\r\n      documents: 'Documents',\r\n      points: 'Points',\r\n      helped: 'Helped',\r\n    },\r\n    actions: {\r\n      backup: {\r\n        title: 'Data Backup',\r\n        description: 'Backup your documents',\r\n      },\r\n      notifications: {\r\n        title: 'Notifications',\r\n        description: 'Manage your preferences',\r\n      },\r\n    },\r\n  },\r\n\r\n  // Common\r\n  common: {\r\n    select_type: 'Select type',\r\n    loading: 'Loading...',\r\n    cancel: 'Cancel',\r\n    location: 'Location',\r\n  },\r\n\r\n  // Placeholders\r\n  placeholder: {\r\n    phone: 'e.g. 555 123 4567',\r\n  },\r\n} as const;\r\n","import { useState, useEffect } from 'react';\r\nimport type { Language } from '@/lib/types';\r\nimport { ptTranslations } from './pt';\r\nimport { enTranslations } from './en';\r\n\r\nconst STORAGE_KEY = 'findmydocs_language';\r\n\r\nconst translations = {\r\n  pt: ptTranslations,\r\n  en: enTranslations,\r\n} as const;\r\n\r\nexport function useTranslation() {\r\n  const [currentLanguage, setCurrentLanguage] = useState<Language>(() => {\r\n    const saved = localStorage.getItem(STORAGE_KEY);\r\n    return (saved as Language) || 'pt';\r\n  });\r\n\r\n  const setLanguage = (lang: Language) => {\r\n    setCurrentLanguage(lang);\r\n    localStorage.setItem(STORAGE_KEY, lang);\r\n    document.documentElement.lang = lang;\r\n  };\r\n\r\n  const t = (key: string): string => {\r\n    const keys = key.split('.');\r\n    let value: any = translations[currentLanguage];\r\n    \r\n    for (const k of keys) {\r\n      value = value?.[k];\r\n      if (value === undefined) break;\r\n    }\r\n    \r\n    // Fallback to Portuguese if not found in current language\r\n    if (value === undefined && currentLanguage !== 'pt') {\r\n      value = translations.pt;\r\n      for (const k of keys) {\r\n        value = value?.[k];\r\n        if (value === undefined) break;\r\n      }\r\n    }\r\n    \r\n    return value || key;\r\n  };\r\n\r\n  // Set initial language on document\r\n  useEffect(() => {\r\n    document.documentElement.lang = currentLanguage;\r\n  }, [currentLanguage]);\r\n\r\n  return {\r\n    currentLanguage,\r\n    setLanguage,\r\n    t,\r\n  };\r\n}\r\n\r\n// Standalone function for use outside components\r\nexport function getTranslation(key: string, lang: Language = 'pt'): string {\r\n  const keys = key.split('.');\r\n  let value: any = translations[lang];\r\n  \r\n  for (const k of keys) {\r\n    value = value?.[k];\r\n    if (value === undefined) break;\r\n  }\r\n  \r\n  // Fallback to Portuguese if not found\r\n  if (value === undefined && lang !== 'pt') {\r\n    value = translations.pt;\r\n    for (const k of keys) {\r\n      value = value?.[k];\r\n      if (value === undefined) break;\r\n    }\r\n  }\r\n  \r\n  return value || key;\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { \r\n  FileText, \r\n  Search, \r\n  AlertTriangle, \r\n  MessageCircle, \r\n  MapPin, \r\n  User \r\n} from 'lucide-react';\r\nimport { clsx } from 'clsx';\r\nimport { useTranslation } from '@/i18n';\r\n\r\nconst navigationItems = [\r\n  {\r\n    path: '/dashboard/documents',\r\n    icon: FileText,\r\n    labelKey: 'nav.my_docs',\r\n  },\r\n  {\r\n    path: '/dashboard/feed',\r\n    icon: Search,\r\n    labelKey: 'nav.feed',\r\n  },\r\n  {\r\n    path: '/dashboard/report-lost',\r\n    icon: AlertTriangle,\r\n    labelKey: 'nav.report_lost',\r\n  },\r\n  {\r\n    path: '/dashboard/chat',\r\n    icon: MessageCircle,\r\n    labelKey: 'nav.chat',\r\n  },\r\n  {\r\n    path: '/dashboard/map',\r\n    icon: MapPin,\r\n    labelKey: 'nav.map',\r\n  },\r\n  {\r\n    path: '/dashboard/profile',\r\n    icon: User,\r\n    labelKey: 'nav.profile',\r\n  },\r\n];\r\n\r\nexport const BottomNavigation: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  \r\n  return (\r\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 safe-area-bottom z-40 shadow-lg\">\r\n      <div className=\"grid grid-cols-6\">\r\n        {navigationItems.map((item) => {\r\n          const Icon = item.icon;\r\n          return (\r\n            <NavLink\r\n              key={item.path}\r\n              to={item.path}\r\n              className={({ isActive }) =>\r\n                clsx(\r\n                  'flex flex-col items-center justify-center py-3 px-1 text-xs transition-all duration-200 touch-target',\r\n                  isActive\r\n                    ? 'text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20'\r\n                    : 'text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-700/50'\r\n                )\r\n              }\r\n            >\r\n              {({ isActive }) => (\r\n                <>\r\n                  <Icon \r\n                    className={clsx(\r\n                      'h-6 w-6 mb-1 transition-transform duration-200',\r\n                      isActive ? 'text-primary-600 dark:text-primary-400 scale-110' : ''\r\n                    )} \r\n                  />\r\n                  <span className=\"leading-none font-medium\">{t(item.labelKey)}</span>\r\n                </>\r\n              )}\r\n            </NavLink>\r\n          );\r\n        })}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { clsx } from 'clsx';\r\n\r\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  isLoading?: boolean;\r\n  leftIcon?: React.ReactNode;\r\n  rightIcon?: React.ReactNode;\r\n  fullWidth?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ \r\n    className, \r\n    variant = 'primary', \r\n    size = 'md', \r\n    isLoading = false,\r\n    leftIcon,\r\n    rightIcon,\r\n    children, \r\n    disabled,\r\n    fullWidth = false,\r\n    ...props \r\n  }, ref) => {\r\n    const baseClasses = 'inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed touch-target';\r\n    \r\n    const variants = {\r\n      primary: 'bg-primary-500 hover:bg-primary-600 text-white focus:ring-primary-500 shadow-soft hover:shadow-medium active:shadow-sm',\r\n      secondary: 'bg-secondary-100 hover:bg-secondary-200 text-secondary-900 focus:ring-secondary-500 dark:bg-secondary-800 dark:hover:bg-secondary-700 dark:text-secondary-100 shadow-soft hover:shadow-medium',\r\n      outline: 'border border-secondary-300 hover:border-secondary-400 text-secondary-700 hover:bg-secondary-50 focus:ring-secondary-500 dark:border-secondary-600 dark:text-secondary-300 dark:hover:bg-secondary-800 shadow-soft hover:shadow-medium',\r\n      ghost: 'text-secondary-700 hover:bg-secondary-100 focus:ring-secondary-500 dark:text-secondary-300 dark:hover:bg-secondary-800',\r\n      danger: 'bg-error-500 hover:bg-error-600 text-white focus:ring-error-500 shadow-soft hover:shadow-medium',\r\n    };\r\n\r\n    const sizes = {\r\n      sm: 'px-3 py-2 text-sm md:px-3 md:py-1.5 md:text-sm',\r\n      md: 'px-4 py-3 text-base md:px-4 md:py-2 md:text-base',\r\n      lg: 'px-6 py-4 text-lg md:px-6 md:py-3 md:text-lg',\r\n    };\r\n\r\n    const isDisabled = disabled || isLoading;\r\n\r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={clsx(\r\n          baseClasses,\r\n          variants[variant],\r\n          sizes[size],\r\n          fullWidth && 'w-full',\r\n          isLoading && 'relative',\r\n          className\r\n        )}\r\n        disabled={isDisabled}\r\n        {...props}\r\n      >\r\n        {isLoading && (\r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <div className=\"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin\" />\r\n          </div>\r\n        )}\r\n        \r\n        <span className={clsx('flex items-center gap-2', isLoading && 'invisible')}>\r\n          {leftIcon && <span className=\"flex-shrink-0\">{leftIcon}</span>}\r\n          <span className=\"whitespace-nowrap\">{children}</span>\r\n          {rightIcon && <span className=\"flex-shrink-0\">{rightIcon}</span>}\r\n        </span>\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\nButton.displayName = 'Button';\r\n\r\nexport { Button };\r\n","import { useMemo } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport type { Entitlements } from '@/lib/types';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { useAuth } from './useAuth';\r\n\r\nexport function useEntitlements(): Entitlements & { isLoading: boolean } {\r\n  const { user, profile } = useAuth();\r\n\r\n  const { data: limits, isLoading } = useQuery({\r\n    queryKey: ['document-limits', user?.id],\r\n    queryFn: () => user ? databaseAPI.checkDocumentLimits(user.id) : null,\r\n    enabled: !!user,\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  });\r\n\r\n  const entitlements = useMemo((): Entitlements => {\r\n    const isPremium = profile?.is_premium ?? false;\r\n\r\n    return {\r\n      canAddDocuments: limits?.canAdd ?? false,\r\n      maxDocuments: isPremium ? -1 : 1, // -1 for unlimited\r\n      canAccessAllDocumentTypes: isPremium,\r\n      hasPriorityChat: isPremium,\r\n      hasPushNotifications: isPremium,\r\n    };\r\n  }, [profile?.is_premium, limits?.canAdd]);\r\n\r\n  return {\r\n    ...entitlements,\r\n    isLoading,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { clsx } from 'clsx';\r\n\r\nexport interface CardProps extends React.HTMLAttributes<HTMLDivElement> {\r\n  variant?: 'default' | 'elevated' | 'outlined';\r\n  padding?: 'sm' | 'md' | 'lg' | 'none';\r\n}\r\n\r\nconst Card = React.forwardRef<HTMLDivElement, CardProps>(\r\n  ({ className, variant = 'default', padding = 'md', children, ...props }, ref) => {\r\n    const baseClasses = 'rounded-lg transition-all duration-200';\r\n    \r\n    const variants = {\r\n      default: 'bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700',\r\n      elevated: 'bg-white dark:bg-secondary-800 shadow-soft hover:shadow-medium border border-secondary-200 dark:border-secondary-700',\r\n      outlined: 'bg-transparent border-2 border-secondary-300 dark:border-secondary-600',\r\n    };\r\n\r\n    const paddings = {\r\n      none: '',\r\n      sm: 'p-3 md:p-4',\r\n      md: 'p-4 md:p-6',\r\n      lg: 'p-6 md:p-8',\r\n    };\r\n\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={clsx(\r\n          baseClasses,\r\n          variants[variant],\r\n          paddings[padding],\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nCard.displayName = 'Card';\r\n\r\nexport interface CardHeaderProps extends React.HTMLAttributes<HTMLDivElement> {}\r\n\r\nconst CardHeader = React.forwardRef<HTMLDivElement, CardHeaderProps>(\r\n  ({ className, children, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      className={clsx('pb-3 md:pb-4 border-b border-secondary-200 dark:border-secondary-700', className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n);\r\n\r\nCardHeader.displayName = 'CardHeader';\r\n\r\nexport interface CardTitleProps extends React.HTMLAttributes<HTMLHeadingElement> {}\r\n\r\nconst CardTitle = React.forwardRef<HTMLHeadingElement, CardTitleProps>(\r\n  ({ className, children, ...props }, ref) => (\r\n    <h3\r\n      ref={ref}\r\n      className={clsx('text-base md:text-lg font-semibold text-secondary-900 dark:text-secondary-100', className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </h3>\r\n  )\r\n);\r\n\r\nCardTitle.displayName = 'CardTitle';\r\n\r\nexport interface CardContentProps extends React.HTMLAttributes<HTMLDivElement> {}\r\n\r\nconst CardContent = React.forwardRef<HTMLDivElement, CardContentProps>(\r\n  ({ className, children, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      className={clsx('pt-3 md:pt-4', className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n);\r\n\r\nCardContent.displayName = 'CardContent';\r\n\r\nexport interface CardFooterProps extends React.HTMLAttributes<HTMLDivElement> {}\r\n\r\nconst CardFooter = React.forwardRef<HTMLDivElement, CardFooterProps>(\r\n  ({ className, children, ...props }, ref) => (\r\n    <div\r\n      ref={ref}\r\n      className={clsx('pt-3 md:pt-4 border-t border-secondary-200 dark:border-secondary-700 flex flex-col sm:flex-row justify-end gap-2', className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n);\r\n\r\nCardFooter.displayName = 'CardFooter';\r\n\r\nexport { Card, CardHeader, CardTitle, CardContent, CardFooter };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Bell, X, Check, AlertTriangle, Info, MessageCircle, MapPin, FileText } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport type { Notification } from '@/lib/types';\r\n\r\ninterface NotificationCenterProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport const NotificationCenter: React.FC<NotificationCenterProps> = ({\r\n  isOpen,\r\n  onClose,\r\n}) => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  \r\n  const [activeTab, setActiveTab] = useState<'all' | 'unread'>('all');\r\n\r\n  console.log('🔔 NotificationCenter: Component rendered for user:', user?.email);\r\n\r\n  // Fetch user notifications\r\n  const { data: notifications, isLoading } = useQuery({\r\n    queryKey: ['user-notifications', user?.id],\r\n    queryFn: () => databaseAPI.getUserNotifications(user?.id || ''),\r\n    enabled: !!user?.id,\r\n  });\r\n\r\n  // Mark notification as read mutation\r\n  const markAsReadMutation = useMutation({\r\n    mutationFn: async (notificationId: string) => {\r\n      await databaseAPI.markNotificationAsRead(notificationId);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['user-notifications', user?.id] });\r\n    },\r\n  });\r\n\r\n  // Mark all notifications as read mutation\r\n  const markAllAsReadMutation = useMutation({\r\n    mutationFn: async () => {\r\n      if (notifications) {\r\n        const unreadNotifications = notifications.filter(n => !n.read);\r\n        await Promise.all(\r\n          unreadNotifications.map(n => databaseAPI.markNotificationAsRead(n.id))\r\n        );\r\n      }\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['user-notifications', user?.id] });\r\n    },\r\n  });\r\n\r\n  // Filter notifications based on active tab\r\n  const filteredNotifications = notifications?.filter(notification => {\r\n    if (activeTab === 'unread') {\r\n      return !notification.read;\r\n    }\r\n    return true;\r\n  }) || [];\r\n\r\n  const unreadCount = notifications?.filter(n => !n.read).length || 0;\r\n\r\n  const handleMarkAsRead = (notificationId: string) => {\r\n    console.log('✅ NotificationCenter: Marking notification as read:', notificationId);\r\n    markAsReadMutation.mutate(notificationId);\r\n  };\r\n\r\n  const handleMarkAllAsRead = () => {\r\n    console.log('✅ NotificationCenter: Marking all notifications as read');\r\n    markAllAsReadMutation.mutate();\r\n  };\r\n\r\n  const getNotificationIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'document_found':\r\n        return <FileText className=\"w-5 h-5 text-green-600\" />;\r\n      case 'chat_message':\r\n        return <MessageCircle className=\"w-5 h-5 text-blue-600\" />;\r\n      case 'location_update':\r\n        return <MapPin className=\"w-5 h-5 text-purple-600\" />;\r\n      case 'warning':\r\n        return <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />;\r\n      default:\r\n        return <Info className=\"w-5 h-5 text-gray-600\" />;\r\n    }\r\n  };\r\n\r\n  const getNotificationColor = (type: string) => {\r\n    switch (type) {\r\n      case 'document_found':\r\n        return 'border-l-green-500 bg-green-50 dark:bg-green-900/20';\r\n      case 'chat_message':\r\n        return 'border-l-blue-500 bg-blue-50 dark:bg-blue-900/20';\r\n      case 'location_update':\r\n        return 'border-l-purple-500 bg-purple-50 dark:bg-purple-900/20';\r\n      case 'warning':\r\n        return 'border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20';\r\n      default:\r\n        return 'border-l-gray-500 bg-gray-50 dark:bg-gray-900/20';\r\n    }\r\n  };\r\n\r\n  const formatNotificationTime = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInMinutes = (now.getTime() - date.getTime()) / (1000 * 60);\r\n    \r\n    if (diffInMinutes < 1) {\r\n      return t('notifications.just_now') || 'Agora mesmo';\r\n    } else if (diffInMinutes < 60) {\r\n      return t('notifications.minutes_ago', { minutes: Math.floor(diffInMinutes) }) || `${Math.floor(diffInMinutes)}m atrás`;\r\n    } else if (diffInMinutes < 1440) {\r\n      const hours = Math.floor(diffInMinutes / 60);\r\n      return t('notifications.hours_ago', { hours }) || `${hours}h atrás`;\r\n    } else {\r\n      return date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <Card className=\"w-full max-w-2xl h-[80vh] flex flex-col\">\r\n        <CardHeader className=\"flex-shrink-0\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <CardTitle className=\"flex items-center\">\r\n              <Bell className=\"w-5 h-5 mr-2\" />\r\n              {t('notifications.title') || 'Notificações'}\r\n              {unreadCount > 0 && (\r\n                <span className=\"ml-2 px-2 py-1 bg-primary-500 text-white text-xs rounded-full\">\r\n                  {unreadCount}\r\n                </span>\r\n              )}\r\n            </CardTitle>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={onClose}\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n        \r\n        <CardContent className=\"flex-1 flex flex-col space-y-4\">\r\n          {/* Tab Navigation */}\r\n          <div className=\"flex space-x-1 border-b border-gray-200 dark:border-gray-700\">\r\n            <button\r\n              onClick={() => setActiveTab('all')}\r\n              className={`px-4 py-2 text-sm font-medium transition-colors ${\r\n                activeTab === 'all'\r\n                  ? 'text-primary-600 border-b-2 border-primary-600'\r\n                  : 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'\r\n              }`}\r\n            >\r\n              {t('notifications.all') || 'Todas'}\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('unread')}\r\n              className={`px-4 py-2 text-sm font-medium transition-colors ${\r\n                activeTab === 'unread'\r\n                  ? 'text-primary-600 border-b-2 border-primary-600'\r\n                  : 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200'\r\n              }`}\r\n            >\r\n              {t('notifications.unread') || 'Não lidas'}\r\n              {unreadCount > 0 && (\r\n                <span className=\"ml-1 px-2 py-0.5 bg-primary-500 text-white text-xs rounded-full\">\r\n                  {unreadCount}\r\n                </span>\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          {unreadCount > 0 && (\r\n            <div className=\"flex justify-end\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={handleMarkAllAsRead}\r\n                disabled={markAllAsReadMutation.isPending}\r\n              >\r\n                <Check className=\"w-4 h-4 mr-2\" />\r\n                {t('notifications.mark_all_read') || 'Marcar todas como lidas'}\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Notifications List */}\r\n          <div className=\"flex-1 overflow-y-auto space-y-2\">\r\n            {isLoading ? (\r\n              <div className=\"flex items-center justify-center h-32\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\r\n              </div>\r\n            ) : filteredNotifications.length === 0 ? (\r\n              <div className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\r\n                <Bell className=\"w-12 h-12 mx-auto mb-2\" />\r\n                <p>\r\n                  {activeTab === 'unread'\r\n                    ? t('notifications.no_unread') || 'Nenhuma notificação não lida'\r\n                    : t('notifications.no_notifications') || 'Nenhuma notificação ainda'\r\n                  }\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              filteredNotifications.map((notification) => (\r\n                <div\r\n                  key={notification.id}\r\n                  className={`p-4 rounded-lg border-l-4 transition-all duration-200 ${\r\n                    notification.read\r\n                      ? 'opacity-75 hover:opacity-100'\r\n                      : 'opacity-100'\r\n                  } ${getNotificationColor(notification.type)}`}\r\n                >\r\n                  <div className=\"flex items-start space-x-3\">\r\n                    <div className=\"flex-shrink-0 mt-1\">\r\n                      {getNotificationIcon(notification.type)}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <h4 className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n                            {notification.title}\r\n                          </h4>\r\n                          <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\r\n                            {notification.message}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n                            {formatNotificationTime(notification.created_at)}\r\n                          </p>\r\n                        </div>\r\n                        \r\n                        {!notification.read && (\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleMarkAsRead(notification.id)}\r\n                            disabled={markAsReadMutation.isPending}\r\n                            className=\"ml-2\"\r\n                          >\r\n                            <Check className=\"w-4 h-4\" />\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Bell } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { NotificationCenter } from './NotificationCenter';\r\n\r\nexport const NotificationBell: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const [isNotificationCenterOpen, setIsNotificationCenterOpen] = useState(false);\r\n\r\n  console.log('🔔 NotificationBell: Component rendered for user:', user?.email);\r\n\r\n  // Fetch unread notification count\r\n  const { data: notifications } = useQuery({\r\n    queryKey: ['user-notifications', user?.id],\r\n    queryFn: () => databaseAPI.getUserNotifications(user?.id || ''),\r\n    enabled: !!user?.id,\r\n  });\r\n\r\n  const unreadCount = notifications?.filter(n => !n.read).length || 0;\r\n\r\n  const handleNotificationClick = () => {\r\n    console.log('🔔 NotificationBell: Opening notification center');\r\n    setIsNotificationCenterOpen(true);\r\n  };\r\n\r\n  const handleCloseNotificationCenter = () => {\r\n    console.log('🔔 NotificationBell: Closing notification center');\r\n    setIsNotificationCenterOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        onClick={handleNotificationClick}\r\n        className=\"relative\"\r\n        aria-label=\"Notificações\"\r\n      >\r\n        <Bell className=\"w-5 h-5\" />\r\n        {unreadCount > 0 && (\r\n          <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\r\n            {unreadCount > 9 ? '9+' : unreadCount}\r\n          </span>\r\n        )}\r\n      </Button>\r\n\r\n      <NotificationCenter\r\n        isOpen={isNotificationCenterOpen}\r\n        onClose={handleCloseNotificationCenter}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Crown, Moon, Sun, LogOut, Menu, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useEntitlements } from '@/lib/hooks/useEntitlements';\r\nimport { useTranslation } from '@/i18n';\r\nimport { NotificationBell } from '@/features/notifications/components/NotificationBell';\r\n\r\nexport const TopNavigation: React.FC = () => {\r\n  const { signOut, profile } = useAuth();\r\n  const entitlements = useEntitlements();\r\n  const { t, currentLanguage, setLanguage } = useTranslation();\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [isDark, setIsDark] = useState(() => \r\n    document.documentElement.classList.contains('dark')\r\n  );\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = isDark ? 'light' : 'dark';\r\n    setIsDark(!isDark);\r\n    \r\n    if (newTheme === 'dark') {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n    \r\n    localStorage.setItem('findmydocs_theme', newTheme);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      console.log('🔐 TopNavigation: Logging out...');\r\n      await signOut();\r\n      console.log('✅ TopNavigation: Logout successful');\r\n    } catch (error) {\r\n      console.error('❌ TopNavigation: Logout error:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"fixed top-0 left-0 right-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 safe-area-top z-50 shadow-sm\">\r\n      <div className=\"container-responsive\">\r\n        <div className=\"flex items-center justify-between h-16 md:h-18\">\r\n          {/* Logo */}\r\n          <div className=\"flex items-center gap-2 md:gap-3\">\r\n            <div className=\"w-8 h-8 md:w-10 md:h-10 bg-primary-500 rounded-lg flex items-center justify-center overflow-hidden\">\r\n              <img \r\n                src=\"/fmd-logo.jpg\" \r\n                alt=\"FindMyDocs Logo\" \r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n            <span className=\"text-lg md:text-xl lg:text-2xl font-bold text-gray-900 dark:text-gray-100\">\r\n              FindMyDocs\r\n            </span>\r\n          </div>\r\n\r\n          {/* Desktop Actions */}\r\n          <div className=\"hidden md:flex items-center gap-3 lg:gap-4\">\r\n            <NotificationBell />\r\n            \r\n            {!entitlements.canAccessAllDocumentTypes && (\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                leftIcon={<Crown className=\"h-4 w-4\" />}\r\n                className=\"text-amber-600 border-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/20\"\r\n              >\r\n                {t('nav.upgrade')}\r\n              </Button>\r\n            )}\r\n\r\n            <div className=\"flex items-center gap-1\">\r\n              <Button\r\n                variant={currentLanguage === 'pt' ? 'primary' : 'ghost'}\r\n                size=\"sm\"\r\n                onClick={() => setLanguage('pt')}\r\n                className=\"px-3 py-2 text-sm\"\r\n              >\r\n                PT\r\n              </Button>\r\n              <Button\r\n                variant={currentLanguage === 'en' ? 'primary' : 'ghost'}\r\n                size=\"sm\"\r\n                onClick={() => setLanguage('en')}\r\n                className=\"px-3 py-2 text-sm\"\r\n              >\r\n                EN\r\n              </Button>\r\n            </div>\r\n\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={toggleTheme}\r\n              className=\"p-2\"\r\n            >\r\n              {isDark ? <Sun className=\"h-4 w-4\" /> : <Moon className=\"h-4 w-4\" />}\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={handleLogout}\r\n              className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\"\r\n            >\r\n              <LogOut className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"md:hidden p-2 touch-target\"\r\n            onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n          >\r\n            {isMenuOpen ? <X className=\"h-5 w-5\" /> : <Menu className=\"h-5 w-5\" />}\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Mobile Menu */}\r\n        {isMenuOpen && (\r\n                      <div className=\"md:hidden py-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800\">\r\n              <div className=\"flex flex-col gap-3 space-responsive-sm\">\r\n                <div className=\"flex justify-center\">\r\n                  <NotificationBell />\r\n                </div>\r\n                \r\n                {!entitlements.canAccessAllDocumentTypes && (\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    leftIcon={<Crown className=\"h-4 w-4\" />}\r\n                                      className=\"text-amber-600 border-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/20 justify-start touch-target\"\r\n                >\r\n                  {t('nav.upgrade')}\r\n                </Button>\r\n                )}\r\n\r\n              <div className=\"flex flex-col gap-2\">\r\n                <span className=\"text-sm text-gray-600 dark:text-gray-400 px-2\">{t('nav.language')}:</span>\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    variant={currentLanguage === 'pt' ? 'primary' : 'ghost'}\r\n                    size=\"sm\"\r\n                    onClick={() => setLanguage('pt')}\r\n                    className=\"flex-1 touch-target\"\r\n                  >\r\n                    PT\r\n                  </Button>\r\n                  <Button\r\n                    variant={currentLanguage === 'en' ? 'primary' : 'ghost'}\r\n                    size=\"sm\"\r\n                    onClick={() => setLanguage('en')}\r\n                    className=\"flex-1 touch-target\"\r\n                  >\r\n                    EN\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={toggleTheme}\r\n                leftIcon={isDark ? <Sun className=\"h-4 w-4\" /> : <Moon className=\"h-4 w-4\" />}\r\n                className=\"justify-start touch-target\"\r\n              >\r\n                {isDark ? t('nav.light_mode') : t('nav.dark_mode')}\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={handleLogout}\r\n                leftIcon={<LogOut className=\"h-4 w-4\" />}\r\n                className=\"justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 touch-target\"\r\n              >\r\n                {t('nav.logout')}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport { BottomNavigation } from '@/components/common/BottomNavigation';\r\nimport { TopNavigation } from '@/components/common/TopNavigation';\r\n\r\nexport const DashboardLayout: React.FC = () => {\r\n  console.log('🔍 DashboardLayout: Component rendered');\r\n  \r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      {/* Top Navigation */}\r\n      {console.log('🔍 DashboardLayout: Rendering TopNavigation')}\r\n      <TopNavigation />\r\n\r\n      {/* Main Content */}\r\n      <main className=\"pb-16 pt-16 px-4 md:px-6 lg:px-8 max-w-7xl mx-auto section-padding\">\r\n        <div className=\"container-responsive\">\r\n          {console.log('🔍 DashboardLayout: Rendering Outlet (main content)')}\r\n          <Outlet />\r\n        </div>\r\n      </main>\r\n\r\n      {/* Bottom Navigation */}\r\n      {console.log('🔍 DashboardLayout: Rendering BottomNavigation')}\r\n      <BottomNavigation />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { clsx } from 'clsx';\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n  helperText?: string;\r\n  leftIcon?: React.ReactNode;\r\n  rightIcon?: React.ReactNode;\r\n  fullWidth?: boolean;\r\n}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ \r\n    className, \r\n    type = 'text',\r\n    label,\r\n    error,\r\n    helperText,\r\n    leftIcon,\r\n    rightIcon,\r\n    id,\r\n    fullWidth = true,\r\n    ...props \r\n  }, ref) => {\r\n    const inputId = id || `input-${Math.random().toString(36).substr(2, 9)}`;\r\n    \r\n    const baseClasses = 'block rounded-lg border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 touch-target';\r\n    \r\n    const stateClasses = error\r\n      ? 'border-error-300 focus:border-error-500 focus:ring-error-500'\r\n      : 'border-secondary-300 focus:border-primary-500 focus:ring-primary-500 dark:border-secondary-600 dark:focus:border-primary-400';\r\n    \r\n    const paddingClasses = leftIcon || rightIcon\r\n      ? leftIcon && rightIcon\r\n        ? 'px-10 py-3 md:py-2.5'\r\n        : leftIcon\r\n          ? 'pl-10 pr-3 py-3 md:py-2.5'\r\n          : 'pl-3 pr-10 py-3 md:py-2.5'\r\n      : 'px-3 py-3 md:py-2.5';\r\n\r\n    const widthClasses = fullWidth ? 'w-full' : 'w-auto';\r\n\r\n    return (\r\n      <div className=\"space-y-2 md:space-y-1\">\r\n        {label && (\r\n          <label \r\n            htmlFor={inputId} \r\n            className=\"block text-sm md:text-sm font-medium text-secondary-700 dark:text-secondary-300\"\r\n          >\r\n            {label}\r\n          </label>\r\n        )}\r\n        \r\n        <div className=\"relative\">\r\n          {leftIcon && (\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <span className=\"text-secondary-400 dark:text-secondary-500\">\r\n                {leftIcon}\r\n              </span>\r\n            </div>\r\n          )}\r\n          \r\n          <input\r\n            ref={ref}\r\n            type={type}\r\n            id={inputId}\r\n            className={clsx(\r\n              baseClasses,\r\n              stateClasses,\r\n              paddingClasses,\r\n              widthClasses,\r\n              'bg-white dark:bg-secondary-800 text-secondary-900 dark:text-secondary-100 placeholder-secondary-400 dark:placeholder-secondary-500 text-base md:text-sm',\r\n              className\r\n            )}\r\n            {...props}\r\n          />\r\n          \r\n          {rightIcon && (\r\n            <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\r\n              <span className=\"text-secondary-400 dark:text-secondary-500\">\r\n                {rightIcon}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {(error || helperText) && (\r\n          <p className={clsx(\r\n            'text-sm',\r\n            error ? 'text-error-600 dark:text-error-400' : 'text-secondary-500 dark:text-secondary-400'\r\n          )}>\r\n            {error || helperText}\r\n          </p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nInput.displayName = 'Input';\r\n\r\nexport { Input };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\n\r\nexport const LoginPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const { signIn, signUp, signInWithGoogle, isAuthenticated, isLoading } = useAuth();\r\n\r\n  console.log('🔍 LoginPage: Component rendered');\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated && !isLoading) {\r\n      console.log('🚀 LoginPage: User already authenticated, redirecting to dashboard');\r\n      navigate('/dashboard');\r\n    }\r\n  }, [isAuthenticated, isLoading, navigate]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    console.log('🔍 LoginPage: Form submitted');\r\n    console.log('📧 Email:', email);\r\n    console.log('🔐 Password:', password ? '***hidden***' : 'empty');\r\n    \r\n    if (!email || !password) {\r\n      console.log('❌ LoginPage: Missing credentials');\r\n      alert('Por favor, preencha email e senha');\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      console.log('🔍 LoginPage: Starting real authentication...');\r\n      await signIn(email, password);\r\n      console.log('✅ LoginPage: Authentication successful');\r\n      // Navigation will happen automatically via useEffect when isAuthenticated changes\r\n    } catch (error: any) {\r\n      console.error('❌ LoginPage: Authentication error:', error);\r\n      \r\n      // Handle specific error messages\r\n      let errorMessage = 'Erro ao fazer login';\r\n      if (error.message?.includes('Invalid login credentials')) {\r\n        errorMessage = 'Email ou senha incorretos';\r\n      } else if (error.message?.includes('Email not confirmed')) {\r\n        errorMessage = 'Por favor, confirme seu email antes de fazer login';\r\n      } else if (error.message) {\r\n        errorMessage = error.message;\r\n      }\r\n      \r\n      alert(errorMessage);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n      console.log('🔍 LoginPage: Login attempt finished');\r\n    }\r\n  };\r\n\r\n  const handleGoogleLogin = async () => {\r\n    console.log('🔍 LoginPage: Google login clicked');\r\n    try {\r\n      await signInWithGoogle();\r\n    } catch (error: any) {\r\n      console.error('❌ LoginPage: Google login error:', error);\r\n      alert('Erro no login com Google: ' + (error.message || 'Erro desconhecido'));\r\n    }\r\n  };\r\n\r\n  const handleSignupClick = () => {\r\n    console.log('🔍 LoginPage: Signup button clicked');\r\n    alert('Funcionalidade de criar conta será implementada em breve!');\r\n  };\r\n\r\n  // Show loading while checking authentication\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600 dark:text-gray-400\">Verificando autenticação...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4\">\r\n      <div className=\"w-full max-w-md\">\r\n        <Card className=\"shadow-soft\">\r\n          <CardHeader className=\"text-center\">\r\n            <div className=\"w-16 h-16 bg-primary-500 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <svg className=\"w-8 h-8 text-white\" viewBox=\"0 0 100 100\" fill=\"currentColor\">\r\n                <circle cx=\"20\" cy=\"20\" r=\"8\"/>\r\n                <circle cx=\"50\" cy=\"20\" r=\"8\"/>\r\n                <circle cx=\"80\" cy=\"20\" r=\"8\"/>\r\n                <path d=\"M10 40h80v50H10z\" rx=\"5\"/>\r\n                <path d=\"M20 50h60v8H20z\" fill=\"#FFD700\"/>\r\n                <path d=\"M20 65h40v4H20z\" fill=\"#666\"/>\r\n                <path d=\"M20 75h50v4H20z\" fill=\"#666\"/>\r\n              </svg>\r\n            </div>\r\n            <CardTitle className=\"text-responsive-xl\">FindMyDocs</CardTitle>\r\n            <p className=\"text-responsive-base text-gray-600 dark:text-gray-400\">\r\n              Sistema de gestão de documentos perdidos e encontrados\r\n            </p>\r\n          </CardHeader>\r\n          \r\n          <CardContent className=\"space-responsive-md\">\r\n            <form onSubmit={handleSubmit} className=\"space-responsive-md\">\r\n              <Input\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                placeholder=\"Digite seu email\"\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                  console.log('📧 Email changed:', e.target.value);\r\n                }}\r\n                fullWidth\r\n                required\r\n              />\r\n              \r\n              <Input\r\n                label=\"Senha\"\r\n                type=\"password\"\r\n                placeholder=\"Digite sua senha\"\r\n                value={password}\r\n                onChange={(e) => {\r\n                  setPassword(e.target.value);\r\n                  console.log('🔐 Password changed:', e.target.value ? '***provided***' : 'empty');\r\n                }}\r\n                fullWidth\r\n                required\r\n              />\r\n              \r\n              <Button \r\n                type=\"submit\" \r\n                fullWidth \r\n                className=\"w-full\"\r\n                isLoading={isSubmitting}\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting ? 'Entrando...' : 'Entrar'}\r\n              </Button>\r\n            </form>\r\n            \r\n            <div className=\"text-center space-responsive-sm\">\r\n              <div className=\"relative my-6\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                  <div className=\"w-full border-t border-gray-300 dark:border-gray-600\" />\r\n                </div>\r\n                <div className=\"relative flex justify-center text-sm\">\r\n                  <span className=\"px-2 bg-gray-50 dark:bg-gray-900 text-gray-500\">ou</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <Button \r\n                variant=\"outline\" \r\n                fullWidth\r\n                onClick={handleGoogleLogin}\r\n                disabled={isSubmitting}\r\n                leftIcon={\r\n                  <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\r\n                    <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\r\n                    <path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\r\n                    <path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\r\n                    <path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\r\n                  </svg>\r\n                }\r\n              >\r\n                Continuar com Google\r\n              </Button>\r\n              \r\n              <p className=\"text-responsive-sm text-gray-600 dark:text-gray-400 mt-4\">\r\n                Não tem uma conta?\r\n              </p>\r\n              <Button \r\n                variant=\"ghost\" \r\n                fullWidth\r\n                onClick={handleSignupClick}\r\n                disabled={isSubmitting}\r\n                className=\"mt-2\"\r\n              >\r\n                Criar Conta\r\n              </Button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { clsx } from 'clsx';\r\nimport { X } from 'lucide-react';\r\nimport { Button } from './Button';\r\n\r\nexport interface ModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  title?: string;\r\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  closeOnOverlayClick?: boolean;\r\n  showCloseButton?: boolean;\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  title,\r\n  size = 'md',\r\n  children,\r\n  className,\r\n  closeOnOverlayClick = true,\r\n  showCloseButton = true,\r\n}) => {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n\r\n    // Cleanup function to reset overflow when component unmounts\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    const handleEscape = (event: KeyboardEvent) => {\r\n      if (event.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, onClose]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const sizes = {\r\n    sm: 'max-w-md',\r\n    md: 'max-w-lg',\r\n    lg: 'max-w-2xl',\r\n    xl: 'max-w-4xl',\r\n    full: 'max-w-[95vw] max-h-[95vh]',\r\n  };\r\n\r\n  const handleOverlayClick = (event: React.MouseEvent) => {\r\n    if (event.target === event.currentTarget && closeOnOverlayClick) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div\r\n      className=\"fixed inset-0 z-50 overflow-y-auto\"\r\n      aria-labelledby=\"modal-title\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n    >\r\n      {/* Backdrop */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 transition-opacity\"\r\n        onClick={handleOverlayClick}\r\n      />\r\n\r\n      {/* Modal container */}\r\n      <div className=\"flex min-h-full items-center justify-center p-4\">\r\n        <div\r\n          className={clsx(\r\n            'relative w-full transform rounded-lg bg-white dark:bg-secondary-800 shadow-xl transition-all',\r\n            sizes[size],\r\n            'animate-scale-in',\r\n            className\r\n          )}\r\n        >\r\n          {/* Header */}\r\n          {(title || showCloseButton) && (\r\n            <div className=\"flex items-center justify-between p-6 pb-4\">\r\n              {title && (\r\n                <h3\r\n                  id=\"modal-title\"\r\n                  className=\"text-lg font-semibold text-secondary-900 dark:text-secondary-100\"\r\n                >\r\n                  {title}\r\n                </h3>\r\n              )}\r\n              {showCloseButton && (\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"sm\"\r\n                  onClick={onClose}\r\n                  className=\"ml-auto -mr-2\"\r\n                  aria-label=\"Close modal\"\r\n                >\r\n                  <X className=\"h-4 w-4\" />\r\n                </Button>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Content */}\r\n          <div className={clsx(\r\n            'px-6',\r\n            (title || showCloseButton) ? 'pb-6' : 'py-6'\r\n          )}>\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n};\r\n\r\nexport interface ModalHeaderProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport const ModalHeader: React.FC<ModalHeaderProps> = ({ children, className }) => (\r\n  <div className={clsx('pb-4 border-b border-secondary-200 dark:border-secondary-700', className)}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport interface ModalBodyProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport const ModalBody: React.FC<ModalBodyProps> = ({ children, className }) => (\r\n  <div className={clsx('py-4', className)}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport interface ModalFooterProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport const ModalFooter: React.FC<ModalFooterProps> = ({ children, className }) => (\r\n  <div className={clsx('pt-4 border-t border-secondary-200 dark:border-secondary-700 flex justify-end gap-2', className)}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport { Modal };\r\n","import type { StorageService, DocumentFile } from '@/lib/types';\r\nimport { authService, STORAGE_BUCKETS } from './AuthService';\r\n\r\nclass StorageServiceImpl implements StorageService {\r\n  async uploadDocumentFiles(files: File[], documentId: string): Promise<DocumentFile[]> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    console.log('📤 Storage: Starting file upload for document:', documentId, 'Files count:', files.length);\r\n    \r\n    // Validate files\r\n    this.validateFiles(files);\r\n\r\n    const uploadPromises = files.map(async (file, index) => {\r\n      const fileExtension = file.name.split('.').pop()?.toLowerCase() || '';\r\n      const fileName = `${documentId}/${Date.now()}_${index}.${fileExtension}`;\r\n      console.log('📤 Storage: Uploading file:', file.name, 'as:', fileName);\r\n      \r\n      const { data: uploadData, error: uploadError } = await client.storage\r\n        .from(STORAGE_BUCKETS.DOCUMENTS)\r\n        .upload(fileName, file, {\r\n          contentType: file.type,\r\n          cacheControl: '3600',\r\n          upsert: false,\r\n        });\r\n\r\n      if (uploadError) {\r\n        console.error('📤 Storage: Upload error for', file.name, ':', uploadError);\r\n        throw uploadError;\r\n      }\r\n\r\n      const { data: { publicUrl } } = client.storage\r\n        .from(STORAGE_BUCKETS.DOCUMENTS)\r\n        .getPublicUrl(fileName);\r\n\r\n      const fileData = {\r\n        id: `file_${Date.now()}_${index}`,\r\n        filename: fileName,\r\n        originalName: file.name,\r\n        size: file.size,\r\n        mimetype: file.type,\r\n        url: publicUrl,\r\n      };\r\n      \r\n      console.log('📤 Storage: File uploaded successfully:', fileData);\r\n      return fileData;\r\n    });\r\n\r\n    const results = await Promise.all(uploadPromises);\r\n    console.log('📤 Storage: All files uploaded successfully:', results);\r\n    return results;\r\n  }\r\n\r\n  async uploadAvatar(file: File, userId: string): Promise<string> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    // Validate avatar file\r\n    this.validateAvatarFile(file);\r\n\r\n    const fileExtension = file.name.split('.').pop()?.toLowerCase() || 'jpg';\r\n    const fileName = `${userId}/avatar.${fileExtension}`;\r\n    \r\n    const { error: uploadError } = await client.storage\r\n      .from(STORAGE_BUCKETS.AVATARS)\r\n      .upload(fileName, file, {\r\n        contentType: file.type,\r\n        cacheControl: '3600',\r\n        upsert: true, // Allow overwriting existing avatar\r\n      });\r\n\r\n    if (uploadError) throw uploadError;\r\n\r\n    return this.getPublicUrl(STORAGE_BUCKETS.AVATARS, fileName);\r\n  }\r\n\r\n  async deleteFile(bucket: string, path: string): Promise<void> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { error } = await client.storage\r\n      .from(bucket)\r\n      .remove([path]);\r\n\r\n    if (error) throw error;\r\n  }\r\n\r\n  getPublicUrl(bucket: string, path: string): string {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data } = client.storage\r\n      .from(bucket)\r\n      .getPublicUrl(path);\r\n\r\n    return data.publicUrl;\r\n  }\r\n\r\n  async downloadFile(bucket: string, path: string): Promise<Blob> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const { data, error } = await client.storage\r\n      .from(bucket)\r\n      .download(path);\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  }\r\n\r\n  async deleteDocumentFiles(files: DocumentFile[]): Promise<void> {\r\n    const client = authService.getClient();\r\n    if (!client) throw new Error('Supabase client not initialized');\r\n\r\n    const filePaths = files.map(file => file.filename);\r\n    \r\n    if (filePaths.length > 0) {\r\n      console.log('🗑️ Storage: Deleting files:', filePaths);\r\n      const { error } = await client.storage\r\n        .from(STORAGE_BUCKETS.DOCUMENTS)\r\n        .remove(filePaths);\r\n\r\n      if (error) {\r\n        console.error('🗑️ Storage: Error deleting files:', error);\r\n        throw error;\r\n      }\r\n      \r\n      console.log('🗑️ Storage: Files deleted successfully');\r\n    }\r\n  }\r\n\r\n  // Helper method to validate file upload constraints\r\n  validateFiles(files: File[], maxFiles = 5, maxSizePerFile = 5 * 1024 * 1024): void {\r\n    if (files.length > maxFiles) {\r\n      throw new Error(`Maximum ${maxFiles} files allowed.`);\r\n    }\r\n\r\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\r\n    \r\n    for (const file of files) {\r\n      if (file.size > maxSizePerFile) {\r\n        throw new Error(`File ${file.name} is too large. Maximum size is ${Math.round(maxSizePerFile / 1024 / 1024)}MB.`);\r\n      }\r\n      \r\n      if (!allowedTypes.includes(file.type)) {\r\n        throw new Error(`File ${file.name} has an unsupported format. Only JPG, PNG, and PDF files are allowed.`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Helper method to validate avatar files specifically\r\n  validateAvatarFile(file: File): void {\r\n    const maxSize = 2 * 1024 * 1024; // 2MB limit for avatars\r\n    if (file.size > maxSize) {\r\n      throw new Error('Avatar file is too large. Maximum size is 2MB.');\r\n    }\r\n    \r\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png'];\r\n    if (!allowedTypes.includes(file.type)) {\r\n      throw new Error('Avatar must be a JPG or PNG image.');\r\n    }\r\n  }\r\n}\r\n\r\nexport const storageService = new StorageServiceImpl();\r\n","import React, { useState } from 'react';\r\nimport { X, Upload, FileText, AlertCircle, Check } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent } from '@/components/ui/Card';\r\nimport { Modal } from '@/components/ui/Modal';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useEntitlements } from '@/lib/hooks/useEntitlements';\r\nimport { useTranslation } from '@/i18n';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { storageService } from '@/lib/services/StorageService';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport type { DocumentType } from '@/lib/types';\r\n\r\ninterface AddDocumentModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport const AddDocumentModal: React.FC<AddDocumentModalProps> = ({ isOpen, onClose }) => {\r\n  const { user } = useAuth();\r\n  const entitlements = useEntitlements();\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n\r\n  const [formData, setFormData] = useState({\r\n    type: 'bi' as DocumentType,\r\n    name: '',\r\n    number: '',\r\n    description: '',\r\n  });\r\n  const [files, setFiles] = useState<File[]>([]);\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  console.log('📄 AddDocumentModal: Component rendered, isOpen:', isOpen);\r\n\r\n  const createDocumentMutation = useMutation({\r\n    mutationFn: async (data: typeof formData & { files: File[] }) => {\r\n      if (!user) throw new Error('User not authenticated');\r\n\r\n      console.log('📄 AddDocumentModal: Starting document creation process');\r\n      console.log('📄 Form data:', data);\r\n\r\n      // Check premium limits first\r\n      if (!entitlements.canAddDocuments) {\r\n        console.log('❌ AddDocumentModal: Premium upgrade required');\r\n        throw new Error('Free plan limit reached. Upgrade to Premium for unlimited documents.');\r\n      }\r\n\r\n      // Create document first\r\n      const documentData = {\r\n        user_id: user.id,\r\n        type: data.type,\r\n        name: data.name,\r\n        number: data.number || null,\r\n        description: data.description || null,\r\n        status: 'normal' as const,\r\n        created_at: new Date().toISOString(),\r\n      };\r\n\r\n      console.log('📄 AddDocumentModal: Creating document with data:', documentData);\r\n      const createdDocument = await databaseAPI.createDocument(documentData);\r\n      console.log('✅ AddDocumentModal: Document created:', createdDocument);\r\n\r\n      // Upload files if any\r\n      if (data.files.length > 0) {\r\n        console.log('📤 AddDocumentModal: Uploading files for document ID:', createdDocument.id);\r\n        const uploadedFiles = await storageService.uploadDocumentFiles(data.files, createdDocument.id);\r\n        console.log('📤 AddDocumentModal: Files uploaded successfully:', uploadedFiles);\r\n\r\n        // Update document with file information\r\n        console.log('🔄 AddDocumentModal: Updating document with files');\r\n        const updatedDocument = await databaseAPI.updateDocument(createdDocument.id, { \r\n          files: uploadedFiles \r\n        });\r\n        console.log('✅ AddDocumentModal: Document updated with files:', updatedDocument);\r\n        return updatedDocument;\r\n      }\r\n\r\n      return createdDocument;\r\n    },\r\n    onSuccess: (document) => {\r\n      console.log('✅ AddDocumentModal: Document creation successful:', document);\r\n      \r\n      // Invalidate and refetch documents\r\n      queryClient.invalidateQueries({ queryKey: ['user-documents'] });\r\n      \r\n      // Reset form and close modal\r\n      resetForm();\r\n      onClose();\r\n      \r\n      // Show success message (you can add a toast system here)\r\n      console.log('🎉 Document added successfully!');\r\n    },\r\n    onError: (error) => {\r\n      console.error('❌ AddDocumentModal: Document creation error:', error);\r\n      // Handle error (you can add error toast here)\r\n    },\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      type: 'bi',\r\n      name: '',\r\n      number: '',\r\n      description: '',\r\n    });\r\n    setFiles([]);\r\n  };\r\n\r\n  const handleInputChange = (field: keyof typeof formData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleFileSelect = (selectedFiles: FileList | null) => {\r\n    if (!selectedFiles) return;\r\n\r\n    try {\r\n      const fileArray = Array.from(selectedFiles);\r\n      \r\n      // Validate files before setting\r\n      storageService.validateFiles(fileArray);\r\n      \r\n      // Limit to 5 files total\r\n      const newFiles = [...files, ...fileArray].slice(0, 5);\r\n      setFiles(newFiles);\r\n      \r\n      console.log('📁 AddDocumentModal: Files selected:', newFiles.map(f => f.name));\r\n    } catch (error) {\r\n      console.error('❌ AddDocumentModal: File validation error:', error);\r\n      alert(error instanceof Error ? error.message : 'Invalid files selected');\r\n    }\r\n  };\r\n\r\n  const removeFile = (index: number) => {\r\n    setFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(false);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(false);\r\n    handleFileSelect(e.dataTransfer.files);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    console.log('📄 AddDocumentModal: Form submitted');\r\n    \r\n    // Validate required fields\r\n    if (!formData.type || !formData.name || !formData.number) {\r\n      console.log('❌ AddDocumentModal: Missing required fields');\r\n      alert(t('documents.missing_required_fields') || 'Please fill in all required fields.');\r\n      return;\r\n    }\r\n\r\n    createDocumentMutation.mutate({ ...formData, files });\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <Modal isOpen={isOpen} onClose={onClose} size=\"lg\">\r\n      <div className=\"p-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {t('documents.add')}\r\n          </h2>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={onClose}\r\n            className=\"p-2\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {/* Document Type */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {t('documents.type')} *\r\n            </label>\r\n            <select\r\n              value={formData.type}\r\n              onChange={(e) => handleInputChange('type', e.target.value as DocumentType)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n              required\r\n            >\r\n              <option value=\"bi\">{t('type.bi')}</option>\r\n              <option value=\"passaporte\">{t('type.passaporte')}</option>\r\n              <option value=\"carta\">{t('type.carta')}</option>\r\n              <option value=\"outros\">{t('type.outros')}</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Document Name */}\r\n          <Input\r\n            label={`${t('documents.name')} *`}\r\n            value={formData.name}\r\n            onChange={(e) => handleInputChange('name', e.target.value)}\r\n            placeholder={t('documents.name_placeholder')}\r\n            required\r\n            fullWidth\r\n          />\r\n\r\n          {/* Document Number */}\r\n          <Input\r\n            label={`${t('documents.number')} *`}\r\n            value={formData.number}\r\n            onChange={(e) => handleInputChange('number', e.target.value)}\r\n            placeholder={t('documents.number_placeholder')}\r\n            required\r\n            fullWidth\r\n          />\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {t('documents.description')}\r\n            </label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => handleInputChange('description', e.target.value)}\r\n              placeholder={t('documents.description_placeholder')}\r\n              rows={3}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none\"\r\n            />\r\n          </div>\r\n\r\n          {/* File Upload */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n              {t('documents.files')} ({t('documents.optional')})\r\n            </label>\r\n            \r\n            {/* Drop Zone */}\r\n            <div\r\n              onDragOver={handleDragOver}\r\n              onDragLeave={handleDragLeave}\r\n              onDrop={handleDrop}\r\n              className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\r\n                dragActive\r\n                  ? 'border-primary-500 bg-primary-50 dark:bg-primary-900/20'\r\n                  : 'border-gray-300 dark:border-gray-600'\r\n              }`}\r\n            >\r\n              <Upload className=\"w-8 h-8 text-gray-400 mx-auto mb-2\" />\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                {t('documents.drag_drop_or')}{' '}\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => document.getElementById('file-input')?.click()}\r\n                  className=\"text-primary-600 hover:text-primary-700 font-medium\"\r\n                >\r\n                  {t('documents.browse_files')}\r\n                </button>\r\n              </p>\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                JPG, PNG, PDF • {t('documents.max_5_files')} • {t('documents.max_5mb_each')}\r\n              </p>\r\n              \r\n              <input\r\n                id=\"file-input\"\r\n                type=\"file\"\r\n                multiple\r\n                accept=\".jpg,.jpeg,.png,.pdf\"\r\n                onChange={(e) => handleFileSelect(e.target.files)}\r\n                className=\"hidden\"\r\n              />\r\n            </div>\r\n\r\n            {/* Selected Files */}\r\n            {files.length > 0 && (\r\n              <div className=\"mt-4 space-y-2\">\r\n                <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                  {t('documents.selected_files')} ({files.length}/5)\r\n                </p>\r\n                {files.map((file, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-md\"\r\n                  >\r\n                    <div className=\"flex items-center\">\r\n                      <FileText className=\"w-4 h-4 text-gray-400 mr-2\" />\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n                          {file.name}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                          {formatFileSize(file.size)}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => removeFile(index)}\r\n                      className=\"p-1 text-red-600 hover:text-red-700\"\r\n                    >\r\n                      <X className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Premium Limit Warning */}\r\n          {!entitlements.canAddDocuments && (\r\n            <Card className=\"border-amber-200 dark:border-amber-800 bg-amber-50 dark:bg-amber-900/20\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center\">\r\n                  <AlertCircle className=\"w-5 h-5 text-amber-600 dark:text-amber-400 mr-3\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-amber-800 dark:text-amber-200\">\r\n                      {t('documents.free_limit_reached')}\r\n                    </p>\r\n                    <p className=\"text-xs text-amber-700 dark:text-amber-300 mt-1\">\r\n                      {t('documents.upgrade_for_unlimited')}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onClose}\r\n              className=\"flex-1\"\r\n              disabled={createDocumentMutation.isPending}\r\n            >\r\n              {t('common.cancel')}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className=\"flex-1\"\r\n              isLoading={createDocumentMutation.isPending}\r\n              disabled={!entitlements.canAddDocuments || createDocumentMutation.isPending}\r\n            >\r\n              {createDocumentMutation.isPending ? (\r\n                t('documents.adding')\r\n              ) : (\r\n                <>\r\n                  <Check className=\"w-4 h-4 mr-2\" />\r\n                  {t('documents.add')}\r\n                </>\r\n              )}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Plus, FileText, Search, Eye, Download, Trash2 } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { AddDocumentModal } from '../components/AddDocumentModal';\r\n\r\nexport const DocumentsPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\r\n\r\n  console.log('🔍 DocumentsPage: Component rendered for user:', user?.email);\r\n\r\n  // Query user documents\r\n  const { data: documents = [], isLoading, error } = useQuery({\r\n    queryKey: ['user-documents', user?.id],\r\n    queryFn: () => user ? databaseAPI.getUserDocuments(user.id) : [],\r\n    enabled: !!user,\r\n  });\r\n\r\n  console.log('📄 DocumentsPage: Documents loaded:', documents.length);\r\n\r\n  // Filter documents based on search\r\n  const filteredDocuments = documents.filter(doc => \r\n    doc.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    doc.type.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    doc.description?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const normalDocuments = filteredDocuments.filter(doc => doc.status === 'normal');\r\n  const lostDocuments = filteredDocuments.filter(doc => doc.status === 'lost');\r\n\r\n  const getDocumentTypeLabel = (type: string) => {\r\n    switch (type) {\r\n      case 'bi': return t('type.bi');\r\n      case 'passaporte': return t('type.passaporte');\r\n      case 'carta': return t('type.carta');\r\n      case 'outros': return t('type.outros');\r\n      default: return type;\r\n    }\r\n  };\r\n\r\n  const getStatusLabel = (status: string) => {\r\n    switch (status) {\r\n      case 'normal': return t('status.normal');\r\n      case 'lost': return t('status.lost');\r\n      case 'found': return t('status.found');\r\n      default: return status;\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"space-responsive-md\">\r\n        <div className=\"text-center py-8\">\r\n          <div className=\"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600 dark:text-gray-400\">{t('common.loading')}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"space-responsive-md\">\r\n        <Card className=\"border-red-200 dark:border-red-800\">\r\n          <CardContent>\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-red-600 dark:text-red-400 mb-4\">\r\n                {t('error.load_documents')}\r\n              </p>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                {error instanceof Error ? error.message : 'Unknown error'}\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-responsive-md\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6\">\r\n        <div>\r\n          <h1 className=\"text-responsive-xl font-bold text-gray-900 dark:text-gray-100\">\r\n            {t('documents.title')}\r\n          </h1>\r\n          <p className=\"text-responsive-base text-gray-600 dark:text-gray-400\">\r\n            {t('documents.subtitle')}\r\n          </p>\r\n        </div>\r\n        <Button\r\n          leftIcon={<Plus className=\"h-4 w-4\" />}\r\n          onClick={() => setIsAddModalOpen(true)}\r\n          className=\"w-full sm:w-auto\"\r\n        >\r\n          {t('documents.add')}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-primary-600 dark:text-primary-400\">\r\n              {documents.length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {t('documents.total')}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        \r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">\r\n              {normalDocuments.length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {t('status.normal')}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        \r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-red-600 dark:text-red-400\">\r\n              {lostDocuments.length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {t('status.lost')}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        \r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n              0\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {t('status.found')}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      <div className=\"mb-6\">\r\n        <Input\r\n          leftIcon={<Search className=\"h-4 w-4\" />}\r\n          placeholder={t('documents.search_placeholder')}\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n        />\r\n      </div>\r\n\r\n      {/* Documents List */}\r\n      {filteredDocuments.length === 0 ? (\r\n        <Card>\r\n          <CardContent className=\"text-center py-12\">\r\n            <FileText className=\"w-12 h-12 text-gray-400 dark:text-gray-600 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n              {searchQuery ? t('documents.no_results') : t('documents.empty_title')}\r\n            </h3>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-6\">\r\n              {searchQuery ? t('documents.no_results_desc') : t('documents.empty_description')}\r\n            </p>\r\n            {!searchQuery && (\r\n              <Button\r\n                leftIcon={<Plus className=\"h-4 w-4\" />}\r\n                onClick={() => setIsAddModalOpen(true)}\r\n              >\r\n                {t('documents.add_first')}\r\n              </Button>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-responsive-sm\">\r\n          {filteredDocuments.map((document) => (\r\n            <Card key={document.id} className=\"hover:shadow-medium transition-shadow cursor-pointer\">\r\n              <CardContent className=\"p-4 md:p-6\">\r\n                <div className=\"flex items-start justify-between mb-3\">\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"font-medium text-gray-900 dark:text-gray-100 mb-1\">\r\n                      {document.name}\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      {getDocumentTypeLabel(document.type)}\r\n                      {document.number && ` • ${document.number}`}\r\n                    </p>\r\n                  </div>\r\n                  <span\r\n                    className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n                      document.status === 'normal'\r\n                        ? 'bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-400'\r\n                        : document.status === 'lost'\r\n                        ? 'bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-400'\r\n                        : 'bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-400'\r\n                    }`}\r\n                  >\r\n                    {getStatusLabel(document.status)}\r\n                  </span>\r\n                </div>\r\n                \r\n                {document.description && (\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3\">\r\n                    {document.description}\r\n                  </p>\r\n                )}\r\n                \r\n                {/* Files Section */}\r\n                {document.files && document.files.length > 0 && (\r\n                  <div className=\"mb-3\">\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\r\n                      📎 {document.files.length} {document.files.length === 1 ? 'arquivo' : 'arquivos'}\r\n                    </p>\r\n                    <div className=\"flex gap-2 flex-wrap\">\r\n                      {document.files.slice(0, 3).map((file, index) => (\r\n                        <button\r\n                          key={index}\r\n                          onClick={() => window.open(file.url, '_blank')}\r\n                          className=\"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-400 rounded text-xs hover:bg-blue-200 dark:hover:bg-blue-900/40 transition-colors\"\r\n                        >\r\n                          <FileText className=\"w-3 h-3 mr-1\" />\r\n                          {file.originalName}\r\n                        </button>\r\n                      ))}\r\n                      {document.files.length > 3 && (\r\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                          +{document.files.length - 3} mais\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                <div className=\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400\">\r\n                  <span>\r\n                    {t('common.created_at')}: {new Date(document.created_at).toLocaleDateString()}\r\n                  </span>\r\n                  {document.location && (\r\n                    <span>\r\n                      📍 {document.location}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Document Modal */}\r\n      <AddDocumentModal\r\n        isOpen={isAddModalOpen}\r\n        onClose={() => setIsAddModalOpen(false)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { AlertTriangle, Upload, FileText, MapPin, User, X, Check } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { storageService } from '@/lib/services/StorageService';\r\nimport type { DocumentType } from '@/lib/types';\r\n\r\nexport const ReportLostPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n\r\n  const [formData, setFormData] = useState({\r\n    type: 'bi' as DocumentType,\r\n    name: '',\r\n    location: '',\r\n    description: '',\r\n    contact_info: '',\r\n  });\r\n  const [files, setFiles] = useState<File[]>([]);\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  console.log('🚨 ReportLostPage: Component rendered for user:', user?.email);\r\n\r\n  const reportLostMutation = useMutation({\r\n    mutationFn: async (data: typeof formData & { files: File[] }) => {\r\n      if (!user) throw new Error('User not authenticated');\r\n\r\n      console.log('🚨 ReportLostPage: Starting lost document report process');\r\n      console.log('🚨 Form data:', data);\r\n\r\n      // Create lost document report first\r\n      const documentData = {\r\n        user_id: user.id,\r\n        type: data.type,\r\n        name: data.name,\r\n        description: data.description || null,\r\n        location: data.location,\r\n        contact_info: data.contact_info,\r\n        status: 'lost' as const,\r\n        files: [],\r\n        created_at: new Date().toISOString(),\r\n      };\r\n\r\n      console.log('📄 ReportLostPage: Creating lost document with data:', documentData);\r\n      const createdDocument = await databaseAPI.createDocument(documentData);\r\n      console.log('✅ ReportLostPage: Lost document created:', createdDocument);\r\n\r\n      // Upload files if any\r\n      if (data.files.length > 0) {\r\n        console.log('📤 ReportLostPage: Uploading files for document ID:', createdDocument.id);\r\n        const uploadedFiles = await storageService.uploadDocumentFiles(data.files, createdDocument.id);\r\n        console.log('📤 ReportLostPage: Files uploaded successfully:', uploadedFiles);\r\n\r\n        // Update document with file information\r\n        console.log('🔄 ReportLostPage: Updating lost document with files');\r\n        const updatedDocument = await databaseAPI.updateDocument(createdDocument.id, { \r\n          files: uploadedFiles \r\n        });\r\n        console.log('✅ ReportLostPage: Lost document updated with files:', updatedDocument);\r\n        return updatedDocument;\r\n      }\r\n\r\n      return createdDocument;\r\n    },\r\n    onSuccess: (document) => {\r\n      console.log('✅ ReportLostPage: Lost document report successful:', document);\r\n      \r\n      // Invalidate and refetch documents and feed\r\n      queryClient.invalidateQueries({ queryKey: ['user-documents'] });\r\n      queryClient.invalidateQueries({ queryKey: ['lost-documents'] });\r\n      \r\n      // Reset form\r\n      resetForm();\r\n      \r\n      // Show success message\r\n      console.log('🎉 Lost document reported successfully!');\r\n      alert(t('lost.report_success') || 'Documento perdido reportado com sucesso!');\r\n    },\r\n    onError: (error) => {\r\n      console.error('❌ ReportLostPage: Lost document report error:', error);\r\n      alert(error instanceof Error ? error.message : 'Erro ao reportar documento perdido');\r\n    },\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      type: 'bi',\r\n      name: '',\r\n      location: '',\r\n      description: '',\r\n      contact_info: '',\r\n    });\r\n    setFiles([]);\r\n  };\r\n\r\n  const handleInputChange = (field: keyof typeof formData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleFileSelect = (selectedFiles: FileList | null) => {\r\n    if (!selectedFiles) return;\r\n\r\n    try {\r\n      const fileArray = Array.from(selectedFiles);\r\n      \r\n      // Validate files before setting\r\n      storageService.validateFiles(fileArray);\r\n      \r\n      // Limit to 5 files total\r\n      const newFiles = [...files, ...fileArray].slice(0, 5);\r\n      setFiles(newFiles);\r\n      \r\n      console.log('📁 ReportLostPage: Files selected:', newFiles.map(f => f.name));\r\n    } catch (error) {\r\n      console.error('❌ ReportLostPage: File validation error:', error);\r\n      alert(error instanceof Error ? error.message : 'Invalid files selected');\r\n    }\r\n  };\r\n\r\n  const removeFile = (index: number) => {\r\n    setFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(false);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(false);\r\n    handleFileSelect(e.dataTransfer.files);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    console.log('🚨 ReportLostPage: Form submitted');\r\n    \r\n    // Validate required fields\r\n    if (!formData.type || !formData.name || !formData.location || !formData.contact_info) {\r\n      console.log('❌ ReportLostPage: Missing required fields');\r\n      alert(t('lost.missing_required_fields') || 'Por favor, preencha todos os campos obrigatórios.');\r\n      return;\r\n    }\r\n\r\n    reportLostMutation.mutate({ ...formData, files });\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-responsive-md\">\r\n      {/* Header */}\r\n      <div className=\"text-center mb-8\">\r\n        <div className=\"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <AlertTriangle className=\"w-8 h-8 text-red-600 dark:text-red-400\" />\r\n        </div>\r\n        <h1 className=\"text-responsive-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\r\n          {t('lost.title')}\r\n        </h1>\r\n        <p className=\"text-responsive-base text-gray-600 dark:text-gray-400\">\r\n          {t('lost.subtitle') || 'Reporte um documento perdido para ajudar na busca'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Report Form */}\r\n      <Card className=\"max-w-2xl mx-auto\">\r\n        <CardContent className=\"p-6\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Document Type */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('lost.document_type')} *\r\n              </label>\r\n              <select\r\n                value={formData.type}\r\n                onChange={(e) => handleInputChange('type', e.target.value as DocumentType)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n              >\r\n                <option value=\"bi\">{t('type.bi')}</option>\r\n                <option value=\"passaporte\">{t('type.passaporte')}</option>\r\n                <option value=\"carta\">{t('type.carta')}</option>\r\n                <option value=\"outros\">{t('type.outros')}</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Document Name */}\r\n            <Input\r\n              label={`${t('lost.document_name')} *`}\r\n              value={formData.name}\r\n              onChange={(e) => handleInputChange('name', e.target.value)}\r\n              placeholder={t('lost.document_name_placeholder') || 'Nome do documento perdido'}\r\n              required\r\n              fullWidth\r\n            />\r\n\r\n            {/* Location */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('lost.where_lost')} *\r\n              </label>\r\n              <div className=\"relative\">\r\n                <MapPin className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.location}\r\n                  onChange={(e) => handleInputChange('location', e.target.value)}\r\n                  placeholder={t('lost.location_placeholder') || 'Local onde foi perdido'}\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('lost.additional_details')}\r\n              </label>\r\n              <textarea\r\n                value={formData.description}\r\n                onChange={(e) => handleInputChange('description', e.target.value)}\r\n                placeholder={t('lost.description_placeholder') || 'Detalhes adicionais sobre o documento'}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none\"\r\n              />\r\n            </div>\r\n\r\n            {/* Contact Information */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('lost.contact_info')} *\r\n              </label>\r\n              <div className=\"relative\">\r\n                <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.contact_info}\r\n                  onChange={(e) => handleInputChange('contact_info', e.target.value)}\r\n                  placeholder={t('lost.contact_placeholder') || 'Seu telefone ou email para contato'}\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* File Upload */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('lost.evidence_files') || 'Arquivos de Evidência'} ({t('common.optional')})\r\n              </label>\r\n              \r\n              {/* Drop Zone */}\r\n              <div\r\n                onDragOver={handleDragOver}\r\n                onDragLeave={handleDragLeave}\r\n                onDrop={handleDrop}\r\n                className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\r\n                  dragActive\r\n                    ? 'border-primary-500 bg-primary-50 dark:bg-primary-900/20'\r\n                    : 'border-gray-300 dark:border-gray-600'\r\n                }`}\r\n              >\r\n                <Upload className=\"w-8 h-8 text-gray-400 mx-auto mb-2\" />\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                  {t('lost.drag_drop_or') || 'Arraste e solte arquivos aqui ou'}{' '}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => document.getElementById('lost-file-input')?.click()}\r\n                    className=\"text-primary-600 hover:text-primary-700 font-medium\"\r\n                  >\r\n                    {t('lost.browse_files') || 'procurar arquivos'}\r\n                  </button>\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                  JPG, PNG, PDF • {t('lost.max_5_files') || 'Máximo 5 arquivos'} • {t('lost.max_5mb_each') || 'Máximo 5MB cada'}\r\n                </p>\r\n                \r\n                <input\r\n                  id=\"lost-file-input\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\".jpg,.jpeg,.png,.pdf\"\r\n                  onChange={(e) => handleFileSelect(e.target.files)}\r\n                  className=\"hidden\"\r\n                />\r\n              </div>\r\n\r\n              {/* Selected Files */}\r\n              {files.length > 0 && (\r\n                <div className=\"mt-4 space-y-2\">\r\n                  <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                    {t('lost.selected_files') || 'Arquivos selecionados'} ({files.length}/5)\r\n                  </p>\r\n                  {files.map((file, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-md\"\r\n                    >\r\n                      <div className=\"flex items-center\">\r\n                        <FileText className=\"w-4 h-4 text-gray-400 mr-2\" />\r\n                        <div>\r\n                          <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n                            {file.name}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {formatFileSize(file.size)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => removeFile(index)}\r\n                        className=\"p-1 text-red-600 hover:text-red-700\"\r\n                      >\r\n                        <X className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              isLoading={reportLostMutation.isPending}\r\n              disabled={reportLostMutation.isPending}\r\n              className=\"bg-red-600 hover:bg-red-700 text-white\"\r\n            >\r\n              {reportLostMutation.isPending ? (\r\n                t('lost.reporting') || 'Reportando...'\r\n              ) : (\r\n                <>\r\n                  <AlertTriangle className=\"w-4 h-4 mr-2\" />\r\n                  {t('lost.report_button_submit')}\r\n                </>\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Help Information */}\r\n      <Card className=\"max-w-2xl mx-auto mt-6\">\r\n        <CardContent className=\"p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3\">\r\n            {t('lost.help_title') || 'Como funciona?'}\r\n          </h3>\r\n          <div className=\"space-y-3 text-sm text-gray-600 dark:text-gray-400\">\r\n            <p>• {t('lost.help_step1') || 'Reporte seu documento perdido com detalhes'}</p>\r\n            <p>• {t('lost.help_step2') || 'Outros usuários podem ver no feed de perdidos'}</p>\r\n            <p>• {t('lost.help_step3') || 'Se alguém encontrar, poderá entrar em contato'}</p>\r\n            <p>• {t('lost.help_step4') || 'Você receberá notificações de possíveis matches'}</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Heart, Upload, FileText, MapPin, User, X, Check } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { storageService } from '@/lib/services/StorageService';\r\nimport type { DocumentType } from '@/lib/types';\r\n\r\nexport const ReportFoundPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n\r\n  const [formData, setFormData] = useState({\r\n    type: 'bi' as DocumentType,\r\n    name: '',\r\n    location: '',\r\n    description: '',\r\n    contact_info: '',\r\n  });\r\n  const [files, setFiles] = useState<File[]>([]);\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  console.log('💚 ReportFoundPage: Component rendered for user:', user?.email);\r\n\r\n  const reportFoundMutation = useMutation({\r\n    mutationFn: async (data: typeof formData & { files: File[] }) => {\r\n      if (!user) throw new Error('User not authenticated');\r\n\r\n      console.log('💚 ReportFoundPage: Starting found document report process');\r\n      console.log('💚 Form data:', data);\r\n\r\n      // Create found document report first\r\n      const documentData = {\r\n        user_id: user.id,\r\n        type: data.type,\r\n        name: data.name,\r\n        description: data.description || null,\r\n        location: data.location,\r\n        contact_info: data.contact_info,\r\n        status: 'found' as const,\r\n        files: [],\r\n        created_at: new Date().toISOString(),\r\n      };\r\n\r\n      console.log('📄 ReportFoundPage: Creating found document with data:', documentData);\r\n      const createdDocument = await databaseAPI.createDocument(documentData);\r\n      console.log('✅ ReportFoundPage: Found document created:', createdDocument);\r\n\r\n      // Upload files if any\r\n      if (data.files.length > 0) {\r\n        console.log('📤 ReportFoundPage: Uploading files for document ID:', createdDocument.id);\r\n        const uploadedFiles = await storageService.uploadDocumentFiles(data.files, createdDocument.id);\r\n        console.log('📤 ReportFoundPage: Files uploaded successfully:', uploadedFiles);\r\n\r\n        // Update document with file information\r\n        console.log('🔄 ReportFoundPage: Updating found document with files');\r\n        const updatedDocument = await databaseAPI.updateDocument(createdDocument.id, { \r\n          files: uploadedFiles \r\n        });\r\n        console.log('✅ ReportFoundPage: Found document updated with files:', updatedDocument);\r\n        return updatedDocument;\r\n      }\r\n\r\n      return createdDocument;\r\n    },\r\n    onSuccess: (document) => {\r\n      console.log('✅ ReportFoundPage: Found document report successful:', document);\r\n      \r\n      // Invalidate and refetch documents and feed\r\n      queryClient.invalidateQueries({ queryKey: ['user-documents'] });\r\n      queryClient.invalidateQueries({ queryKey: ['found-documents'] });\r\n      \r\n      // Reset form\r\n      resetForm();\r\n      \r\n      // Show success message\r\n      console.log('🎉 Found document reported successfully!');\r\n      alert(t('found.report_success') || 'Documento encontrado reportado com sucesso!');\r\n    },\r\n    onError: (error) => {\r\n      console.error('❌ ReportFoundPage: Found document report error:', error);\r\n      alert(error instanceof Error ? error.message : 'Erro ao reportar documento encontrado');\r\n    },\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      type: 'bi',\r\n      name: '',\r\n      location: '',\r\n      description: '',\r\n      contact_info: '',\r\n    });\r\n    setFiles([]);\r\n  };\r\n\r\n  const handleInputChange = (field: keyof typeof formData, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleFileSelect = (selectedFiles: FileList | null) => {\r\n    if (!selectedFiles) return;\r\n\r\n    try {\r\n      const fileArray = Array.from(selectedFiles);\r\n      \r\n      // Validate files before setting\r\n      storageService.validateFiles(fileArray);\r\n      \r\n      // Limit to 5 files total\r\n      const newFiles = [...files, ...fileArray].slice(0, 5);\r\n      setFiles(newFiles);\r\n      \r\n      console.log('📁 ReportFoundPage: Files selected:', newFiles.map(f => f.name));\r\n    } catch (error) {\r\n      console.error('❌ ReportFoundPage: File validation error:', error);\r\n      alert(error instanceof Error ? error.message : 'Invalid files selected');\r\n    }\r\n  };\r\n\r\n  const removeFile = (index: number) => {\r\n    setFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(true);\r\n  };\r\n\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(false);\r\n  };\r\n\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setDragActive(false);\r\n    handleFileSelect(e.dataTransfer.files);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    console.log('💚 ReportFoundPage: Form submitted');\r\n    \r\n    // Validate required fields\r\n    if (!formData.type || !formData.name || !formData.location || !formData.contact_info) {\r\n      console.log('❌ ReportFoundPage: Missing required fields');\r\n      alert(t('found.missing_required_fields') || 'Por favor, preencha todos os campos obrigatórios.');\r\n      return;\r\n    }\r\n\r\n    reportFoundMutation.mutate({ ...formData, files });\r\n  };\r\n\r\n  const formatFileSize = (bytes: number) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-responsive-md\">\r\n      {/* Header */}\r\n      <div className=\"text-center mb-8\">\r\n        <div className=\"w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n          <Heart className=\"w-8 h-8 text-green-600 dark:text-green-400\" />\r\n        </div>\r\n        <h1 className=\"text-responsive-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\r\n          {t('found.title')}\r\n        </h1>\r\n        <p className=\"text-responsive-base text-gray-600 dark:text-gray-400\">\r\n          {t('found.subtitle') || 'Reporte um documento encontrado para ajudar o proprietário'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Report Form */}\r\n      <Card className=\"max-w-2xl mx-auto\">\r\n        <CardContent className=\"p-6\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Document Type */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('found.document_type')} *\r\n              </label>\r\n              <select\r\n                value={formData.type}\r\n                onChange={(e) => handleInputChange('type', e.target.value as DocumentType)}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                required\r\n              >\r\n                <option value=\"bi\">{t('type.bi')}</option>\r\n                <option value=\"passaporte\">{t('type.passaporte')}</option>\r\n                <option value=\"carta\">{t('type.carta')}</option>\r\n                <option value=\"outros\">{t('type.outros')}</option>\r\n              </select>\r\n            </div>\r\n\r\n            {/* Document Name */}\r\n            <Input\r\n              label={`${t('found.document_name')} *`}\r\n              value={formData.name}\r\n              onChange={(e) => handleInputChange('name', e.target.value)}\r\n              placeholder={t('found.document_name_placeholder') || 'Nome do documento encontrado'}\r\n              required\r\n              fullWidth\r\n            />\r\n\r\n            {/* Location */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('found.where_found')} *\r\n              </label>\r\n              <div className=\"relative\">\r\n                <MapPin className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.location}\r\n                  onChange={(e) => handleInputChange('location', e.target.value)}\r\n                  placeholder={t('found.location_placeholder') || 'Local onde encontrou'}\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('found.additional_details')}\r\n              </label>\r\n              <textarea\r\n                value={formData.description}\r\n                onChange={(e) => handleInputChange('description', e.target.value)}\r\n                placeholder={t('found.description_placeholder') || 'Detalhes adicionais sobre o documento encontrado'}\r\n                rows={3}\r\n                className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none\"\r\n              />\r\n            </div>\r\n\r\n            {/* Contact Information */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('found.finder_contact')} *\r\n              </label>\r\n              <div className=\"relative\">\r\n                <User className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  value={formData.contact_info}\r\n                  onChange={(e) => handleInputChange('contact_info', e.target.value)}\r\n                  placeholder={t('found.contact_placeholder') || 'Seu telefone ou email para contato'}\r\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* File Upload */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\r\n                {t('found.evidence_files') || 'Arquivos de Evidência'} ({t('common.optional')})\r\n              </label>\r\n              \r\n              {/* Drop Zone */}\r\n              <div\r\n                onDragOver={handleDragOver}\r\n                onDragLeave={handleDragLeave}\r\n                onDrop={handleDrop}\r\n                className={`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${\r\n                  dragActive\r\n                    ? 'border-primary-500 bg-primary-50 dark:bg-primary-900/20'\r\n                    : 'border-gray-300 dark:border-gray-600'\r\n                }`}\r\n              >\r\n                <Upload className=\"w-8 h-8 text-gray-400 mx-auto mb-2\" />\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-2\">\r\n                  {t('found.drag_drop_or') || 'Arraste e solte arquivos aqui ou'}{' '}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => document.getElementById('found-file-input')?.click()}\r\n                    className=\"text-primary-600 hover:text-primary-700 font-medium\"\r\n                  >\r\n                    {t('found.browse_files') || 'procurar arquivos'}\r\n                  </button>\r\n                </p>\r\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                  JPG, PNG, PDF • {t('found.max_5_files') || 'Máximo 5 arquivos'} • {t('found.max_5mb_each') || 'Máximo 5MB cada'}\r\n                </p>\r\n                \r\n                <input\r\n                  id=\"found-file-input\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  accept=\".jpg,.jpeg,.png,.pdf\"\r\n                  onChange={(e) => handleFileSelect(e.target.files)}\r\n                  className=\"hidden\"\r\n                />\r\n              </div>\r\n\r\n              {/* Selected Files */}\r\n              {files.length > 0 && (\r\n                <div className=\"mt-4 space-y-2\">\r\n                  <p className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                    {t('found.selected_files') || 'Arquivos selecionados'} ({files.length}/5)\r\n                  </p>\r\n                  {files.map((file, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-md\"\r\n                    >\r\n                      <div className=\"flex items-center\">\r\n                        <FileText className=\"w-4 h-4 text-gray-400 mr-2\" />\r\n                        <div>\r\n                          <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100\">\r\n                            {file.name}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {formatFileSize(file.size)}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        onClick={() => removeFile(index)}\r\n                        className=\"p-1 text-red-600 hover:text-red-700\"\r\n                      >\r\n                        <X className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              isLoading={reportFoundMutation.isPending}\r\n              disabled={reportFoundMutation.isPending}\r\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n            >\r\n              {reportFoundMutation.isPending ? (\r\n                t('found.reporting') || 'Reportando...'\r\n              ) : (\r\n                <>\r\n                  <Heart className=\"w-4 h-4 mr-2\" />\r\n                  {t('found.report_button_submit')}\r\n                </>\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Help Information */}\r\n      <Card className=\"max-w-2xl mx-auto mt-6\">\r\n        <CardContent className=\"p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3\">\r\n            {t('found.help_title') || 'Como funciona?'}\r\n          </h3>\r\n          <div className=\"space-y-3 text-sm text-gray-600 dark:text-gray-400\">\r\n            <p>• {t('found.help_step1') || 'Reporte o documento que você encontrou'}</p>\r\n            <p>• {t('found.help_step2') || 'Outros usuários podem ver no feed de encontrados'}</p>\r\n            <p>• {t('found.help_step3') || 'O proprietário poderá entrar em contato'}</p>\r\n            <p>• {t('found.help_step4') || 'Você ajuda alguém a recuperar seu documento'}</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Search, Filter, MapPin, Calendar, User, FileText, Eye, MessageCircle } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport type { Document, DocumentType } from '@/lib/types';\r\n\r\ntype FeedFilter = 'all' | 'lost' | 'found';\r\n\r\nexport const FeedPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  \r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedFilter, setSelectedFilter] = useState<FeedFilter>('all');\r\n  const [selectedType, setSelectedType] = useState<DocumentType | 'all'>('all');\r\n\r\n  console.log('📰 FeedPage: Component rendered for user:', user?.email);\r\n\r\n  // Fetch lost documents\r\n  const { data: lostDocuments, isLoading: isLoadingLost } = useQuery({\r\n    queryKey: ['lost-documents'],\r\n    queryFn: () => databaseAPI.getLostDocuments(),\r\n    enabled: selectedFilter === 'all' || selectedFilter === 'lost',\r\n  });\r\n\r\n  // Fetch found documents\r\n  const { data: foundDocuments, isLoading: isLoadingFound } = useQuery({\r\n    queryKey: ['found-documents'],\r\n    queryFn: () => databaseAPI.getFoundDocuments(),\r\n    enabled: selectedFilter === 'all' || selectedFilter === 'found',\r\n  });\r\n\r\n  // Combine and filter documents\r\n  const allDocuments = [\r\n    ...(lostDocuments || []),\r\n    ...(foundDocuments || []),\r\n  ];\r\n\r\n  const filteredDocuments = allDocuments.filter(doc => {\r\n    // Filter by status\r\n    if (selectedFilter === 'lost' && doc.status !== 'lost') return false;\r\n    if (selectedFilter === 'found' && doc.status !== 'found') return false;\r\n    \r\n    // Filter by type\r\n    if (selectedType !== 'all' && doc.type !== selectedType) return false;\r\n    \r\n    // Filter by search query\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      return (\r\n        doc.name.toLowerCase().includes(query) ||\r\n        doc.description?.toLowerCase().includes(query) ||\r\n        doc.location.toLowerCase().includes(query)\r\n      );\r\n    }\r\n    \r\n    return true;\r\n  });\r\n\r\n  const isLoading = isLoadingLost || isLoadingFound;\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('pt-BR', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    return status === 'lost' ? 'text-red-600 bg-red-100' : 'text-green-600 bg-green-100';\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    return status === 'lost' ? '🚨' : '💚';\r\n  };\r\n\r\n  const handleContact = (document: Document) => {\r\n    console.log('📞 FeedPage: Contacting document owner:', document.id);\r\n    // TODO: Implement contact functionality (chat or contact form)\r\n    alert(`Contatar ${document.status === 'lost' ? 'proprietário' : 'encontrador'} de ${document.name}`);\r\n  };\r\n\r\n  const handleViewDetails = (document: Document) => {\r\n    console.log('👁️ FeedPage: Viewing document details:', document.id);\r\n    // TODO: Implement document detail view\r\n    alert(`Ver detalhes de ${document.name}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-responsive-md\">\r\n      {/* Header */}\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className=\"text-responsive-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\r\n          {t('feed.title') || 'Feed de Documentos'}\r\n        </h1>\r\n        <p className=\"text-responsive-base text-gray-600 dark:text-gray-400\">\r\n          {t('feed.subtitle') || 'Veja documentos perdidos e encontrados na sua área'}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Search and Filters */}\r\n      <Card className=\"mb-6\">\r\n        <CardContent className=\"p-6\">\r\n          <div className=\"space-y-4\">\r\n            {/* Search Bar */}\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\r\n              <Input\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                placeholder={t('feed.search_placeholder') || 'Pesquisar documentos...'}\r\n                className=\"pl-10\"\r\n                fullWidth\r\n              />\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              {/* Status Filter */}\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Filter className=\"w-4 h-4 text-gray-500\" />\r\n                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                  {t('feed.status') || 'Status'}:\r\n                </span>\r\n                <select\r\n                  value={selectedFilter}\r\n                  onChange={(e) => setSelectedFilter(e.target.value as FeedFilter)}\r\n                  className=\"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-sm\"\r\n                >\r\n                  <option value=\"all\">{t('feed.all_status') || 'Todos'}</option>\r\n                  <option value=\"lost\">{t('feed.lost_only') || 'Apenas Perdidos'}</option>\r\n                  <option value=\"found\">{t('feed.found_only') || 'Apenas Encontrados'}</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Type Filter */}\r\n              <div className=\"flex items-center space-x-2\">\r\n                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n                  {t('feed.type') || 'Tipo'}:\r\n                </span>\r\n                <select\r\n                  value={selectedType}\r\n                  onChange={(e) => setSelectedType(e.target.value as DocumentType | 'all')}\r\n                  className=\"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-sm\"\r\n                >\r\n                  <option value=\"all\">{t('feed.all_types') || 'Todos os Tipos'}</option>\r\n                  <option value=\"bi\">{t('type.bi')}</option>\r\n                  <option value=\"passaporte\">{t('type.passaporte')}</option>\r\n                  <option value=\"carta\">{t('type.carta')}</option>\r\n                  <option value=\"outros\">{t('type.outros')}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Results Count */}\r\n      <div className=\"mb-4\">\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n          {isLoading ? (\r\n            t('feed.loading') || 'Carregando...'\r\n          ) : (\r\n            `${filteredDocuments.length} ${t('feed.documents_found') || 'documentos encontrados'}`\r\n          )}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Documents Grid */}\r\n      {isLoading ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {[...Array(6)].map((_, i) => (\r\n            <Card key={i} className=\"animate-pulse\">\r\n              <CardContent className=\"p-6\">\r\n                <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded mb-3\"></div>\r\n                <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-2\"></div>\r\n                <div className=\"h-3 bg-gray-200 dark:bg-gray-700 rounded mb-4\"></div>\r\n                <div className=\"h-8 bg-gray-200 dark:bg-gray-700 rounded\"></div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : filteredDocuments.length === 0 ? (\r\n        <Card>\r\n          <CardContent className=\"p-12 text-center\">\r\n            <FileText className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n              {t('feed.no_documents') || 'Nenhum documento encontrado'}\r\n            </h3>\r\n            <p className=\"text-gray-600 dark:text-gray-400\">\r\n              {searchQuery || selectedFilter !== 'all' || selectedType !== 'all'\r\n                ? t('feed.no_results_filter') || 'Tente ajustar os filtros ou a pesquisa'\r\n                : t('feed.no_documents_desc') || 'Não há documentos perdidos ou encontrados no momento'\r\n              }\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {filteredDocuments.map((document) => (\r\n            <Card key={document.id} className=\"hover:shadow-lg transition-shadow\">\r\n              <CardHeader className=\"pb-3\">\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center space-x-2 mb-2\">\r\n                      <span className=\"text-2xl\">{getStatusIcon(document.status)}</span>\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(document.status)}`}>\r\n                        {document.status === 'lost' ? t('status.lost') : t('status.found')}\r\n                      </span>\r\n                    </div>\r\n                    <CardTitle className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n                      {document.name}\r\n                    </CardTitle>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              \r\n              <CardContent className=\"pt-0\">\r\n                {/* Document Type */}\r\n                <div className=\"flex items-center space-x-2 mb-3\">\r\n                  <FileText className=\"w-4 h-4 text-gray-400\" />\r\n                  <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    {t(`type.${document.type}`)}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Location */}\r\n                <div className=\"flex items-center space-x-2 mb-3\">\r\n                  <MapPin className=\"w-4 h-4 text-gray-400\" />\r\n                  <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    {document.location}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Description */}\r\n                {document.description && (\r\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2\">\r\n                    {document.description}\r\n                  </p>\r\n                )}\r\n\r\n                {/* Date */}\r\n                <div className=\"flex items-center space-x-2 mb-4\">\r\n                  <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                    {t('common.created_at')}: {formatDate(document.created_at)}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Files Count */}\r\n                {document.files && document.files.length > 0 && (\r\n                  <div className=\"flex items-center space-x-2 mb-4\">\r\n                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      {document.files.length} {t('feed.file') || 'arquivo'}{document.files.length !== 1 ? 's' : ''}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex space-x-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleViewDetails(document)}\r\n                    className=\"flex-1\"\r\n                  >\r\n                    <Eye className=\"w-4 h-4 mr-2\" />\r\n                    {t('feed.view_details') || 'Ver Detalhes'}\r\n                  </Button>\r\n                  \r\n                  <Button\r\n                    variant=\"primary\"\r\n                    size=\"sm\"\r\n                    onClick={() => handleContact(document)}\r\n                    className=\"flex-1\"\r\n                  >\r\n                    <MessageCircle className=\"w-4 h-4 mr-2\" />\r\n                    {t('feed.contact') || 'Contatar'}\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Help Information */}\r\n      <Card className=\"mt-8\">\r\n        <CardContent className=\"p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3\">\r\n            {t('feed.help_title') || 'Como funciona o Feed?'}\r\n          </h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400\">\r\n            <div>\r\n              <h4 className=\"font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n                {t('feed.lost_documents') || 'Documentos Perdidos'}\r\n              </h4>\r\n              <p>{t('feed.lost_explanation') || 'Veja documentos que outras pessoas perderam e ajude-as a encontrá-los.'}</p>\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n                {t('feed.found_documents') || 'Documentos Encontrados'}\r\n              </h4>\r\n              <p>{t('feed.found_explanation') || 'Veja documentos que outras pessoas encontraram e entre em contato se for seu.'}</p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { User, Settings, Bell, Shield, Download, Edit, Camera, Save, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useMutation, useQueryClient, useQuery } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport { storageService } from '@/lib/services/StorageService';\r\n\r\nexport const ProfilePage: React.FC = () => {\r\n  const { user, signOut } = useAuth();\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  \r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [avatarFile, setAvatarFile] = useState<File | null>(null);\r\n  const [profileData, setProfileData] = useState({\r\n    first_name: user?.user_metadata?.first_name || '',\r\n    last_name: user?.user_metadata?.last_name || '',\r\n    phone: user?.user_metadata?.phone || '',\r\n    location: user?.user_metadata?.location || '',\r\n  });\r\n\r\n  console.log('👤 ProfilePage: Component rendered for user:', user?.email);\r\n\r\n  // Fetch user profile data\r\n  const { data: userProfile, isLoading: isLoadingProfile } = useQuery({\r\n    queryKey: ['user-profile', user?.id],\r\n    queryFn: () => databaseAPI.getUserProfile(user?.id || ''),\r\n    enabled: !!user?.id,\r\n  });\r\n\r\n  // Update profile mutation\r\n  const updateProfileMutation = useMutation({\r\n    mutationFn: async (data: typeof profileData) => {\r\n      if (!user) throw new Error('User not authenticated');\r\n      \r\n      console.log('🔄 ProfilePage: Updating profile data:', data);\r\n      \r\n      // Update profile in database\r\n      const updatedProfile = await databaseAPI.updateUserProfile(user.id, data);\r\n      console.log('✅ ProfilePage: Profile updated successfully:', updatedProfile);\r\n      \r\n      return updatedProfile;\r\n    },\r\n    onSuccess: () => {\r\n      console.log('🎉 Profile updated successfully!');\r\n      setIsEditing(false);\r\n      queryClient.invalidateQueries({ queryKey: ['user-profile', user?.id] });\r\n      alert(t('profile.update_success') || 'Perfil atualizado com sucesso!');\r\n    },\r\n    onError: (error) => {\r\n      console.error('❌ ProfilePage: Profile update error:', error);\r\n      alert(error instanceof Error ? error.message : 'Erro ao atualizar perfil');\r\n    },\r\n  });\r\n\r\n  // Upload avatar mutation\r\n  const uploadAvatarMutation = useMutation({\r\n    mutationFn: async (file: File) => {\r\n      if (!user) throw new Error('User not authenticated');\r\n      \r\n      console.log('📤 ProfilePage: Uploading avatar for user:', user.id);\r\n      const avatarUrl = await storageService.uploadAvatar(file, user.id);\r\n      console.log('✅ ProfilePage: Avatar uploaded successfully:', avatarUrl);\r\n      \r\n      // Update user metadata with new avatar URL\r\n      await databaseAPI.updateUserProfile(user.id, { avatar_url: avatarUrl });\r\n      \r\n      return avatarUrl;\r\n    },\r\n    onSuccess: () => {\r\n      console.log('🎉 Avatar updated successfully!');\r\n      setAvatarFile(null);\r\n      queryClient.invalidateQueries({ queryKey: ['user-profile', user?.id] });\r\n      alert(t('profile.avatar_success') || 'Avatar atualizado com sucesso!');\r\n    },\r\n    onError: (error) => {\r\n      console.error('❌ ProfilePage: Avatar upload error:', error);\r\n      alert(error instanceof Error ? error.message : 'Erro ao atualizar avatar');\r\n    },\r\n  });\r\n\r\n  const handleInputChange = (field: keyof typeof profileData, value: string) => {\r\n    setProfileData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleAvatarSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      try {\r\n        storageService.validateAvatarFile(file);\r\n        setAvatarFile(file);\r\n        console.log('📁 ProfilePage: Avatar file selected:', file.name);\r\n      } catch (error) {\r\n        console.error('❌ ProfilePage: Avatar validation error:', error);\r\n        alert(error instanceof Error ? error.message : 'Arquivo de avatar inválido');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSaveProfile = () => {\r\n    console.log('💾 ProfilePage: Saving profile data');\r\n    updateProfileMutation.mutate(profileData);\r\n  };\r\n\r\n  const handleUploadAvatar = () => {\r\n    if (avatarFile) {\r\n      console.log('📤 ProfilePage: Starting avatar upload');\r\n      uploadAvatarMutation.mutate(avatarFile);\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false);\r\n    setProfileData({\r\n      first_name: user?.user_metadata?.first_name || '',\r\n      last_name: user?.user_metadata?.last_name || '',\r\n      phone: user?.user_metadata?.phone || '',\r\n      location: user?.user_metadata?.location || '',\r\n    });\r\n  };\r\n\r\n  const handleSignOut = () => {\r\n    console.log('🚪 ProfilePage: User signing out');\r\n    signOut();\r\n  };\r\n\r\n  const getAvatarUrl = () => {\r\n    return userProfile?.avatar_url || user?.user_metadata?.avatar_url || '';\r\n  };\r\n\r\n  if (isLoadingProfile) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-responsive-md\">\r\n      {/* Header */}\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className=\"text-responsive-xl font-bold text-gray-900 dark:text-gray-100 mb-2\">\r\n          {t('profile.title') || 'Perfil do Usuário'}\r\n        </h1>\r\n        <p className=\"text-responsive-base text-gray-600 dark:text-gray-400\">\r\n          {t('profile.subtitle') || 'Gerencie suas informações pessoais e configurações'}\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Profile Card */}\r\n        <div className=\"lg:col-span-2\">\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <CardTitle className=\"flex items-center\">\r\n                  <User className=\"w-5 h-5 mr-2\" />\r\n                  {t('profile.personal_info') || 'Informações Pessoais'}\r\n                </CardTitle>\r\n                {!isEditing && (\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => setIsEditing(true)}\r\n                  >\r\n                    <Edit className=\"w-4 h-4 mr-2\" />\r\n                    {t('common.edit') || 'Editar'}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {/* Avatar Section */}\r\n              <div className=\"flex items-center space-x-4\">\r\n                <div className=\"relative\">\r\n                  <div className=\"w-20 h-20 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden\">\r\n                    {getAvatarUrl() ? (\r\n                      <img\r\n                        src={getAvatarUrl()}\r\n                        alt=\"Avatar\"\r\n                        className=\"w-full h-full object-cover\"\r\n                      />\r\n                    ) : (\r\n                      <User className=\"w-10 h-10 text-gray-400\" />\r\n                    )}\r\n                  </div>\r\n                  {isEditing && (\r\n                    <label className=\"absolute bottom-0 right-0 bg-primary-500 text-white p-1 rounded-full cursor-pointer hover:bg-primary-600\">\r\n                      <Camera className=\"w-4 h-4\" />\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        onChange={handleAvatarSelect}\r\n                        className=\"hidden\"\r\n                      />\r\n                    </label>\r\n                  )}\r\n                </div>\r\n                \r\n                {isEditing && avatarFile && (\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      {avatarFile.name}\r\n                    </span>\r\n                    <Button\r\n                      variant=\"primary\"\r\n                      size=\"sm\"\r\n                      onClick={handleUploadAvatar}\r\n                      isLoading={uploadAvatarMutation.isPending}\r\n                    >\r\n                      <Save className=\"w-4 h-4 mr-2\" />\r\n                      {t('profile.upload_avatar') || 'Enviar'}\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      onClick={() => setAvatarFile(null)}\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </Button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Profile Fields */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <Input\r\n                  label={t('profile.first_name') || 'Nome'}\r\n                  value={profileData.first_name}\r\n                  onChange={(e) => handleInputChange('first_name', e.target.value)}\r\n                  disabled={!isEditing}\r\n                  fullWidth\r\n                />\r\n                \r\n                <Input\r\n                  label={t('profile.last_name') || 'Sobrenome'}\r\n                  value={profileData.last_name}\r\n                  onChange={(e) => handleInputChange('last_name', e.target.value)}\r\n                  disabled={!isEditing}\r\n                  fullWidth\r\n                />\r\n                \r\n                <Input\r\n                  label={t('profile.phone') || 'Telefone'}\r\n                  value={profileData.phone}\r\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\r\n                  placeholder={t('placeholder.phone') || 'Ex: 84 123 4567'}\r\n                  disabled={!isEditing}\r\n                  fullWidth\r\n                />\r\n                \r\n                <Input\r\n                  label={t('profile.location') || 'Localização'}\r\n                  value={profileData.location}\r\n                  onChange={(e) => handleInputChange('location', e.target.value)}\r\n                  disabled={!isEditing}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n\r\n              {/* Edit Actions */}\r\n              {isEditing && (\r\n                <div className=\"flex space-x-2 pt-4\">\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    onClick={handleSaveProfile}\r\n                    isLoading={updateProfileMutation.isPending}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  >\r\n                    <Save className=\"w-4 h-4 mr-2\" />\r\n                    {t('common.save') || 'Salvar'}\r\n                  </Button>\r\n                  \r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={handleCancelEdit}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  >\r\n                    <X className=\"w-4 h-4 mr-2\" />\r\n                    {t('common.cancel') || 'Cancelar'}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Sidebar */}\r\n        <div className=\"space-y-6\">\r\n          {/* Stats Card */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg\">{t('profile.stats.title') || 'Estatísticas'}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-gray-600 dark:text-gray-400\">\r\n                  {t('profile.stats.documents') || 'Documentos'}\r\n                </span>\r\n                <span className=\"font-semibold\">{userProfile?.document_count || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-gray-600 dark:text-gray-400\">\r\n                  {t('profile.stats.points') || 'Pontos'}\r\n                </span>\r\n                <span className=\"font-semibold\">{userProfile?.points || 0}</span>\r\n              </div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-gray-600 dark:text-gray-400\">\r\n                  {t('profile.stats.helped') || 'Ajudou'}\r\n                </span>\r\n                <span className=\"font-semibold\">{userProfile?.helped_count || 0}</span>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Actions Card */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg\">{t('profile.actions.title') || 'Ações'}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full justify-start\"\r\n                onClick={() => alert(t('profile.actions.backup.description') || 'Funcionalidade de backup em desenvolvimento')}\r\n              >\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                {t('profile.actions.backup.title') || 'Backup de Dados'}\r\n              </Button>\r\n              \r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full justify-start\"\r\n                onClick={() => alert(t('profile.actions.notifications.description') || 'Configurações de notificações em desenvolvimento')}\r\n              >\r\n                <Bell className=\"w-4 h-4 mr-2\" />\r\n                {t('profile.actions.notifications.title') || 'Notificações'}\r\n              </Button>\r\n              \r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full justify-start\"\r\n                onClick={() => alert(t('profile.actions.security.description') || 'Configurações de segurança em desenvolvimento')}\r\n              >\r\n                <Shield className=\"w-4 h-4 mr-2\" />\r\n                {t('profile.actions.security.title') || 'Segurança'}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Sign Out */}\r\n          <Card>\r\n            <CardContent className=\"pt-6\">\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"w-full text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n                onClick={handleSignOut}\r\n              >\r\n                {t('nav.logout') || 'Sair'}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Send, MessageCircle, User, FileText, MapPin, Calendar } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport type { Chat, ChatMessage, Document } from '@/lib/types';\r\n\r\nexport const ChatPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  \r\n  const [selectedChat, setSelectedChat] = useState<Chat | null>(null);\r\n  const [messageText, setMessageText] = useState('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  console.log('💬 ChatPage: Component rendered for user:', user?.email);\r\n\r\n  // Fetch user's chats\r\n  const { data: chats, isLoading: isLoadingChats } = useQuery({\r\n    queryKey: ['user-chats', user?.id],\r\n    queryFn: () => databaseAPI.getUserChats(user?.id || ''),\r\n    enabled: !!user?.id,\r\n  });\r\n\r\n  // Fetch messages for selected chat\r\n  const { data: messages, isLoading: isLoadingMessages } = useQuery({\r\n    queryKey: ['chat-messages', selectedChat?.id],\r\n    queryFn: () => databaseAPI.getChatMessages(selectedChat?.id || ''),\r\n    enabled: !!selectedChat?.id,\r\n  });\r\n\r\n  // Send message mutation\r\n  const sendMessageMutation = useMutation({\r\n    mutationFn: async (message: string) => {\r\n      if (!selectedChat || !user) throw new Error('Chat or user not available');\r\n      \r\n      console.log('📤 ChatPage: Sending message:', message);\r\n      \r\n      const messageData = {\r\n        chat_id: selectedChat.id,\r\n        sender_id: user.id,\r\n        content: message,\r\n        created_at: new Date().toISOString(),\r\n      };\r\n      \r\n      const sentMessage = await databaseAPI.sendChatMessage(messageData);\r\n      console.log('✅ ChatPage: Message sent successfully:', sentMessage);\r\n      \r\n      return sentMessage;\r\n    },\r\n    onSuccess: () => {\r\n      console.log('🎉 Message sent successfully!');\r\n      setMessageText('');\r\n      queryClient.invalidateQueries({ queryKey: ['chat-messages', selectedChat?.id] });\r\n      queryClient.invalidateQueries({ queryKey: ['user-chats', user?.id] });\r\n    },\r\n    onError: (error) => {\r\n      console.error('❌ ChatPage: Send message error:', error);\r\n      alert(error instanceof Error ? error.message : 'Erro ao enviar mensagem');\r\n    },\r\n  });\r\n\r\n  // Filter chats based on search query\r\n  const filteredChats = chats?.filter(chat => {\r\n    if (!searchQuery) return true;\r\n    \r\n    const query = searchQuery.toLowerCase();\r\n    return (\r\n      chat.document_name?.toLowerCase().includes(query) ||\r\n      chat.other_user_name?.toLowerCase().includes(query) ||\r\n      chat.last_message?.toLowerCase().includes(query)\r\n    );\r\n  }) || [];\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages]);\r\n\r\n  const handleSendMessage = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!messageText.trim()) return;\r\n    \r\n    console.log('💬 ChatPage: Sending message');\r\n    sendMessageMutation.mutate(messageText.trim());\r\n  };\r\n\r\n  const handleChatSelect = (chat: Chat) => {\r\n    console.log('💬 ChatPage: Selecting chat:', chat.id);\r\n    setSelectedChat(chat);\r\n  };\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffInHours = (now.getTime() - date.getTime()) / (1000 * 60 * 60);\r\n    \r\n    if (diffInHours < 24) {\r\n      return date.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });\r\n    } else if (diffInHours < 48) {\r\n      return 'Ontem';\r\n    } else {\r\n      return date.toLocaleDateString('pt-BR', { day: '2-digit', month: '2-digit' });\r\n    }\r\n  };\r\n\r\n  const getDocumentStatusIcon = (status: string) => {\r\n    return status === 'lost' ? '🚨' : '💚';\r\n  };\r\n\r\n  const getDocumentStatusColor = (status: string) => {\r\n    return status === 'lost' ? 'text-red-600 bg-red-100' : 'text-green-600 bg-green-100';\r\n  };\r\n\r\n  if (isLoadingChats) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-screen flex\">\r\n      {/* Chat List Sidebar */}\r\n      <div className=\"w-80 border-r border-gray-200 dark:border-gray-700 flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n            {t('chat.title') || 'Chat'}\r\n          </h2>\r\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n            {chats?.length || 0} {t('chat.conversations') || 'conversas'}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Search */}\r\n        <div className=\"p-4\">\r\n          <Input\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder={t('chat.search_placeholder') || 'Pesquisar conversas...'}\r\n            fullWidth\r\n          />\r\n        </div>\r\n\r\n        {/* Chat List */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {filteredChats.length === 0 ? (\r\n            <div className=\"p-4 text-center\">\r\n              <MessageCircle className=\"w-12 h-12 text-gray-400 mx-auto mb-2\" />\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                {searchQuery \r\n                  ? t('chat.no_results') || 'Nenhuma conversa encontrada'\r\n                  : t('chat.no_conversations') || 'Nenhuma conversa ainda'\r\n                }\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            filteredChats.map((chat) => (\r\n              <div\r\n                key={chat.id}\r\n                onClick={() => handleChatSelect(chat)}\r\n                className={`p-4 border-b border-gray-100 dark:border-gray-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors ${\r\n                  selectedChat?.id === chat.id ? 'bg-primary-50 dark:bg-primary-900/20' : ''\r\n                }`}\r\n              >\r\n                <div className=\"flex items-start space-x-3\">\r\n                  <div className=\"flex-shrink-0\">\r\n                    <div className=\"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center\">\r\n                      <User className=\"w-5 h-5 text-gray-400\" />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\">\r\n                        {chat.other_user_name || t('chat.unknown_user') || 'Usuário Desconhecido'}\r\n                      </p>\r\n                      {chat.last_message_time && (\r\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                          {formatDate(chat.last_message_time)}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    <div className=\"flex items-center space-x-2 mt-1\">\r\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${getDocumentStatusColor(chat.document_status)}`}>\r\n                        {getDocumentStatusIcon(chat.document_status)} {t(`status.${chat.document_status}`)}\r\n                      </span>\r\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400 truncate\">\r\n                        {chat.document_name}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    {chat.last_message && (\r\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400 truncate mt-1\">\r\n                        {chat.last_message}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Messages */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {selectedChat ? (\r\n          <>\r\n            {/* Chat Header */}\r\n            <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center\">\r\n                  <User className=\"w-5 h-5 text-gray-400\" />\r\n                </div>\r\n                \r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100\">\r\n                    {selectedChat.other_user_name || t('chat.unknown_user') || 'Usuário Desconhecido'}\r\n                  </h3>\r\n                  <div className=\"flex items-center space-x-2 mt-1\">\r\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getDocumentStatusColor(selectedChat.document_status)}`}>\r\n                      {getDocumentStatusIcon(selectedChat.document_status)} {t(`status.${selectedChat.document_status}`)}\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                      {selectedChat.document_name}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n              {isLoadingMessages ? (\r\n                <div className=\"flex items-center justify-center h-full\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500\"></div>\r\n                </div>\r\n              ) : messages && messages.length > 0 ? (\r\n                messages.map((message) => (\r\n                  <div\r\n                    key={message.id}\r\n                    className={`flex ${message.sender_id === user?.id ? 'justify-end' : 'justify-start'}`}\r\n                  >\r\n                    <div\r\n                      className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\r\n                        message.sender_id === user?.id\r\n                          ? 'bg-primary-500 text-white'\r\n                          : 'bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100'\r\n                      }`}\r\n                    >\r\n                      <p className=\"text-sm\">{message.content}</p>\r\n                      <p className={`text-xs mt-1 ${\r\n                        message.sender_id === user?.id\r\n                          ? 'text-primary-100'\r\n                          : 'text-gray-500 dark:text-gray-400'\r\n                      }`}>\r\n                        {formatDate(message.created_at)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div className=\"text-center text-gray-500 dark:text-gray-400\">\r\n                  <MessageCircle className=\"w-12 h-12 mx-auto mb-2\" />\r\n                  <p>{t('chat.no_messages') || 'Nenhuma mensagem ainda'}</p>\r\n                  <p className=\"text-sm\">{t('chat.start_conversation') || 'Inicie uma conversa!'}</p>\r\n                </div>\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Message Input */}\r\n            <div className=\"p-4 border-t border-gray-200 dark:border-gray-700\">\r\n              <form onSubmit={handleSendMessage} className=\"flex space-x-2\">\r\n                <Input\r\n                  value={messageText}\r\n                  onChange={(e) => setMessageText(e.target.value)}\r\n                  placeholder={t('chat.placeholder') || 'Digite sua mensagem...'}\r\n                  disabled={sendMessageMutation.isPending}\r\n                  className=\"flex-1\"\r\n                  fullWidth\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={!messageText.trim() || sendMessageMutation.isPending}\r\n                  isLoading={sendMessageMutation.isPending}\r\n                >\r\n                  <Send className=\"w-4 h-4\" />\r\n                </Button>\r\n              </form>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"flex-1 flex items-center justify-center\">\r\n            <div className=\"text-center\">\r\n              <MessageCircle className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n                {t('chat.select_conversation') || 'Selecione uma conversa'}\r\n              </h3>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                {t('chat.select_conversation_desc') || 'Escolha uma conversa da lista para começar a mensagear'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { MapPin, Search, Filter, Layers, Navigation, Info } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Input } from '@/components/ui/Input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/Card';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { useTranslation } from '@/i18n';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { databaseAPI } from '@/lib/api/database';\r\nimport type { Document, DocumentType } from '@/lib/types';\r\n\r\ntype MapFilter = 'all' | 'lost' | 'found';\r\ntype MapView = 'documents' | 'heatmap' | 'clusters';\r\n\r\nexport const MapPage: React.FC = () => {\r\n  const { user } = useAuth();\r\n  const { t } = useTranslation();\r\n  const mapContainerRef = useRef<HTMLDivElement>(null);\r\n  const mapRef = useRef<any>(null);\r\n  \r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedFilter, setSelectedFilter] = useState<MapFilter>('all');\r\n  const [selectedType, setSelectedType] = useState<DocumentType | 'all'>('all');\r\n  const [mapView, setMapView] = useState<MapView>('documents');\r\n  const [userLocation, setUserLocation] = useState<{ lat: number; lng: number } | null>(null);\r\n\r\n  console.log('🗺️ MapPage: Component rendered for user:', user?.email);\r\n\r\n  // Fetch documents for map display\r\n  const { data: documents, isLoading: isLoadingDocuments } = useQuery({\r\n    queryKey: ['map-documents', selectedFilter, selectedType],\r\n    queryFn: async () => {\r\n      if (selectedFilter === 'lost') {\r\n        return databaseAPI.getLostDocuments({ type: selectedType === 'all' ? undefined : selectedType });\r\n      } else if (selectedFilter === 'found') {\r\n        return databaseAPI.getFoundDocuments({ type: selectedType === 'all' ? undefined : selectedType });\r\n      } else {\r\n        // Get both lost and found documents\r\n        const [lost, found] = await Promise.all([\r\n          databaseAPI.getLostDocuments({ type: selectedType === 'all' ? undefined : selectedType }),\r\n          databaseAPI.getFoundDocuments({ type: selectedType === 'all' ? undefined : selectedType }),\r\n        ]);\r\n        return [...lost, ...found];\r\n      }\r\n    },\r\n    enabled: !!user?.id,\r\n  });\r\n\r\n  // Filter documents based on search query\r\n  const filteredDocuments = documents?.filter(doc => {\r\n    if (!searchQuery) return true;\r\n    \r\n    const query = searchQuery.toLowerCase();\r\n    return (\r\n      doc.name.toLowerCase().includes(query) ||\r\n      doc.description?.toLowerCase().includes(query) ||\r\n      doc.location?.toLowerCase().includes(query)\r\n    );\r\n  }) || [];\r\n\r\n  // Get user's current location\r\n  useEffect(() => {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          const { latitude, longitude } = position.coords;\r\n          setUserLocation({ lat: latitude, lng: longitude });\r\n          console.log('📍 MapPage: User location obtained:', { lat: latitude, lng: longitude });\r\n        },\r\n        (error) => {\r\n          console.warn('⚠️ MapPage: Could not get user location:', error);\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  // Initialize map when component mounts\r\n  useEffect(() => {\r\n    if (mapContainerRef.current && !mapRef.current) {\r\n      initializeMap();\r\n    }\r\n  }, []);\r\n\r\n  // Update map when documents change\r\n  useEffect(() => {\r\n    if (mapRef.current && documents) {\r\n      updateMapMarkers();\r\n    }\r\n  }, [documents, mapView]);\r\n\r\n  const initializeMap = () => {\r\n    console.log('🗺️ MapPage: Initializing map');\r\n    \r\n    // For now, we'll create a placeholder map\r\n    // In a real implementation, you'd use Leaflet or Google Maps\r\n    if (mapContainerRef.current) {\r\n      mapContainerRef.current.innerHTML = `\r\n        <div class=\"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\">\r\n          <div class=\"text-center\">\r\n            <MapPin class=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n            <h3 class=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n              ${t('map.loading') || 'Carregando mapa...'}\r\n            </h3>\r\n            <p class=\"text-gray-600 dark:text-gray-400\">\r\n              ${t('map.initializing') || 'Inicializando visualização do mapa'}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }\r\n  };\r\n\r\n  const updateMapMarkers = () => {\r\n    console.log('🗺️ MapPage: Updating map markers for', filteredDocuments.length, 'documents');\r\n    \r\n    // This would update the map with new markers\r\n    // For now, we'll just log the action\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    console.log('🔍 MapPage: Searching for:', searchQuery);\r\n    // Search functionality would be implemented here\r\n  };\r\n\r\n  const handleFilterChange = (filter: MapFilter) => {\r\n    console.log('🔧 MapPage: Filter changed to:', filter);\r\n    setSelectedFilter(filter);\r\n  };\r\n\r\n  const handleTypeChange = (type: DocumentType | 'all') => {\r\n    console.log('🔧 MapPage: Type changed to:', type);\r\n    setSelectedType(type);\r\n  };\r\n\r\n  const handleViewChange = (view: MapView) => {\r\n    console.log('🔧 MapPage: View changed to:', view);\r\n    setMapView(view);\r\n  };\r\n\r\n  const handleGoToUserLocation = () => {\r\n    if (userLocation) {\r\n      console.log('📍 MapPage: Going to user location:', userLocation);\r\n      // This would center the map on user's location\r\n    } else {\r\n      console.log('⚠️ MapPage: User location not available');\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    return status === 'lost' ? 'text-red-600 bg-red-100' : 'text-green-600 bg-green-100';\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    return status === 'lost' ? '🚨' : '💚';\r\n  };\r\n\r\n  if (isLoadingDocuments) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-screen flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <div>\r\n            <h1 className=\"text-xl font-bold text-gray-900 dark:text-gray-100\">\r\n              {t('map.title') || 'Mapa de Documentos'}\r\n            </h1>\r\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              {t('map.subtitle') || 'Visualize documentos perdidos e encontrados no mapa'}\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={handleGoToUserLocation}\r\n              disabled={!userLocation}\r\n            >\r\n              <Navigation className=\"w-4 h-4 mr-2\" />\r\n              {t('map.my_location') || 'Minha Localização'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search and Filters */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3\">\r\n          {/* Search */}\r\n          <div className=\"md:col-span-2\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n              <Input\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n                placeholder={t('map.search_placeholder') || 'Pesquisar por localização...'}\r\n                className=\"pl-10\"\r\n                fullWidth\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status Filter */}\r\n          <div>\r\n            <select\r\n              value={selectedFilter}\r\n              onChange={(e) => handleFilterChange(e.target.value as MapFilter)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-sm\"\r\n            >\r\n              <option value=\"all\">{t('map.all_status') || 'Todos'}</option>\r\n              <option value=\"lost\">{t('map.lost_only') || 'Apenas Perdidos'}</option>\r\n              <option value=\"found\">{t('map.found_only') || 'Apenas Encontrados'}</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Type Filter */}\r\n          <div>\r\n            <select\r\n              value={selectedType}\r\n              onChange={(e) => handleTypeChange(e.target.value as DocumentType | 'all')}\r\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-sm\"\r\n            >\r\n              <option value=\"all\">{t('map.all_types') || 'Todos os Tipos'}</option>\r\n              <option value=\"bi\">{t('type.bi')}</option>\r\n              <option value=\"passaporte\">{t('type.passaporte')}</option>\r\n              <option value=\"carta\">{t('type.carta')}</option>\r\n              <option value=\"outros\">{t('type.outros')}</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Map View Controls */}\r\n        <div className=\"flex items-center space-x-2 mt-3\">\r\n          <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n            {t('map.view') || 'Visualização'}:\r\n          </span>\r\n          <div className=\"flex space-x-1\">\r\n            {(['documents', 'heatmap', 'clusters'] as MapView[]).map((view) => (\r\n              <Button\r\n                key={view}\r\n                variant={mapView === view ? 'primary' : 'outline'}\r\n                size=\"sm\"\r\n                onClick={() => handleViewChange(view)}\r\n              >\r\n                <Layers className=\"w-4 h-4 mr-1\" />\r\n                {t(`map.view_${view}`) || view}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      <div className=\"flex-1 relative\">\r\n        <div\r\n          ref={mapContainerRef}\r\n          className=\"w-full h-full bg-gray-100 dark:bg-gray-800\"\r\n        />\r\n        \r\n        {/* Results Count Overlay */}\r\n        <div className=\"absolute top-4 right-4\">\r\n          <Card className=\"shadow-lg\">\r\n            <CardContent className=\"p-3\">\r\n              <div className=\"text-center\">\r\n                <div className=\"text-lg font-bold text-gray-900 dark:text-gray-100\">\r\n                  {filteredDocuments.length}\r\n                </div>\r\n                <div className=\"text-xs text-gray-600 dark:text-gray-400\">\r\n                  {t('map.documents_shown') || 'documentos'}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Legend Overlay */}\r\n        <div className=\"absolute bottom-4 left-4\">\r\n          <Card className=\"shadow-lg\">\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm\">{t('map.legend') || 'Legenda'}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"pt-0\">\r\n              <div className=\"space-y-2 text-xs\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <span className=\"text-2xl\">🚨</span>\r\n                  <span className=\"text-gray-700 dark:text-gray-300\">\r\n                    {t('status.lost') || 'Perdido'}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <span className=\"text-2xl\">💚</span>\r\n                  <span className=\"text-gray-700 dark:text-gray-300\">\r\n                    {t('status.found') || 'Encontrado'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Document List Sidebar (Mobile) */}\r\n      <div className=\"md:hidden\">\r\n        <Card className=\"m-4\">\r\n          <CardHeader>\r\n            <CardTitle className=\"text-sm\">\r\n              {t('map.nearby_documents') || 'Documentos Próximos'}\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"pt-0\">\r\n            <div className=\"space-y-2 max-h-32 overflow-y-auto\">\r\n              {filteredDocuments.slice(0, 5).map((doc) => (\r\n                <div\r\n                  key={doc.id}\r\n                  className=\"flex items-center space-x-2 p-2 bg-gray-50 dark:bg-gray-700 rounded\"\r\n                >\r\n                  <span className=\"text-lg\">{getStatusIcon(doc.status)}</span>\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <p className=\"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\">\r\n                      {doc.name}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-600 dark:text-gray-400 truncate\">\r\n                      {doc.location}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {filteredDocuments.length === 0 && (\r\n                <div className=\"text-center text-gray-500 dark:text-gray-400 py-4\">\r\n                  <Info className=\"w-8 h-8 mx-auto mb-2\" />\r\n                  <p className=\"text-sm\">\r\n                    {t('map.no_documents_found') || 'Nenhum documento encontrado'}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Routes, Route, Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '@/lib/hooks/useAuth';\r\nimport { LoadingSpinner } from '@/components/ui/LoadingSpinner';\r\nimport { DashboardLayout } from './layouts/DashboardLayout';\r\nimport { LoginPage } from '@/features/auth/pages/LoginPage';\r\nimport { DocumentsPage } from '@/features/documents/pages/DocumentsPage';\r\nimport { ReportLostPage } from '@/features/reports/pages/ReportLostPage';\r\nimport { ReportFoundPage } from '@/features/reports/pages/ReportFoundPage';\r\nimport { FeedPage } from '@/features/feed/pages/FeedPage';\r\nimport { ProfilePage } from '@/features/profile/pages/ProfilePage';\r\nimport { ChatPage } from '@/features/chat/pages/ChatPage';\r\nimport { MapPage } from '@/features/map/pages/MapPage';\r\n\r\n// Protected Route Component\r\nconst ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n  \r\n  console.log('🔒 ProtectedRoute: State:', { isAuthenticated, isLoading });\r\n  \r\n  if (isLoading) {\r\n    console.log('🔒 ProtectedRoute: Still loading, showing spinner');\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (!isAuthenticated) {\r\n    console.log('🔒 ProtectedRoute: User not authenticated, redirecting to login');\r\n    return <Navigate to=\"/login\" replace />;\r\n  }\r\n  \r\n  console.log('🔒 ProtectedRoute: User authenticated, showing children');\r\n  return <>{children}</>;\r\n};\r\n\r\n// Public Route Component (redirects to dashboard if already authenticated)\r\nconst PublicRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n  \r\n  console.log('🔓 PublicRoute: State:', { isAuthenticated, isLoading });\r\n  \r\n  if (isLoading) {\r\n    console.log('🔓 PublicRoute: Still loading, showing spinner');\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  if (isAuthenticated) {\r\n    console.log('🔓 PublicRoute: User already authenticated, redirecting to dashboard');\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n  \r\n  console.log('🔓 PublicRoute: User not authenticated, showing login page');\r\n  return <>{children}</>;\r\n};\r\n\r\nexport const AppRouter: React.FC = () => {\r\n  const location = useLocation();\r\n  \r\n  console.log('🔍 AppRouter: Current location:', location.pathname);\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Public routes */}\r\n      <Route \r\n        path=\"/login\" \r\n        element={\r\n          <PublicRoute>\r\n            <LoginPage />\r\n          </PublicRoute>\r\n        } \r\n      />\r\n      \r\n      {/* Protected routes */}\r\n      <Route \r\n        path=\"/dashboard/*\" \r\n        element={\r\n          <ProtectedRoute>\r\n            <DashboardLayout />\r\n          </ProtectedRoute>\r\n        }\r\n      >\r\n        <Route \r\n          index \r\n          element={<Navigate to=\"/dashboard/documents\" replace />} \r\n        />\r\n        <Route \r\n          path=\"documents\" \r\n          element={<DocumentsPage />} \r\n        />\r\n        <Route \r\n          path=\"feed\" \r\n          element={<FeedPage />} \r\n        />\r\n        <Route \r\n          path=\"report-lost\" \r\n          element={<ReportLostPage />} \r\n        />\r\n        <Route \r\n          path=\"report-found\" \r\n          element={<ReportFoundPage />} \r\n        />\r\n        <Route \r\n          path=\"profile\" \r\n          element={<ProfilePage />} \r\n        />\r\n        <Route \r\n          path=\"chat\" \r\n          element={<ChatPage />} \r\n        />\r\n        <Route \r\n          path=\"map\" \r\n          element={<MapPage />} \r\n        />\r\n      </Route>\r\n      \r\n      {/* Default redirect */}\r\n      <Route \r\n        path=\"/\" \r\n        element={<Navigate to=\"/dashboard\" replace />} \r\n      />\r\n      <Route \r\n        path=\"*\" \r\n        element={<Navigate to=\"/login\" replace />} \r\n      />\r\n    </Routes>\r\n  );\r\n};\r\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\r\nimport { AlertCircle, RefreshCw } from 'lucide-react';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { Card, CardContent } from '@/components/ui/Card';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error?: Error;\r\n  errorInfo?: ErrorInfo;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  public static getDerivedStateFromError(error: Error): State {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error('Error caught by boundary:', error, errorInfo);\r\n    this.setState({ error, errorInfo });\r\n  }\r\n\r\n  private handleRetry = () => {\r\n    this.setState({ hasError: false, error: undefined, errorInfo: undefined });\r\n  };\r\n\r\n  private handleReload = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      return (\r\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4\">\r\n          <Card className=\"max-w-md w-full\">\r\n            <CardContent className=\"text-center\">\r\n              <div className=\"mb-6\">\r\n                <AlertCircle className=\"h-12 w-12 text-error-500 mx-auto mb-4\" />\r\n                <h2 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2\">\r\n                  Oops! Algo deu errado\r\n                </h2>\r\n                <p className=\"text-gray-600 dark:text-gray-400\">\r\n                  Ocorreu um erro inesperado. Tente novamente ou recarregue a página.\r\n                </p>\r\n              </div>\r\n\r\n              {process.env.NODE_ENV === 'development' && this.state.error && (\r\n                <div className=\"mb-6 p-3 bg-gray-100 dark:bg-gray-800 rounded text-left text-xs\">\r\n                  <details>\r\n                    <summary className=\"cursor-pointer font-medium text-gray-700 dark:text-gray-300\">\r\n                      Error Details (Development Only)\r\n                    </summary>\r\n                    <pre className=\"mt-2 text-red-600 dark:text-red-400 overflow-auto\">\r\n                      {this.state.error.toString()}\r\n                      {this.state.errorInfo?.componentStack}\r\n                    </pre>\r\n                  </details>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex gap-3 justify-center\">\r\n                <Button \r\n                  variant=\"outline\" \r\n                  onClick={this.handleRetry}\r\n                  leftIcon={<RefreshCw className=\"h-4 w-4\" />}\r\n                >\r\n                  Tentar Novamente\r\n                </Button>\r\n                <Button \r\n                  variant=\"primary\" \r\n                  onClick={this.handleReload}\r\n                >\r\n                  Recarregar Página\r\n                </Button>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// Hook version for functional components\r\nexport const useErrorHandler = () => {\r\n  const handleError = (error: Error, errorInfo?: ErrorInfo) => {\r\n    console.error('Error handled:', error, errorInfo);\r\n    \r\n    // You can send to error reporting service here\r\n    // e.g., Sentry, LogRocket, etc.\r\n  };\r\n\r\n  return handleError;\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport { AppRouter } from './app/router';\r\nimport { ErrorBoundary } from './app/error-boundary';\r\nimport { initializeSupabase } from './lib/supabase';\r\n\r\n// Create a client\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n      retry: (failureCount, error: any) => {\r\n        // Don't retry on 4xx errors except 408 (timeout)\r\n        if (error?.status >= 400 && error?.status < 500 && error?.status !== 408) {\r\n          return false;\r\n        }\r\n        // Retry up to 3 times for other errors\r\n        return failureCount < 3;\r\n      },\r\n    },\r\n    mutations: {\r\n      retry: false, // Don't retry mutations by default\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  // Initialize Supabase\r\n  useEffect(() => {\r\n    console.log('🔧 App: Initializing Supabase...');\r\n    initializeSupabase()\r\n      .then(() => console.log('✅ App: Supabase initialized successfully'))\r\n      .catch((error) => console.error('❌ App: Failed to initialize Supabase:', error));\r\n  }, []);\r\n\r\n  // Set up theme detection\r\n  useEffect(() => {\r\n    const savedTheme = localStorage.getItem('findmydocs_theme');\r\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n    \r\n    const theme = savedTheme || (prefersDark ? 'dark' : 'light');\r\n    \r\n    if (theme === 'dark') {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, []);\r\n\r\n  // Add viewport meta tag for mobile optimization\r\n  useEffect(() => {\r\n    const viewportMeta = document.querySelector('meta[name=\"viewport\"]');\r\n    if (!viewportMeta) {\r\n      const meta = document.createElement('meta');\r\n      meta.name = 'viewport';\r\n      meta.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover';\r\n      document.head.appendChild(meta);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <QueryClientProvider client={queryClient}>\r\n        <BrowserRouter>\r\n          <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200\">\r\n            <AppRouter />\r\n          </div>\r\n        </BrowserRouter>\r\n      </QueryClientProvider>\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport App from './App';\r\nimport './styles/globals.css';\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"names":["React","require$$0","REACT_ELEMENT_TYPE","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_OFFSCREEN_TYPE","MAYBE_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","ReactSharedInternals","error","format","_len2","args","_key2","printWarning","level","ReactDebugCurrentFrame","stack","argsWithFormat","item","enableScopeAPI","enableCacheElement","enableTransitionTracing","enableLegacyHidden","enableDebugTracing","REACT_MODULE_REFERENCE","isValidElementType","type","getWrappedName","outerType","innerType","wrapperName","displayName","functionName","getContextName","getComponentNameFromType","context","provider","outerName","lazyComponent","payload","init","assign","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","disableLogs","props","reenableLogs","ReactCurrentDispatcher","prefix","describeBuiltInComponentFrame","name","source","ownerFn","x","match","reentry","componentFrameCache","PossiblyWeakMap","describeNativeComponentFrame","fn","construct","frame","control","previousPrepareStackTrace","previousDispatcher","Fake","sample","sampleLines","controlLines","s","c","_frame","syntheticFrame","describeFunctionComponentFrame","shouldConstruct","Component","prototype","describeUnknownElementTypeFrameInDEV","hasOwnProperty","loggedTypeFailures","setCurrentlyValidatingElement","element","owner","checkPropTypes","typeSpecs","values","location","componentName","has","typeSpecName","error$1","err","ex","isArrayImpl","isArray","a","typeName","value","hasToStringTag","willCoercionThrow","testStringCoercion","checkKeyStringCoercion","ReactCurrentOwner","RESERVED_PROPS","specialPropKeyWarningShown","specialPropRefWarningShown","didWarnAboutStringRefs","hasValidRef","config","getter","hasValidKey","warnIfStringRefCannotBeAutoConverted","self","defineKeyPropWarningGetter","warnAboutAccessingKey","defineRefPropWarningGetter","warnAboutAccessingRef","ReactElement","key","ref","jsxDEV","maybeKey","propName","defaultProps","ReactCurrentOwner$1","ReactDebugCurrentFrame$1","setCurrentlyValidatingElement$1","propTypesMisspellWarningShown","isValidElement","object","getDeclarationErrorAddendum","getSourceInfoErrorAddendum","fileName","lineNumber","ownerHasKeyUseWarning","getCurrentComponentErrorInfo","parentType","info","parentName","validateExplicitKey","currentComponentErrorInfo","childOwner","validateChildKeys","node","i","child","iteratorFn","iterator","step","validatePropTypes","propTypes","_name","validateFragmentProps","fragment","keys","didWarnAboutKeySpread","jsxWithValidation","isStaticChildren","validType","sourceInfo","typeString","children","k","beforeExample","afterExample","jsxWithValidationStatic","jsxWithValidationDynamic","jsx","jsxs","reactJsxRuntime_development","jsxRuntimeModule","m","o","client","h","getSupabaseConfig","supabaseUrl","supabaseAnonKey","serverPorts","port","response","supabaseClient","initPromise","initializeSupabase","createClient","getSupabaseClient","STORAGE_BUCKETS","TABLES","AuthServiceImpl","__publicField","email","password","data","_a","userData","profileError","user","callback","subscription","unsubscribe","authService","DatabaseAPI","_b","userId","updates","documentData","documentId","filters","query","chatData","chatId","chat","_d","_c","_f","_e","messageData","participantIds","currentUserId","otherUserId","id","notificationData","notificationId","userProfile","userDocs","normalDocs","doc","limit","databaseAPI","useAuth","authState","setAuthState","useState","queryClient","useQueryClient","profile","profileLoading","useQuery","failureCount","useEffect","event","session","prev","signIn","signUp","signInWithGoogle","signOut","finalIsLoading","r","e","f","clsx","LoadingSpinner","size","className","color","sizes","colors","defaultAttributes","toKebabCase","string","createLucideIcon","iconName","iconNode","forwardRef","strokeWidth","absoluteStrokeWidth","rest","createElement","tag","attrs","createLucideIcon$1","AlertCircle","AlertTriangle","Bell","Calendar","Camera","Check","Crown","Download","Eye","FileText","Filter","Heart","Info","Layers","LogOut","MapPin","Menu","MessageCircle","Moon","Navigation","PenSquare","Plus","RefreshCw","Save","Search","Send","Shield","Sun","Upload","User","X","ptTranslations","enTranslations","STORAGE_KEY","translations","useTranslation","currentLanguage","setCurrentLanguage","setLanguage","lang","t","navigationItems","BottomNavigation","Icon","NavLink","isActive","Fragment","Button","variant","isLoading","leftIcon","rightIcon","disabled","fullWidth","baseClasses","variants","isDisabled","useEntitlements","limits","useMemo","isPremium","Card","padding","paddings","CardHeader","CardTitle","CardContent","CardFooter","NotificationCenter","isOpen","onClose","activeTab","setActiveTab","notifications","markAsReadMutation","useMutation","markAllAsReadMutation","unreadNotifications","n","filteredNotifications","notification","unreadCount","handleMarkAsRead","handleMarkAllAsRead","getNotificationIcon","getNotificationColor","formatNotificationTime","dateString","date","diffInMinutes","hours","NotificationBell","isNotificationCenterOpen","setIsNotificationCenterOpen","handleNotificationClick","handleCloseNotificationCenter","TopNavigation","entitlements","isMenuOpen","setIsMenuOpen","isDark","setIsDark","toggleTheme","newTheme","handleLogout","DashboardLayout","Outlet","Input","label","helperText","inputId","LoginPage","navigate","useNavigate","setEmail","setPassword","isSubmitting","setIsSubmitting","isAuthenticated","handleSubmit","errorMessage","handleGoogleLogin","handleSignupClick","Modal","title","closeOnOverlayClick","showCloseButton","handleEscape","handleOverlayClick","createPortal","StorageServiceImpl","files","uploadPromises","file","index","fileExtension","uploadData","uploadError","publicUrl","fileData","results","bucket","path","filePaths","maxFiles","maxSizePerFile","allowedTypes","storageService","AddDocumentModal","formData","setFormData","setFiles","dragActive","setDragActive","createDocumentMutation","createdDocument","uploadedFiles","updatedDocument","document","resetForm","handleInputChange","field","handleFileSelect","selectedFiles","fileArray","newFiles","removeFile","_","handleDragOver","handleDragLeave","handleDrop","formatFileSize","bytes","DocumentsPage","searchQuery","setSearchQuery","isAddModalOpen","setIsAddModalOpen","documents","filteredDocuments","normalDocuments","lostDocuments","getDocumentTypeLabel","getStatusLabel","status","ReportLostPage","reportLostMutation","ReportFoundPage","reportFoundMutation","FeedPage","selectedFilter","setSelectedFilter","selectedType","setSelectedType","isLoadingLost","foundDocuments","isLoadingFound","formatDate","getStatusColor","getStatusIcon","handleContact","handleViewDetails","ProfilePage","isEditing","setIsEditing","avatarFile","setAvatarFile","profileData","setProfileData","isLoadingProfile","updateProfileMutation","updatedProfile","uploadAvatarMutation","avatarUrl","handleAvatarSelect","handleSaveProfile","handleUploadAvatar","handleCancelEdit","handleSignOut","getAvatarUrl","Edit","ChatPage","messagesEndRef","useRef","selectedChat","setSelectedChat","messageText","setMessageText","chats","isLoadingChats","messages","isLoadingMessages","sendMessageMutation","message","sentMessage","filteredChats","handleSendMessage","handleChatSelect","diffInHours","getDocumentStatusIcon","getDocumentStatusColor","MapPage","mapContainerRef","mapRef","mapView","setMapView","userLocation","setUserLocation","isLoadingDocuments","lost","found","position","latitude","longitude","initializeMap","updateMapMarkers","handleSearch","handleFilterChange","filter","handleTypeChange","handleViewChange","view","handleGoToUserLocation","ProtectedRoute","Navigate","PublicRoute","AppRouter","useLocation","Routes","Route","ErrorBoundary","errorInfo","QueryClient","App","savedTheme","prefersDark","meta","QueryClientProvider","BrowserRouter","ReactDOM"],"mappings":"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","x_google_ignoreList":[0,1,2,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]}