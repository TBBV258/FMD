var g=(h,b,u)=>new Promise((f,c)=>{var p=o=>{try{n(u.next(o))}catch(r){c(r)}},d=o=>{try{n(u.throw(o))}catch(r){c(r)}},n=o=>o.done?f(o.value):Promise.resolve(o.value).then(p,d);n((u=u.apply(h,b)).next())});import{a as T,r as S,M as v,b as w,h as t,j as i,n as P,N as q,O as L,w as y,o as x,u as $,P as z,k as V}from"./vue-vendor-DaTTP-8l.js";import{u as F,_ as N,T as j,a as D}from"./index-mTKM-63l.js";import{_ as m}from"./BaseInput.vue_vue_type_script_setup_true_lang-DdtVjlZM.js";import"./supabase-DO0Dm75k.js";const G="/FMD/logofmd.jpg",R={class:"min-h-screen bg-gradient-to-br from-primary to-success flex items-center justify-center px-4"},B={class:"w-full max-w-md"},O={class:"card"},A={class:"flex border-b border-gray-200 dark:border-dark-border mb-6"},Q=T({__name:"LoginView",setup(h){const b=$(),u=z(),f=F(),{success:c,error:p}=D(),d=S("login"),n=S(!1),o=v({email:"",password:""}),r=v({fullName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",country:"MZ"}),a=v({email:"",password:"",fullName:"",confirmPassword:""}),k=l=>{const e="flex-1 py-3 font-medium transition-all border-b-2";return l===d.value?`${e} border-primary text-primary`:`${e} border-transparent text-gray-500 hover:text-gray-700`},C=l=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l),E=()=>{a.email="",a.password="",a.fullName="",a.confirmPassword=""},X=()=>g(this,null,function*(){if(E(),!C(o.email)){a.email="Email inválido";return}if(o.password.length<6){a.password="Senha deve ter no mínimo 6 caracteres";return}n.value=!0;const l=yield f.signIn(o.email,o.password);if(n.value=!1,l.success){c("Login realizado com sucesso!");const e=u.query.redirect||"/";b.push(e)}else p(l.error||"Erro ao fazer login"),a.email=l.error||""}),M=()=>g(this,null,function*(){if(E(),!r.fullName.trim()){a.fullName="Nome é obrigatório";return}if(!C(r.email)){a.email="Email inválido";return}if(r.password.length<6){a.password="Senha deve ter no mínimo 6 caracteres";return}if(r.password!==r.confirmPassword){a.confirmPassword="Senhas não conferem";return}n.value=!0;const l=yield f.signUp(r.email,r.password,{fullName:r.fullName,phoneNumber:r.phoneNumber,country:r.country});n.value=!1,l.success?(c("Conta criada com sucesso! Verifique seu email."),d.value="login",o.email=r.email):p(l.error||"Erro ao criar conta")}),U=()=>g(this,null,function*(){p("Login com Google em breve!")});return(l,e)=>(x(),w("div",R,[t("div",B,[e[14]||(e[14]=t("div",{class:"text-center mb-8"},[t("img",{src:G,alt:"FindMyDocs Logo",class:"h-20 w-20 mx-auto rounded-2xl shadow-lg mb-4"}),t("h1",{class:"text-3xl font-bold text-white mb-2"},"FindMyDocs"),t("p",{class:"text-white/80"},"Gestão de Documentos Perdidos")],-1)),t("div",O,[t("div",A,[t("button",{class:P(k("login")),onClick:e[0]||(e[0]=s=>d.value="login")}," Login ",2),t("button",{class:P(k("register")),onClick:e[1]||(e[1]=s=>d.value="register")}," Registar ",2)]),d.value==="login"?(x(),w("form",{key:0,onSubmit:q(X,["prevent"]),class:"space-y-4"},[i(m,{modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=s=>o.email=s),label:"Email",type:"email",placeholder:"seu@email.com",icon:"fas fa-envelope",error:a.email,required:""},null,8,["modelValue","error"]),i(m,{modelValue:o.password,"onUpdate:modelValue":e[3]||(e[3]=s=>o.password=s),label:"Senha",type:"password",placeholder:"••••••••",icon:"fas fa-lock",error:a.password,required:""},null,8,["modelValue","error"]),e[11]||(e[11]=L('<div class="flex items-center justify-between text-sm"><label class="flex items-center"><input type="checkbox" class="mr-2"><span class="text-gray-600 dark:text-gray-400">Lembrar-me</span></label><a href="#" class="text-primary hover:underline">Esqueceu a senha?</a></div>',1)),i(N,{type:"submit",variant:"primary",size:"lg","full-width":"",loading:n.value,"loading-text":"Entrando..."},{default:y(()=>[...e[9]||(e[9]=[V(" Entrar ",-1)])]),_:1},8,["loading"]),e[12]||(e[12]=L('<div class="relative my-6"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300 dark:border-dark-border"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-white dark:bg-dark-card text-gray-500">Ou continue com</span></div></div>',1)),i(N,{variant:"outline",size:"lg","full-width":"",onClick:U},{default:y(()=>[...e[10]||(e[10]=[t("i",{class:"fab fa-google mr-2 text-red-500"},null,-1),V(" Google ",-1)])]),_:1})],32)):(x(),w("form",{key:1,onSubmit:q(M,["prevent"]),class:"space-y-4"},[i(m,{modelValue:r.fullName,"onUpdate:modelValue":e[4]||(e[4]=s=>r.fullName=s),label:"Nome Completo",placeholder:"João Silva",icon:"fas fa-user",error:a.fullName,required:""},null,8,["modelValue","error"]),i(m,{modelValue:r.email,"onUpdate:modelValue":e[5]||(e[5]=s=>r.email=s),label:"Email",type:"email",placeholder:"seu@email.com",icon:"fas fa-envelope",error:a.email,required:""},null,8,["modelValue","error"]),i(m,{modelValue:r.phoneNumber,"onUpdate:modelValue":e[6]||(e[6]=s=>r.phoneNumber=s),label:"Telefone (opcional)",type:"tel",placeholder:"+258 XX XXX XXXX",icon:"fas fa-phone"},null,8,["modelValue"]),i(m,{modelValue:r.password,"onUpdate:modelValue":e[7]||(e[7]=s=>r.password=s),label:"Senha",type:"password",placeholder:"••••••••",icon:"fas fa-lock",error:a.password,hint:"Mínimo 6 caracteres",required:""},null,8,["modelValue","error"]),i(m,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[8]||(e[8]=s=>r.confirmPassword=s),label:"Confirmar Senha",type:"password",placeholder:"••••••••",icon:"fas fa-lock",error:a.confirmPassword,required:""},null,8,["modelValue","error"]),i(N,{type:"submit",variant:"primary",size:"lg","full-width":"",loading:n.value,"loading-text":"Criando conta..."},{default:y(()=>[...e[13]||(e[13]=[V(" Criar Conta ",-1)])]),_:1},8,["loading"])],32))]),e[15]||(e[15]=t("p",{class:"text-center text-white/80 text-sm mt-6"}," © 2025 FindMyDocs. Todos os direitos reservados. ",-1))]),i(j)]))}});export{Q as default};
