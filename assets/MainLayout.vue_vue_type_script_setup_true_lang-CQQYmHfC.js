import{a as g,r as x,c as _,l as y,m as E,b as n,o as t,h as e,j as $,e as u,t as f,T as M,w,F as k,s as C,i as N,n as p,f as L,P as B,v as S,p as h}from"./vue-vendor-DaTTP-8l.js";import{d as I,e as b,b as j}from"./index-mTKM-63l.js";const D={class:"relative"},T={class:"text-lg"},F={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-card rounded-lg shadow-lg border border-gray-200 dark:border-dark-border z-50"},z={class:"py-2"},P=["onClick"],R={class:"text-xl"},V={class:"flex-1 text-left"},A={key:0,class:"fas fa-check text-primary text-xs"},U=g({__name:"LanguageSelector",setup(l){const{locale:s}=I(),o=x(!1),r=_(()=>s.value),d=_(()=>b.find(c=>c.code===r.value)||b[0]),m=c=>{s.value=c,localStorage.setItem("fmd_language",c),o.value=!1},v=c=>{c.key==="Escape"&&(o.value=!1)};return y(()=>{document.addEventListener("keydown",v)}),E(()=>{document.removeEventListener("keydown",v)}),(c,a)=>(t(),n("div",D,[e("button",{class:"btn-icon flex items-center space-x-1",onClick:a[0]||(a[0]=i=>o.value=!o.value),"aria-label":"Selecionar idioma"},[e("span",T,f(d.value.flag),1)]),$(M,{name:"fade"},{default:w(()=>[o.value?(t(),n("div",F,[e("div",z,[(t(!0),n(k,null,C(N(b),i=>(t(),n("button",{key:i.code,class:p(["w-full flex items-center space-x-3 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"bg-gray-50 dark:bg-gray-800":i.code===r.value}]),onClick:ne=>m(i.code)},[e("span",R,f(i.flag),1),e("span",V,f(i.name),1),i.code===r.value?(t(),n("i",A)):u("",!0)],10,P))),128))])])):u("",!0)]),_:1}),o.value?(t(),n("div",{key:0,class:"fixed inset-0 z-40",onClick:a[1]||(a[1]=i=>o.value=!1)})):u("",!0)]))}}),q=j(U,[["__scopeId","data-v-a3b349de"]]),G={class:"fixed top-0 left-0 right-0 z-40 bg-white dark:bg-dark-card border-b border-gray-200 dark:border-dark-border pt-safe"},H={class:"flex items-center justify-between px-4 h-14"},J={class:"flex items-center space-x-2"},K=["src"],O={class:"text-lg font-bold text-gray-900 dark:text-dark-text"},Q={class:"flex items-center space-x-2"},W=g({__name:"TopBar",props:{title:{default:"FindMyDocs"},logo:{default:"/logofmd.jpg"}},setup(l){const s=x(!1);y(()=>{s.value=document.documentElement.classList.contains("dark")});const o=()=>{s.value=!s.value,s.value?(document.documentElement.classList.add("dark"),localStorage.setItem("fmd_dark_mode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("fmd_dark_mode","false"))};return(r,d)=>(t(),n(k,null,[e("header",G,[e("div",H,[e("div",J,[l.logo?(t(),n("img",{key:0,src:l.logo,alt:"Logo",class:"h-8 w-8 object-contain rounded-md"},null,8,K)):u("",!0),e("h1",O,f(l.title),1)]),e("div",Q,[L(r.$slots,"actions",{},()=>[$(q),e("button",{class:"btn-icon",onClick:o,"aria-label":"Alternar tema"},[e("i",{class:p(s.value?"fas fa-sun":"fas fa-moon")},null,2)])])])])]),d[0]||(d[0]=e("div",{class:"h-14 pt-safe"},null,-1))],64))}}),X={class:"bottom-nav"},Y={class:"flex items-center justify-around h-16"},Z={class:"relative"},ee={key:0,class:"absolute -top-2 -right-2 bg-danger text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},te={class:"mt-1"},ae=g({__name:"BottomNavigation",props:{notificationCount:{default:0}},setup(l){const s=l,o=B(),r=_(()=>[{name:"feed",label:"Início",icon:"fas fa-home",to:"/"},{name:"map",label:"Mapa",icon:"fas fa-map",to:"/map"},{name:"report-found",label:"Reportar",icon:"fas fa-plus-circle",to:"/report-found"},{name:"notifications",label:"Notificações",icon:"fas fa-bell",to:"/notifications",badge:s.notificationCount},{name:"profile",label:"Perfil",icon:"fas fa-user",to:"/profile"}]),d=m=>o.path===m;return(m,v)=>{const c=S("router-link");return t(),n("nav",X,[e("div",Y,[(t(!0),n(k,null,C(r.value,a=>(t(),h(c,{key:a.name,to:a.to,class:p(["bottom-nav-item",{active:d(a.to)}])},{default:w(()=>[e("div",Z,[e("i",{class:p([a.icon,"text-xl"])},null,2),a.badge&&a.badge>0?(t(),n("span",ee,f(a.badge>99?"99+":a.badge),1)):u("",!0)]),e("span",te,f(a.label),1)]),_:2},1032,["to","class"]))),128))])])}}}),oe={class:"min-h-screen bg-gray-50 dark:bg-dark-bg pb-16"},se={class:"container mx-auto px-0 sm:px-4 max-w-2xl"},ce=g({__name:"MainLayout",props:{showTopBar:{type:Boolean,default:!0},showBottomNav:{type:Boolean,default:!0},notificationCount:{default:0}},setup(l){const s=B(),o=_(()=>({"/":"FindMyDocs","/report-lost":"Relatar Perda","/report-found":"Relatar Encontrado","/notifications":"Notificações","/profile":"Perfil"})[s.path]||"FindMyDocs");return(r,d)=>(t(),n("div",oe,[l.showTopBar?(t(),h(W,{key:0,title:o.value},null,8,["title"])):u("",!0),e("main",se,[L(r.$slots,"default")]),l.showBottomNav?(t(),h(ae,{key:1,"notification-count":l.notificationCount},null,8,["notification-count"])):u("",!0)]))}});export{ce as _};
