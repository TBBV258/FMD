import{a as U,r as f,M as p,b as m,N as F,h as o,j as d,e as V,k as b,t as w,O as N,o as g,u as M,P as R}from"./vue-vendor-DJ0JNZJp.js";import{l as T}from"./logofmd-DeXnOIzE.js";import{u as $,T as D,a as j,_ as A}from"./index-DomtK_OL.js";import{_ as c}from"./BaseInput.vue_vue_type_script_setup_true_lang-CoC9VMDy.js";import"./supabase-aQ0K3vAX.js";const B={class:"min-h-screen bg-gradient-to-br from-orange-400 via-orange-300 to-orange-200 flex items-center justify-center px-4 relative overflow-hidden"},I={class:"w-full max-w-md"},z={key:0,class:"bg-white dark:bg-dark-card rounded-3xl shadow-2xl p-8 text-center animate-fade-in"},W={key:1,class:"bg-white dark:bg-dark-card rounded-3xl shadow-2xl p-8 animate-slide-in"},G={class:"text-2xl font-bold text-gray-900 dark:text-dark-text mb-2"},J=["disabled"],O={class:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4"},Z=["disabled"],H={class:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4"},K=U({__name:"LoginView",setup(Q){const S=M(),E=R(),v=$(),{success:x,error:h}=j(),i=f("login"),u=f(!1),n=f(!1),C=()=>{i.value="login",u.value=!0},q=()=>{i.value="register",u.value=!0},s=p({email:"",password:""}),t=p({fullName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",country:"MZ"}),r=p({email:"",password:"",fullName:"",confirmPassword:""}),y=l=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l),k=()=>{r.email="",r.password="",r.fullName="",r.confirmPassword=""},L=async()=>{if(k(),!y(s.email)){r.email="Email inválido";return}if(s.password.length<6){r.password="Senha deve ter no mínimo 6 caracteres";return}n.value=!0;const l=await v.signIn(s.email,s.password);if(n.value=!1,l.success){x("Login realizado com sucesso!");const e=E.query.redirect||"/";S.push(e)}else h(l.error||"Erro ao fazer login"),r.email=l.error||""},P=async()=>{if(k(),!t.fullName.trim()){r.fullName="Nome é obrigatório";return}if(!y(t.email)){r.email="Email inválido";return}if(t.password.length<6){r.password="Senha deve ter no mínimo 6 caracteres";return}if(t.password!==t.confirmPassword){r.confirmPassword="Senhas não conferem";return}n.value=!0;const l=await v.signUp(t.email,t.password,{fullName:t.fullName,phoneNumber:t.phoneNumber,country:t.country});n.value=!1,l.success?(x("Conta criada com sucesso! Verifique seu email."),i.value="login",s.email=t.email):h(l.error||"Erro ao criar conta")};return(l,e)=>(g(),m("div",B,[e[17]||(e[17]=F('<div class="absolute top-10 right-20 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute top-16 right-32 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute top-12 right-24 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute top-20 right-16 w-2 h-2 bg-white/40 rounded-full" data-v-b0129010></div><div class="absolute bottom-32 left-16 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute bottom-40 left-20 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute bottom-36 left-12 w-2 h-2 bg-white/40 rounded-full" data-v-b0129010></div>',7)),o("div",I,[u.value?V("",!0):(g(),m("div",z,[e[9]||(e[9]=o("div",{class:"mb-8"},[o("img",{src:T,alt:"FindMyDocs Logo",class:"h-32 w-32 mx-auto rounded-2xl shadow-lg mb-4"})],-1)),e[10]||(e[10]=o("h1",{class:"text-2xl font-bold text-gray-900 dark:text-dark-text mb-2"},"Welcome!",-1)),e[11]||(e[11]=o("p",{class:"text-gray-600 dark:text-gray-400 mb-8 text-sm"}," Sign in to access your documents ",-1)),o("button",{onClick:C,class:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 mb-4"}," Go to Sign in "),o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},[e[8]||(e[8]=b(" No account yet? ",-1)),o("button",{onClick:q,class:"text-orange-500 font-semibold hover:underline"},"Sign up")])])),u.value?(g(),m("div",W,[o("button",{onClick:e[0]||(e[0]=a=>u.value=!1),class:"mb-6 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white flex items-center"},[...e[12]||(e[12]=[o("i",{class:"fas fa-arrow-left mr-2"},null,-1)])]),o("h2",G,w(i.value==="login"?"Welcome back!":"Create new account"),1),e[16]||(e[16]=o("div",{class:"w-12 h-1 bg-gradient-to-r from-orange-400 to-orange-500 rounded-full mb-6"},null,-1)),i.value==="login"?(g(),m("form",{key:0,onSubmit:N(L,["prevent"]),class:"space-y-5"},[d(c,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=a=>s.email=a),label:"Email",type:"email",placeholder:"Enter your email",icon:"fas fa-envelope",error:r.email,required:""},null,8,["modelValue","error"]),d(c,{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=a=>s.password=a),label:"Password",type:"password",placeholder:"Enter your password",icon:"fas fa-lock",error:r.password,required:""},null,8,["modelValue","error"]),e[14]||(e[14]=o("div",{class:"flex items-center justify-between text-sm"},[o("label",{class:"flex items-center cursor-pointer"},[o("input",{type:"checkbox",class:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Remember me")])],-1)),o("button",{type:"submit",disabled:n.value,class:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},w(n.value?"Signing in...":"Sign in!"),9,J),o("p",O,[e[13]||(e[13]=b(" Don't have an account? ",-1)),o("button",{type:"button",onClick:e[3]||(e[3]=a=>i.value="register"),class:"text-orange-500 font-semibold hover:underline"},"Sign up")])],32)):(g(),m("form",{key:1,onSubmit:N(P,["prevent"]),class:"space-y-5"},[d(c,{modelValue:t.fullName,"onUpdate:modelValue":e[4]||(e[4]=a=>t.fullName=a),label:"Full name",placeholder:"John Doe",icon:"fas fa-user",error:r.fullName,required:""},null,8,["modelValue","error"]),d(c,{modelValue:t.email,"onUpdate:modelValue":e[5]||(e[5]=a=>t.email=a),label:"Email address",type:"email",placeholder:"Enter your email",icon:"fas fa-envelope",error:r.email,required:""},null,8,["modelValue","error"]),d(c,{modelValue:t.password,"onUpdate:modelValue":e[6]||(e[6]=a=>t.password=a),label:"Create password",type:"password",placeholder:"Min 6 characters",icon:"fas fa-lock",error:r.password,required:""},null,8,["modelValue","error"]),o("button",{type:"submit",disabled:n.value,class:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},w(n.value?"Creating account...":"Sign Up!"),9,Z),o("p",H,[e[15]||(e[15]=b(" Already have an account? ",-1)),o("button",{type:"button",onClick:e[7]||(e[7]=a=>i.value="login"),class:"text-orange-500 font-semibold hover:underline"},"Sign in")])],32))])):V("",!0)]),d(D)]))}}),te=A(K,[["__scopeId","data-v-b0129010"]]);export{te as default};
