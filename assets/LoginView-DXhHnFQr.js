var h=(S,x,u)=>new Promise((w,g)=>{var v=r=>{try{n(u.next(r))}catch(c){g(c)}},l=r=>{try{n(u.throw(r))}catch(c){g(c)}},n=r=>r.done?w(r.value):Promise.resolve(r.value).then(v,l);n((u=u.apply(S,x)).next())});import{a as M,r as y,M as k,b as f,N as R,h as o,j as m,e as q,k as V,t as N,O as L,o as p,u as T,P as $}from"./vue-vendor-CG29anWM.js";import{l as D}from"./logofmd-DeXnOIzE.js";import{u as j,T as A,a as B,_ as I}from"./index-kKZCKLVg.js";import{_ as b}from"./BaseInput.vue_vue_type_script_setup_true_lang-CLqNeAgL.js";import"./supabase-DO0Dm75k.js";const z={class:"min-h-screen bg-gradient-to-br from-orange-400 via-orange-300 to-orange-200 flex items-center justify-center px-4 relative overflow-hidden"},W={class:"w-full max-w-md"},G={key:0,class:"bg-white dark:bg-dark-card rounded-3xl shadow-2xl p-8 text-center animate-fade-in"},J={key:1,class:"bg-white dark:bg-dark-card rounded-3xl shadow-2xl p-8 animate-slide-in"},O={class:"text-2xl font-bold text-gray-900 dark:text-dark-text mb-2"},Z=["disabled"],H={class:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4"},K=["disabled"],Q={class:"text-center text-sm text-gray-600 dark:text-gray-400 mt-4"},X=M({__name:"LoginView",setup(S){const x=T(),u=$(),w=j(),{success:g,error:v}=B(),l=y("login"),n=y(!1),r=y(!1),c=()=>{l.value="login",n.value=!0},P=()=>{l.value="register",n.value=!0},i=k({email:"",password:""}),t=k({fullName:"",email:"",phoneNumber:"",password:"",confirmPassword:"",country:"MZ"}),a=k({email:"",password:"",fullName:"",confirmPassword:""}),E=d=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d),C=()=>{a.email="",a.password="",a.fullName="",a.confirmPassword=""},U=()=>h(this,null,function*(){if(C(),!E(i.email)){a.email="Email inválido";return}if(i.password.length<6){a.password="Senha deve ter no mínimo 6 caracteres";return}r.value=!0;const d=yield w.signIn(i.email,i.password);if(r.value=!1,d.success){g("Login realizado com sucesso!");const e=u.query.redirect||"/";x.push(e)}else v(d.error||"Erro ao fazer login"),a.email=d.error||""}),F=()=>h(this,null,function*(){if(C(),!t.fullName.trim()){a.fullName="Nome é obrigatório";return}if(!E(t.email)){a.email="Email inválido";return}if(t.password.length<6){a.password="Senha deve ter no mínimo 6 caracteres";return}if(t.password!==t.confirmPassword){a.confirmPassword="Senhas não conferem";return}r.value=!0;const d=yield w.signUp(t.email,t.password,{fullName:t.fullName,phoneNumber:t.phoneNumber,country:t.country});r.value=!1,d.success?(g("Conta criada com sucesso! Verifique seu email."),l.value="login",i.email=t.email):v(d.error||"Erro ao criar conta")});return(d,e)=>(p(),f("div",z,[e[17]||(e[17]=R('<div class="absolute top-10 right-20 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute top-16 right-32 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute top-12 right-24 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute top-20 right-16 w-2 h-2 bg-white/40 rounded-full" data-v-b0129010></div><div class="absolute bottom-32 left-16 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute bottom-40 left-20 w-2 h-2 bg-white/30 rounded-full" data-v-b0129010></div><div class="absolute bottom-36 left-12 w-2 h-2 bg-white/40 rounded-full" data-v-b0129010></div>',7)),o("div",W,[n.value?q("",!0):(p(),f("div",G,[e[9]||(e[9]=o("div",{class:"mb-8"},[o("img",{src:D,alt:"FindMyDocs Logo",class:"h-32 w-32 mx-auto rounded-2xl shadow-lg mb-4"})],-1)),e[10]||(e[10]=o("h1",{class:"text-2xl font-bold text-gray-900 dark:text-dark-text mb-2"},"Welcome!",-1)),e[11]||(e[11]=o("p",{class:"text-gray-600 dark:text-gray-400 mb-8 text-sm"}," Sign in to access your documents ",-1)),o("button",{onClick:c,class:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 mb-4"}," Go to Sign in "),o("p",{class:"text-sm text-gray-600 dark:text-gray-400"},[e[8]||(e[8]=V(" No account yet? ",-1)),o("button",{onClick:P,class:"text-orange-500 font-semibold hover:underline"},"Sign up")])])),n.value?(p(),f("div",J,[o("button",{onClick:e[0]||(e[0]=s=>n.value=!1),class:"mb-6 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white flex items-center"},[...e[12]||(e[12]=[o("i",{class:"fas fa-arrow-left mr-2"},null,-1)])]),o("h2",O,N(l.value==="login"?"Welcome back!":"Create new account"),1),e[16]||(e[16]=o("div",{class:"w-12 h-1 bg-gradient-to-r from-orange-400 to-orange-500 rounded-full mb-6"},null,-1)),l.value==="login"?(p(),f("form",{key:0,onSubmit:L(U,["prevent"]),class:"space-y-5"},[m(b,{modelValue:i.email,"onUpdate:modelValue":e[1]||(e[1]=s=>i.email=s),label:"Email",type:"email",placeholder:"Enter your email",icon:"fas fa-envelope",error:a.email,required:""},null,8,["modelValue","error"]),m(b,{modelValue:i.password,"onUpdate:modelValue":e[2]||(e[2]=s=>i.password=s),label:"Password",type:"password",placeholder:"Enter your password",icon:"fas fa-lock",error:a.password,required:""},null,8,["modelValue","error"]),e[14]||(e[14]=o("div",{class:"flex items-center justify-between text-sm"},[o("label",{class:"flex items-center cursor-pointer"},[o("input",{type:"checkbox",class:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o("span",{class:"ml-2 text-gray-600 dark:text-gray-400"},"Remember me")])],-1)),o("button",{type:"submit",disabled:r.value,class:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},N(r.value?"Signing in...":"Sign in!"),9,Z),o("p",H,[e[13]||(e[13]=V(" Don't have an account? ",-1)),o("button",{type:"button",onClick:e[3]||(e[3]=s=>l.value="register"),class:"text-orange-500 font-semibold hover:underline"},"Sign up")])],32)):(p(),f("form",{key:1,onSubmit:L(F,["prevent"]),class:"space-y-5"},[m(b,{modelValue:t.fullName,"onUpdate:modelValue":e[4]||(e[4]=s=>t.fullName=s),label:"Full name",placeholder:"John Doe",icon:"fas fa-user",error:a.fullName,required:""},null,8,["modelValue","error"]),m(b,{modelValue:t.email,"onUpdate:modelValue":e[5]||(e[5]=s=>t.email=s),label:"Email address",type:"email",placeholder:"Enter your email",icon:"fas fa-envelope",error:a.email,required:""},null,8,["modelValue","error"]),m(b,{modelValue:t.password,"onUpdate:modelValue":e[6]||(e[6]=s=>t.password=s),label:"Create password",type:"password",placeholder:"Min 6 characters",icon:"fas fa-lock",error:a.password,required:""},null,8,["modelValue","error"]),o("button",{type:"submit",disabled:r.value,class:"w-full bg-gradient-to-r from-orange-400 to-orange-500 text-white font-semibold py-4 px-6 rounded-2xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},N(r.value?"Creating account...":"Sign Up!"),9,K),o("p",Q,[e[15]||(e[15]=V(" Already have an account? ",-1)),o("button",{type:"button",onClick:e[7]||(e[7]=s=>l.value="login"),class:"text-orange-500 font-semibold hover:underline"},"Sign in")])],32))])):q("",!0)]),m(A)]))}}),ae=I(X,[["__scopeId","data-v-b0129010"]]);export{ae as default};
