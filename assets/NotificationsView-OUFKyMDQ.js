import{a as $,r as h,c as u,p as N,w as D,o,h as a,b as d,F as I,s as M,n as m,e as B,t as f,N as S,u as j}from"./vue-vendor-DaTTP-8l.js";import{_ as T}from"./MainLayout.vue_vue_type_script_setup_true_lang-CQQYmHfC.js";import"./index-mTKM-63l.js";import"./supabase-DO0Dm75k.js";const V={class:"px-4 py-6"},F={key:0,class:"text-center py-12"},R={key:1,class:"space-y-3"},A=["onClick"],L={class:"flex items-start space-x-3"},z={class:"flex-1 min-w-0"},E={class:"font-semibold text-gray-900 dark:text-dark-text mb-1"},H={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},O={class:"text-xs text-gray-500"},q=["onClick"],U=$({__name:"NotificationsView",setup(G){const n=j(),g=h("all"),c=h([{id:"1",user_id:"1",type:"system",title:"Bem-vindo ao FindMyDocs!",message:"Comece reportando um documento perdido ou encontrado.",data:{},read:!1,created_at:new Date().toISOString()}]),x=u(()=>c.value),_=u(()=>c.value.filter(e=>e.type==="message"));u(()=>g.value==="all"?x.value:_.value);const v=e=>e?"opacity-60":"",k=e=>{const s={match:"w-10 h-10 rounded-full bg-success/10 text-success flex items-center justify-center",message:"w-10 h-10 rounded-full bg-primary/10 text-primary flex items-center justify-center",system:"w-10 h-10 rounded-full bg-gray-100 dark:bg-dark-card text-gray-600 dark:text-gray-400 flex items-center justify-center",verification:"w-10 h-10 rounded-full bg-warning/10 text-warning-dark flex items-center justify-center"};return s[e]||s.system},b=e=>({match:"fas fa-check-double",message:"fas fa-envelope",system:"fas fa-info-circle",verification:"fas fa-shield-alt"})[e]||"fas fa-bell",w=e=>{const s=new Date,t=new Date(e),r=s.getTime()-t.getTime(),l=Math.floor(r/6e4),i=Math.floor(l/60),p=Math.floor(i/24);return l<1?"Agora":l<60?`${l}m atrás`:i<24?`${i}h atrás`:p<7?`${p}d atrás`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},C=e=>{var s,t,r;y(e.id),e.type==="match"&&((s=e.data)!=null&&s.documentId)?n.push(`/document/${e.data.documentId}`):e.type==="message"&&((t=e.data)!=null&&t.documentId)?n.push(`/chat/${e.data.documentId}`):e.type==="verification"&&((r=e.data)!=null&&r.documentId)&&n.push(`/document/${e.data.documentId}`)},y=e=>{const s=c.value.find(t=>t.id===e);s&&(s.read=!0)};return(e,s)=>(o(),N(T,null,{default:D(()=>[a("div",V,[c.value.length===0?(o(),d("div",F,[...s[0]||(s[0]=[a("i",{class:"fas fa-bell-slash text-gray-400 text-6xl mb-4"},null,-1),a("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Sem notificações ",-1),a("p",{class:"text-gray-500 dark:text-gray-400"}," Você está em dia! ",-1)])])):(o(),d("div",R,[(o(!0),d(I,null,M(c.value,t=>(o(),d("div",{key:t.id,class:m([v(t.read),"card card-hover"]),onClick:r=>C(t)},[a("div",L,[a("div",{class:m(k(t.type))},[a("i",{class:m(b(t.type))},null,2)],2),a("div",z,[a("h4",E,f(t.title),1),a("p",H,f(t.message),1),a("p",O,f(w(t.created_at)),1)]),t.read?B("",!0):(o(),d("button",{key:0,class:"w-2 h-2 rounded-full bg-primary",onClick:S(r=>y(t.id),["stop"])},null,8,q))])],10,A))),128))]))])]),_:1}))}});export{U as default};
