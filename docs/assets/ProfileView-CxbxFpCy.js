var C=(b,n,r)=>new Promise((u,l)=>{var x=e=>{try{t(r.next(e))}catch(f){l(f)}},c=e=>{try{t(r.throw(e))}catch(f){l(f)}},t=e=>e.done?u(e.value):Promise.resolve(e.value).then(x,c);t((r=r.apply(b,n)).next())});import{a as D,U as R,c as V,p as T,o as d,w as y,h as s,n as h,j as m,k as w,t as i,r as P,l as I,O as H,b as p,s as L,u as W,F as z,i as g}from"./vue-vendor-D3gglZhg.js";import{u as j,b as _,a as E,T as G}from"./index-DVvGwCfe.js";import{u as J}from"./useDocuments-Dw73pwAQ.js";import{_ as K}from"./MainLayout.vue_vue_type_script_setup_true_lang-po6AB_6N.js";import{P as Q}from"./ProfilePhotoUpload-7RIaWTZ4.js";import{B as N}from"./BaseModal-CG4KKHeH.js";import"./supabase-BZLovRLP.js";import"./logofmd-DIbmBIad.js";const X={class:"space-y-4"},Y={class:"grid md:grid-cols-3 gap-4"},Z=D({__name:"SubscriptionPlansModal",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(b){const n=R(b,"modelValue"),r=j(),{success:u}=E(),l=V(()=>{var c;return((c=r.profile)==null?void 0:c.plan)||"free"}),x=c=>{u(`Funcionalidade de pagamento em breve para o plano ${c}!`),n.value=!1};return(c,t)=>(d(),T(N,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=e=>n.value=e),title:"Planos de SubscriÃ§Ã£o",maxWidth:"lg"},{default:y(()=>[s("div",X,[t[12]||(t[12]=s("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-6"}," Escolha o plano que melhor se adapta Ã s suas necessidades. Economize mais com planos de longo prazo! ",-1)),s("div",Y,[s("div",{class:h(["border-2 rounded-xl p-6 transition-all hover:shadow-lg",l.value==="monthly"?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700"])},[t[4]||(t[4]=s("div",{class:"text-center mb-4"},[s("h3",{class:"text-xl font-bold text-gray-900 dark:text-dark-text"},"Mensal"),s("p",{class:"text-3xl font-bold text-gray-900 dark:text-dark-text mt-2"},"500 MT"),s("p",{class:"text-sm text-gray-500"},"por mÃªs")],-1)),t[5]||(t[5]=s("ul",{class:"space-y-3 mb-6 text-sm"},[s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",null,"Uploads ilimitados")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",null,"Sem anÃºncios")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",null,"Busca avanÃ§ada")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",null,"NotificaÃ§Ãµes push")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",null,"Suporte prioritÃ¡rio")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",null,"Backup automÃ¡tico")])],-1)),m(_,{variant:"primary","full-width":"",onClick:t[0]||(t[0]=e=>x("monthly")),disabled:l.value==="monthly"},{default:y(()=>[w(i(l.value==="monthly"?"Plano Atual":"Selecionar"),1)]),_:1},8,["disabled"])],2),s("div",{class:h(["border-2 rounded-xl p-6 relative transition-all hover:shadow-lg",l.value==="quarterly"?"border-primary bg-primary/5":"border-primary"])},[t[6]||(t[6]=s("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2"},[s("span",{class:"bg-primary text-white px-4 py-1 rounded-full text-xs font-bold"}," POPULAR ")],-1)),t[7]||(t[7]=s("div",{class:"text-center mb-4"},[s("h3",{class:"text-xl font-bold text-primary"},"Trimestral"),s("p",{class:"text-3xl font-bold text-gray-900 dark:text-dark-text mt-2"},"1.350 MT"),s("p",{class:"text-sm text-gray-500"},"a cada 3 meses"),s("p",{class:"text-xs text-success font-semibold mt-1"},"Economize 10%")],-1)),t[8]||(t[8]=s("ul",{class:"space-y-3 mb-6 text-sm"},[s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-primary mt-1"}),s("span",{class:"font-medium"},"Uploads ilimitados")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-primary mt-1"}),s("span",{class:"font-medium"},"Sem anÃºncios")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-primary mt-1"}),s("span",{class:"font-medium"},"Busca avanÃ§ada")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-primary mt-1"}),s("span",{class:"font-medium"},"NotificaÃ§Ãµes push")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-primary mt-1"}),s("span",{class:"font-medium"},"Suporte prioritÃ¡rio")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-primary mt-1"}),s("span",{class:"font-medium"},"Backup automÃ¡tico")])],-1)),m(_,{variant:"primary","full-width":"",onClick:t[1]||(t[1]=e=>x("quarterly")),disabled:l.value==="quarterly"},{default:y(()=>[w(i(l.value==="quarterly"?"Plano Atual":"Selecionar"),1)]),_:1},8,["disabled"])],2),s("div",{class:h(["border-2 rounded-xl p-6 transition-all hover:shadow-lg",l.value==="annual"?"border-success bg-success/5":"border-success"])},[t[9]||(t[9]=s("div",{class:"absolute -top-3 left-1/2 transform -translate-x-1/2"},[s("span",{class:"bg-success text-white px-4 py-1 rounded-full text-xs font-bold"}," MELHOR VALOR ")],-1)),t[10]||(t[10]=s("div",{class:"text-center mb-4 mt-2"},[s("h3",{class:"text-xl font-bold text-success"},"Anual"),s("p",{class:"text-3xl font-bold text-gray-900 dark:text-dark-text mt-2"},"4.800 MT"),s("p",{class:"text-sm text-gray-500"},"por ano"),s("p",{class:"text-xs text-success font-semibold mt-1"},"Economize 20%")],-1)),t[11]||(t[11]=s("ul",{class:"space-y-3 mb-6 text-sm"},[s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",{class:"font-medium"},"Uploads ilimitados")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",{class:"font-medium"},"Sem anÃºncios")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",{class:"font-medium"},"Busca avanÃ§ada")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",{class:"font-medium"},"NotificaÃ§Ãµes push")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",{class:"font-medium"},"Suporte prioritÃ¡rio")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-check text-success mt-1"}),s("span",{class:"font-medium"},"Backup automÃ¡tico")]),s("li",{class:"flex items-start space-x-2"},[s("i",{class:"fas fa-star text-warning-dark mt-1"}),s("span",{class:"font-medium text-warning-dark"},"2 meses grÃ¡tis")])],-1)),m(_,{variant:"success","full-width":"",onClick:t[2]||(t[2]=e=>x("annual")),disabled:l.value==="annual"},{default:y(()=>[w(i(l.value==="annual"?"Plano Atual":"Selecionar"),1)]),_:1},8,["disabled"])],2)]),t[13]||(t[13]=s("div",{class:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center"},[s("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," ðŸ’³ Aceitamos M-Pesa, CartÃ£o de CrÃ©dito e TransferÃªncia BancÃ¡ria ")],-1))])]),_:1},8,["modelValue"]))}}),ss={class:"px-4 py-6 space-y-6"},ts={class:"card text-center"},as={class:"flex justify-center mb-4"},es={class:"text-xl font-bold text-gray-900 dark:text-dark-text mb-1"},ls={class:"text-gray-600 dark:text-gray-400 mb-4"},os={class:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200 dark:border-dark-border"},is={class:"text-2xl font-bold text-primary"},rs={class:"flex items-center justify-center space-x-1"},ns={class:"text-2xl font-bold text-success"},cs={class:"text-xs text-gray-500 capitalize"},ds={class:"card divide-y divide-gray-200 dark:divide-dark-border"},us=["onClick"],ms={class:"flex items-center space-x-3"},xs={class:"text-gray-900 dark:text-dark-text"},fs={class:"card mt-6"},ps={class:"flex items-center justify-between mb-3"},ys={key:0,class:"text-gray-500"},gs={key:1,class:"text-red-500"},vs={key:2,class:"text-gray-500"},bs={key:3,class:"space-y-3"},ks={class:"min-w-0"},hs={class:"font-medium text-gray-900 dark:text-dark-text truncate"},ws={class:"text-xs text-gray-500 capitalize"},_s={class:"text-xs text-gray-400"},Ls=D({__name:"ProfileView",setup(b){const n=W(),r=j(),{success:u}=E(),{items:l,loading:x,error:c,fetchMyDocuments:t}=J(),e=P(!1),f=P(!1),S=P(!1),F=V(()=>r.user),k=V(()=>r.profile),O=()=>C(this,null,function*(){e.value=!0;const v=yield r.signOut();e.value=!1,v.success&&(u("Logout realizado com sucesso!"),n.push("/login"))}),q=[{icon:"fas fa-user-edit",label:"Editar Perfil",action:()=>n.push("/edit-profile")},{icon:"fas fa-file-alt",label:"Meus Documentos",action:()=>n.push("/documents")},{icon:"fas fa-crown",label:"Planos de SubscriÃ§Ã£o",action:()=>f.value=!0},{icon:"fas fa-bell",label:"NotificaÃ§Ãµes",action:()=>n.push("/notifications")},{icon:"fas fa-lock",label:"Privacidade e SeguranÃ§a",action:()=>{u("Funcionalidade em breve!")}},{icon:"fas fa-question-circle",label:"Ajuda e Suporte",action:()=>{u("Funcionalidade em breve!")}},{icon:"fas fa-cog",label:"ConfiguraÃ§Ãµes",action:()=>{u("Funcionalidade em breve!")}}];return I(()=>C(this,null,function*(){var v;(v=r.user)!=null&&v.id&&(yield t(r.user.id))})),(v,a)=>(d(),T(K,null,{default:y(()=>{var M,B,U,$,A;return[s("div",ss,[s("div",ts,[s("div",as,[m(Q)]),s("h2",es,i(((M=k.value)==null?void 0:M.full_name)||"UsuÃ¡rio"),1),s("p",ls,i((B=F.value)==null?void 0:B.email),1),s("div",os,[s("div",null,[s("p",is,i(((U=k.value)==null?void 0:U.document_count)||0),1),a[4]||(a[4]=s("p",{class:"text-xs text-gray-500"},"Documentos",-1))]),s("div",null,[s("div",rs,[s("p",ns,i((($=k.value)==null?void 0:$.points)||0),1),s("button",{class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:a[0]||(a[0]=H(o=>S.value=!0,["stop"])),title:"Como ganhar pontos?"},[...a[5]||(a[5]=[s("i",{class:"fas fa-info-circle text-xs"},null,-1)])])]),a[6]||(a[6]=s("p",{class:"text-xs text-gray-500"},"Pontos",-1))]),s("div",null,[a[7]||(a[7]=s("p",{class:"text-2xl font-bold text-warning-dark"},[s("i",{class:"fas fa-crown"})],-1)),s("p",cs,i(((A=k.value)==null?void 0:A.plan)||"Free"),1)])])]),s("div",ds,[(d(),p(z,null,L(q,o=>s("button",{key:o.label,class:"flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors w-full text-left",onClick:o.action},[s("div",ms,[s("i",{class:h([o.icon,"text-gray-600 dark:text-gray-400 w-5"])},null,2),s("span",xs,i(o.label),1)]),a[8]||(a[8]=s("i",{class:"fas fa-chevron-right text-gray-400 text-sm"},null,-1))],8,us)),64))]),m(_,{variant:"danger",size:"lg","full-width":"",onClick:O,loading:e.value},{default:y(()=>[...a[9]||(a[9]=[s("i",{class:"fas fa-sign-out-alt mr-2"},null,-1),w(" Sair ",-1)])]),_:1},8,["loading"]),a[10]||(a[10]=s("p",{class:"text-center text-sm text-gray-500"}," VersÃ£o 2.0.0 ",-1))]),m(Z,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=o=>f.value=o)},null,8,["modelValue"]),m(N,{modelValue:S.value,"onUpdate:modelValue":a[2]||(a[2]=o=>S.value=o),title:"Como ganhar pontos?"},{default:y(()=>[...a[11]||(a[11]=[s("div",{class:"space-y-3"},[s("div",{class:"flex items-start space-x-3"},[s("i",{class:"fas fa-check-double text-success mt-1"}),s("div",null,[s("p",{class:"font-semibold"},"Match de documento"),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"+50 pontos")])]),s("div",{class:"flex items-start space-x-3"},[s("i",{class:"fas fa-file-alt text-primary mt-1"}),s("div",null,[s("p",{class:"font-semibold"},"Reportar documento"),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"+10 pontos")])]),s("div",{class:"flex items-start space-x-3"},[s("i",{class:"fas fa-shield-alt text-warning-dark mt-1"}),s("div",null,[s("p",{class:"font-semibold"},"Documento verificado"),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"+20 pontos")])]),s("div",{class:"flex items-start space-x-3"},[s("i",{class:"fas fa-calendar-day text-info mt-1"}),s("div",null,[s("p",{class:"font-semibold"},"Login diÃ¡rio"),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"+5 pontos")])]),s("div",{class:"flex items-start space-x-3"},[s("i",{class:"fas fa-hands-helping text-success mt-1"}),s("div",null,[s("p",{class:"font-semibold"},"Ajudar outros"),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"+15 pontos")])]),s("div",{class:"flex items-start space-x-3"},[s("i",{class:"fas fa-user-check text-primary mt-1"}),s("div",null,[s("p",{class:"font-semibold"},"Completar perfil"),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"+25 pontos")])])],-1)])]),_:1},8,["modelValue"]),s("div",fs,[s("div",ps,[a[12]||(a[12]=s("h3",{class:"text-lg font-semibold text-gray-900 dark:text-dark-text"},"Meus documentos",-1)),s("button",{class:"text-primary text-sm",onClick:a[3]||(a[3]=o=>g(n).push("/documents"))}," Ver todos ")]),g(x)?(d(),p("div",ys,"Carregando documentos...")):g(c)?(d(),p("div",gs,i(g(c)),1)):g(l).length===0?(d(),p("div",vs," Nenhum documento cadastrado. ")):(d(),p("ul",bs,[(d(!0),p(z,null,L(g(l).slice(0,3),o=>(d(),p("li",{key:o.id,class:"flex items-center justify-between border border-gray-200 dark:border-dark-border rounded-lg px-3 py-2"},[s("div",ks,[s("p",hs,i(o.title),1),s("p",ws,i(o.status),1)]),s("span",_s,i(new Date(o.created_at).toLocaleDateString("pt-BR")),1)]))),128))]))]),m(G)]}),_:1}))}});export{Ls as default};
