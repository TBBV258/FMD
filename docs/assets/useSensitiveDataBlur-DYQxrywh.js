var Le=Object.defineProperty,Se=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var se=(e,o,a)=>o in e?Le(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,_=(e,o)=>{for(var a in o||(o={}))ce.call(o,a)&&se(e,a,o[a]);if(X)for(var a of X(o))le.call(o,a)&&se(e,a,o[a]);return e},G=(e,o)=>Se(e,Oe(o));var ue=(e,o)=>{var a={};for(var l in e)ce.call(e,l)&&o.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&X)for(var l of X(e))o.indexOf(l)<0&&le.call(e,l)&&(a[l]=e[l]);return a};var S=(e,o,a)=>new Promise((l,R)=>{var T=h=>{try{g(a.next(h))}catch(E){R(E)}},f=h=>{try{g(a.throw(h))}catch(E){R(E)}},g=h=>h.done?l(h.value):Promise.resolve(h.value).then(T,f);g((a=a.apply(e,o)).next())});import{r as fe}from"./vue-vendor-D3gglZhg.js";var Ae={exports:{}};(function(e){var o=function(a){var l=Object.prototype,R=l.hasOwnProperty,T=Object.defineProperty||function(r,t,n){r[t]=n.value},f,g=typeof Symbol=="function"?Symbol:{},h=g.iterator||"@@iterator",E=g.asyncIterator||"@@asyncIterator",p=g.toStringTag||"@@toStringTag";function u(r,t,n){return Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{u({},"")}catch(r){u=function(t,n,d){return t[n]=d}}function v(r,t,n,d){var s=t&&t.prototype instanceof M?t:M,y=Object.create(s.prototype),i=new z(d||[]);return T(y,"_invoke",{value:te(r,n,i)}),y}a.wrap=v;function w(r,t,n){try{return{type:"normal",arg:r.call(t,n)}}catch(d){return{type:"throw",arg:d}}}var L="suspendedStart",O="suspendedYield",P="executing",D="completed",N={};function M(){}function j(){}function U(){}var k={};u(k,h,function(){return this});var x=Object.getPrototypeOf,F=x&&x(x(q([])));F&&F!==l&&R.call(F,h)&&(k=F);var B=U.prototype=M.prototype=Object.create(k);j.prototype=U,T(B,"constructor",{value:U,configurable:!0}),T(U,"constructor",{value:j,configurable:!0}),j.displayName=u(U,p,"GeneratorFunction");function J(r){["next","throw","return"].forEach(function(t){u(r,t,function(n){return this._invoke(t,n)})})}a.isGeneratorFunction=function(r){var t=typeof r=="function"&&r.constructor;return t?t===j||(t.displayName||t.name)==="GeneratorFunction":!1},a.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,U):(r.__proto__=U,u(r,p,"GeneratorFunction")),r.prototype=Object.create(B),r},a.awrap=function(r){return{__await:r}};function Y(r,t){function n(y,i,c,m){var b=w(r[y],r,i);if(b.type==="throw")m(b.arg);else{var A=b.arg,I=A.value;return I&&typeof I=="object"&&R.call(I,"__await")?t.resolve(I.__await).then(function($){n("next",$,c,m)},function($){n("throw",$,c,m)}):t.resolve(I).then(function($){A.value=$,c(A)},function($){return n("throw",$,c,m)})}}var d;function s(y,i){function c(){return new t(function(m,b){n(y,i,m,b)})}return d=d?d.then(c,c):c()}T(this,"_invoke",{value:s})}J(Y.prototype),u(Y.prototype,E,function(){return this}),a.AsyncIterator=Y,a.async=function(r,t,n,d,s){s===void 0&&(s=Promise);var y=new Y(v(r,t,n,d),s);return a.isGeneratorFunction(t)?y:y.next().then(function(i){return i.done?i.value:y.next()})};function te(r,t,n){var d=L;return function(y,i){if(d===P)throw new Error("Generator is already running");if(d===D){if(y==="throw")throw i;return Q()}for(n.method=y,n.arg=i;;){var c=n.delegate;if(c){var m=Z(c,n);if(m){if(m===N)continue;return m}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(d===L)throw d=D,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);d=P;var b=w(r,t,n);if(b.type==="normal"){if(d=n.done?D:O,b.arg===N)continue;return{value:b.arg,done:n.done}}else b.type==="throw"&&(d=D,n.method="throw",n.arg=b.arg)}}}function Z(r,t){var n=t.method,d=r.iterator[n];if(d===f)return t.delegate=null,n==="throw"&&r.iterator.return&&(t.method="return",t.arg=f,Z(r,t),t.method==="throw")||n!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),N;var s=w(d,r.iterator,t.arg);if(s.type==="throw")return t.method="throw",t.arg=s.arg,t.delegate=null,N;var y=s.arg;if(!y)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,N;if(y.done)t[r.resultName]=y.value,t.next=r.nextLoc,t.method!=="return"&&(t.method="next",t.arg=f);else return y;return t.delegate=null,N}J(B),u(B,p,"Generator"),u(B,h,function(){return this}),u(B,"toString",function(){return"[object Generator]"});function V(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function K(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function z(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(V,this),this.reset(!0)}a.keys=function(r){var t=Object(r),n=[];for(var d in t)n.push(d);return n.reverse(),function s(){for(;n.length;){var y=n.pop();if(y in t)return s.value=y,s.done=!1,s}return s.done=!0,s}};function q(r){if(r){var t=r[h];if(t)return t.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var n=-1,d=function s(){for(;++n<r.length;)if(R.call(r,n))return s.value=r[n],s.done=!1,s;return s.value=f,s.done=!0,s};return d.next=d}}return{next:Q}}a.values=q;function Q(){return{value:f,done:!0}}return z.prototype={constructor:z,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(K),!r)for(var t in this)t.charAt(0)==="t"&&R.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=f)},stop:function(){this.done=!0;var r=this.tryEntries[0],t=r.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function n(m,b){return y.type="throw",y.arg=r,t.next=m,b&&(t.method="next",t.arg=f),!!b}for(var d=this.tryEntries.length-1;d>=0;--d){var s=this.tryEntries[d],y=s.completion;if(s.tryLoc==="root")return n("end");if(s.tryLoc<=this.prev){var i=R.call(s,"catchLoc"),c=R.call(s,"finallyLoc");if(i&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else if(c){if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,t){for(var n=this.tryEntries.length-1;n>=0;--n){var d=this.tryEntries[n];if(d.tryLoc<=this.prev&&R.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var s=d;break}}s&&(r==="break"||r==="continue")&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var y=s?s.completion:{};return y.type=r,y.arg=t,s?(this.method="next",this.next=s.finallyLoc,N):this.complete(y)},complete:function(r,t){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&t&&(this.next=t),N},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===r)return this.complete(n.completion,n.afterLoc),K(n),N}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===r){var d=n.completion;if(d.type==="throw"){var s=d.arg;K(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,n){return this.delegate={iterator:q(r),resultName:t,nextLoc:n},this.method==="next"&&(this.arg=f),N}},a}(e.exports);try{regeneratorRuntime=o}catch(a){typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}})(Ae);var ae=(e,o)=>`${e}-${o}-${Math.random().toString(16).slice(3,8)}`;const Re=ae;let de=0;var ye=({id:e,action:o,payload:a={}})=>{let l=e;return typeof l=="undefined"&&(l=Re("Job",de),de+=1),{id:l,action:o,payload:a}},H={};let ie=!1;H.logging=ie;H.setLogging=e=>{ie=e};H.log=(...e)=>ie?console.log.apply(void 0,e):null;const Te=ye,{log:ee}=H,ke=ae;let he=0;var Ie=()=>{const e=ke("Scheduler",he),o={},a={};let l=[];he+=1;const R=()=>l.length,T=()=>Object.keys(o).length,f=()=>{if(l.length!==0){const u=Object.keys(o);for(let v=0;v<u.length;v+=1)if(typeof a[u[v]]=="undefined"){l[0](o[u[v]]);break}}},g=(u,v)=>new Promise((w,L)=>{const O=Te({action:u,payload:v});l.push(P=>S(void 0,null,function*(){l.shift(),a[P.id]=O;try{w(yield P[u].apply(void 0,[...v,O.id]))}catch(D){L(D)}finally{delete a[P.id],f()}})),ee(`[${e}]: Add ${O.id} to JobQueue`),ee(`[${e}]: JobQueue length=${l.length}`),f()});return{addWorker:u=>(o[u.id]=u,ee(`[${e}]: Add ${u.id}`),ee(`[${e}]: Number of workers=${T()}`),f(),u.id),addJob:(u,...v)=>S(void 0,null,function*(){if(T()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return g(u,v)}),terminate:()=>S(void 0,null,function*(){Object.keys(o).forEach(u=>S(void 0,null,function*(){yield o[u].terminate()})),l=[]}),getQueueLen:R,getNumWorkers:T}};function _e(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Ne(){return!!(typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var Pe=Ne;const $e=Pe;var Me=e=>{const o={};return typeof WorkerGlobalScope!="undefined"?o.type="webworker":$e()?o.type="electron":typeof document=="object"?o.type="browser":typeof process=="object"&&typeof _e=="function"&&(o.type="node"),typeof e=="undefined"?o:o[e]};const Ce=Me("type")==="browser",De=Ce?e=>new URL(e,window.location.href).href:e=>e;var Ue=e=>{const o=_({},e);return["corePath","workerPath","langPath"].forEach(a=>{e[a]&&(o[a]=De(o[a]))}),o},Ge=e=>{const o=[],a=[],l=[],R=[],T=[];return e.blocks&&e.blocks.forEach(f=>{f.paragraphs.forEach(g=>{g.lines.forEach(h=>{h.words.forEach(E=>{E.symbols.forEach(p=>{T.push(G(_({},p),{page:e,block:f,paragraph:g,line:h,word:E}))}),R.push(G(_({},E),{page:e,block:f,paragraph:g,line:h}))}),l.push(G(_({},h),{page:e,block:f,paragraph:g}))}),a.push(G(_({},g),{page:e,block:f}))}),o.push(G(_({},f),{page:e}))}),G(_({},e),{blocks:o,paragraphs:a,lines:l,words:R,symbols:T})},we={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Be="5.1.1",je={version:Be};var ze={workerBlobURL:!0,logger:()=>{}};const We=je.version,Fe=ze;var Ye=G(_({},Fe),{workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${We}/dist/worker.min.js`}),He=({workerPath:e,workerBlobURL:o})=>{let a;if(Blob&&URL&&o){const l=new Blob([`importScripts("${e}");`],{type:"application/javascript"});a=new Worker(URL.createObjectURL(l))}else a=new Worker(e);return a},xe=e=>{e.terminate()},Ke=(e,o)=>{e.onmessage=({data:a})=>{o(a)}},qe=(e,o)=>S(void 0,null,function*(){e.postMessage(o)});const oe=e=>new Promise((o,a)=>{const l=new FileReader;l.onload=()=>{o(l.result)},l.onerror=({target:{error:{code:R}}})=>{a(Error(`File could not be read! Code=${R}`))},l.readAsArrayBuffer(e)}),ne=e=>S(void 0,null,function*(){let o=e;if(typeof e=="undefined")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?o=atob(e.split(",")[1]).split("").map(a=>a.charCodeAt(0)):o=yield(yield fetch(e)).arrayBuffer();else if(typeof HTMLElement!="undefined"&&e instanceof HTMLElement)e.tagName==="IMG"&&(o=yield ne(e.src)),e.tagName==="VIDEO"&&(o=yield ne(e.poster)),e.tagName==="CANVAS"&&(yield new Promise(a=>{e.toBlob(l=>S(void 0,null,function*(){o=yield oe(l),a()}))}));else if(typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas){const a=yield e.convertToBlob();o=yield oe(a)}else(e instanceof File||e instanceof Blob)&&(o=yield oe(e));return new Uint8Array(o)});var Je=ne;const Ze=Ye,Ve=He,Qe=xe,Xe=Ke,et=qe,tt=Je;var rt={defaultOptions:Ze,spawnWorker:Ve,terminateWorker:Qe,onMessage:Xe,send:et,loadImage:tt};const ot=Ue,nt=Ge,C=ye,{log:pe}=H,at=ae,W=we,{defaultOptions:it,spawnWorker:st,terminateWorker:ct,onMessage:lt,loadImage:ge,send:ut}=rt;let ve=0;var me=(...R)=>S(void 0,[...R],function*(e="eng",o=W.LSTM_ONLY,a={},l={}){const T=at("Worker",ve),y=ot(_(_({},it),a)),{logger:f,errorHandler:g}=y,h=ue(y,["logger","errorHandler"]),E={},p={},u=typeof e=="string"?e.split("+"):e;let v=o,w=l;const L=[W.DEFAULT,W.LSTM_ONLY].includes(o)&&!h.legacyCore;let O,P;const D=new Promise((i,c)=>{P=i,O=c}),N=i=>{O(i.message)};let M=st(h);M.onerror=N,ve+=1;const j=(i,c)=>{E[i]=c},U=(i,c)=>{p[i]=c},k=({id:i,action:c,payload:m})=>new Promise((b,A)=>{pe(`[${T}]: Start ${i}, action=${c}`);const I=`${c}-${i}`;j(I,b),U(I,A),ut(M,{workerId:T,jobId:i,action:c,payload:m})}),x=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),F=i=>k(C({id:i,action:"load",payload:{options:{lstmOnly:L,corePath:h.corePath,logging:h.logging}}})),B=(i,c,m)=>k(C({id:m,action:"FS",payload:{method:"writeFile",args:[i,c]}})),J=(i,c)=>k(C({id:c,action:"FS",payload:{method:"readFile",args:[i,{encoding:"utf8"}]}})),Y=(i,c)=>k(C({id:c,action:"FS",payload:{method:"unlink",args:[i]}})),te=(i,c,m)=>k(C({id:m,action:"FS",payload:{method:i,args:c}})),Z=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),V=(i,c)=>k(C({id:c,action:"loadLanguage",payload:{langs:i,options:{langPath:h.langPath,dataPath:h.dataPath,cachePath:h.cachePath,cacheMethod:h.cacheMethod,gzip:h.gzip,lstmOnly:[W.DEFAULT,W.LSTM_ONLY].includes(v)&&!h.legacyLang}}})),K=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),z=(i,c,m,b)=>k(C({id:b,action:"initialize",payload:{langs:i,oem:c,config:m}})),q=(i="eng",c,m,b)=>{if(L&&[W.TESSERACT_ONLY,W.TESSERACT_LSTM_COMBINED].includes(c))throw Error("Legacy model requested but code missing.");const A=c||v;v=A;const I=m||w;w=I;const re=(typeof i=="string"?i.split("+"):i).filter(Ee=>!u.includes(Ee));return u.push(...re),re.length>0?V(re,b).then(()=>z(i,A,I,b)):z(i,A,I,b)},Q=(i={},c)=>k(C({id:c,action:"setParameters",payload:{params:i}})),r=(A,...I)=>S(void 0,[A,...I],function*(i,c={},m={blocks:!0,text:!0,hocr:!0,tsv:!0},b){return k(C({id:b,action:"recognize",payload:{image:yield ge(i),options:c,output:m}}))}),t=(i="Tesseract OCR Result",c=!1,m)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),k(C({id:m,action:"getPDF",payload:{title:i,textonly:c}}))),n=(i,c)=>S(void 0,null,function*(){if(L)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return k(C({id:c,action:"detect",payload:{image:yield ge(i)}}))}),d=()=>S(void 0,null,function*(){return M!==null&&(ct(M),M=null),Promise.resolve()});lt(M,({workerId:i,jobId:c,status:m,action:b,data:A})=>{const I=`${b}-${c}`;if(m==="resolve"){pe(`[${i}]: Complete ${c}`);let $=A;b==="recognize"?$=nt(A):b==="getPDF"&&($=Array.from(G(_({},A),{length:Object.keys(A).length}))),E[I]({jobId:c,data:$})}else if(m==="reject")if(p[I](A),b==="load"&&O(A),g)g(A);else throw Error(A);else m==="progress"&&f(G(_({},A),{userJobId:c}))});const s={id:T,worker:M,setResolve:j,setReject:U,load:x,writeText:B,readText:J,removeFile:Y,FS:te,loadLanguage:Z,initialize:K,reinitialize:q,setParameters:Q,recognize:r,getPDF:t,detect:n,terminate:d};return F().then(()=>V(e)).then(()=>z(e,o,l)).then(()=>P(s)).catch(()=>{}),D});const be=me,ft=(e,o,a)=>S(void 0,null,function*(){const l=yield be(o,1,a);return l.recognize(e).finally(()=>S(void 0,null,function*(){yield l.terminate()}))}),dt=(e,o)=>S(void 0,null,function*(){const a=yield be("osd",0,o);return a.detect(e).finally(()=>S(void 0,null,function*(){yield a.terminate()}))});var ht={recognize:ft,detect:dt},pt={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},gt={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const vt=Ie,yt=me,wt=ht,mt=pt,bt=we,Et=gt,{setLogging:Lt}=H;var St=_({languages:mt,OEM:bt,PSM:Et,createScheduler:vt,createWorker:yt,setLogging:Lt},wt);const Ot=[/\b\d{13}[A-Z]?\b/g,/\b\d{11,14}\b/g,/\b\d{9}\b/g,/\b\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}\b/g,/\b\+?258\s?\d{2}\s?\d{3}\s?\d{4}\b/g,/\b\d{9}\b/g,/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,/\b(BI|BILHETE|IDENTIDADE|NUIT|PASSAPORTE|PASSPORT|NÚMERO|NUMBER)\s*:?\s*\d+/gi];function Tt(){const e=fe(!1),o=fe(0),a=f=>S(this,null,function*(){e.value=!0,o.value=0;try{const g=yield St.createWorker("por+eng",1,{logger:p=>{p.status==="recognizing text"&&(o.value=Math.round(p.progress*100))}}),{data:h}=yield g.recognize(f);yield g.terminate();const E=[];return h.words.forEach(p=>{const u=p.text.trim();for(const v of Ot)if(v.test(u)){E.push({x:p.bbox.x0,y:p.bbox.y0,width:p.bbox.x1-p.bbox.x0,height:p.bbox.y1-p.bbox.y0});break}}),E}catch(g){return console.error("Erro ao detectar texto sensível:",g),[]}finally{e.value=!1,o.value=0}}),l=(f,g)=>S(this,null,function*(){return new Promise((h,E)=>{const p=new Image,u=document.createElement("canvas"),v=u.getContext("2d");if(!v){E(new Error("Não foi possível criar contexto do canvas"));return}p.onload=()=>{u.width=p.width,u.height=p.height,v.drawImage(p,0,0),g.forEach(w=>{const L=document.createElement("canvas"),O=L.getContext("2d");O&&(L.width=w.width,L.height=w.height,O.drawImage(u,w.x,w.y,w.width,w.height,0,0,w.width,w.height),v.save(),v.filter="blur(15px)",v.drawImage(L,w.x,w.y),v.restore(),v.fillStyle="rgba(0, 0, 0, 0.3)",v.fillRect(w.x,w.y,w.width,w.height))}),u.toBlob(w=>{if(w){const L=new File([w],f.name,{type:f.type,lastModified:Date.now()});h(L)}else E(new Error("Erro ao criar arquivo com blur"))},f.type,.9)},p.onerror=()=>{E(new Error("Erro ao carregar imagem"))},p.src=URL.createObjectURL(f)})});return{isProcessing:e,progress:o,detectSensitiveText:a,applyBlurToRegions:l,processImageForSensitiveData:f=>S(this,null,function*(){try{const g=yield a(f);return g.length===0?f:yield l(f,g)}catch(g){return console.error("Erro ao processar imagem:",g),f}}),applyCommonDocumentBlur:f=>S(this,null,function*(){return new Promise((g,h)=>{const E=new Image,p=document.createElement("canvas"),u=p.getContext("2d");if(!u){h(new Error("Não foi possível criar contexto do canvas"));return}E.onload=()=>{p.width=E.width,p.height=E.height,u.drawImage(E,0,0);const v=p.width/2,w=p.height/2,L=p.width*.4,O=p.height*.15;u.save(),u.filter="blur(20px)",u.drawImage(p,v-L/2,w-O/2,L,O,v-L/2,w-O/2,L,O),u.restore(),u.fillStyle="rgba(0, 0, 0, 0.4)",u.fillRect(v-L/2,w-O/2,L,O),p.toBlob(P=>{if(P){const D=new File([P],f.name,{type:f.type,lastModified:Date.now()});g(D)}else h(new Error("Erro ao criar arquivo com blur"))},f.type,.9)},E.onerror=()=>{h(new Error("Erro ao carregar imagem"))},E.src=URL.createObjectURL(f)})})}}export{Tt as u};
