import{a as g,r as x,c as _,l as y,m as S,b as l,o as a,h as t,j as $,e as d,t as f,T as I,w,F as k,s as C,i as M,n as p,f as L,P as B,v as N,p as h}from"./vue-vendor-D3gglZhg.js";import{d as E,e as b,_ as D}from"./index-DVvGwCfe.js";import{l as T}from"./logofmd-DIbmBIad.js";const j={class:"relative"},F={class:"text-lg"},z={key:0,class:"absolute right-0 mt-2 w-48 bg-white dark:bg-dark-card rounded-lg shadow-lg border border-gray-200 dark:border-dark-border z-50"},P={class:"py-2"},R=["onClick"],V={class:"text-xl"},A={class:"flex-1 text-left"},U={key:0,class:"fas fa-check text-primary text-xs"},q=g({__name:"LanguageSelector",setup(r){const{locale:n}=E(),s=x(!1),o=_(()=>n.value),i=_(()=>b.find(c=>c.code===o.value)||b[0]),v=c=>{n.value=c,localStorage.setItem("fmd_language",c),s.value=!1},m=c=>{c.key==="Escape"&&(s.value=!1)};return y(()=>{document.addEventListener("keydown",m)}),S(()=>{document.removeEventListener("keydown",m)}),(c,u)=>(a(),l("div",j,[t("button",{class:"btn-icon flex items-center space-x-1",onClick:u[0]||(u[0]=e=>s.value=!s.value),"aria-label":"Selecionar idioma"},[t("span",F,f(i.value.flag),1)]),$(I,{name:"fade"},{default:w(()=>[s.value?(a(),l("div",z,[t("div",P,[(a(!0),l(k,null,C(M(b),e=>(a(),l("button",{key:e.code,class:p(["w-full flex items-center space-x-3 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"bg-gray-50 dark:bg-gray-800":e.code===o.value}]),onClick:le=>v(e.code)},[t("span",V,f(e.flag),1),t("span",A,f(e.name),1),e.code===o.value?(a(),l("i",U)):d("",!0)],10,R))),128))])])):d("",!0)]),_:1}),s.value?(a(),l("div",{key:0,class:"fixed inset-0 z-40",onClick:u[1]||(u[1]=e=>s.value=!1)})):d("",!0)]))}}),G=D(q,[["__scopeId","data-v-a3b349de"]]),H={class:"fixed top-0 left-0 right-0 z-40 bg-white dark:bg-dark-card border-b border-gray-200 dark:border-dark-border pt-safe"},J={class:"flex items-center justify-between px-4 h-14"},K={class:"flex items-center space-x-2"},O=["src"],Q={class:"text-lg font-bold text-gray-900 dark:text-dark-text"},W={class:"flex items-center space-x-2"},X=g({__name:"TopBar",props:{title:{default:"FindMyDocs"},logo:{default:T}},setup(r){const n=x(!1);y(()=>{n.value=document.documentElement.classList.contains("dark")});const s=()=>{n.value=!n.value,n.value?(document.documentElement.classList.add("dark"),localStorage.setItem("fmd_dark_mode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("fmd_dark_mode","false"))};return(o,i)=>(a(),l(k,null,[t("header",H,[t("div",J,[t("div",K,[r.logo?(a(),l("img",{key:0,src:r.logo,alt:"Logo",class:"h-8 w-8 object-contain rounded-md"},null,8,O)):d("",!0),t("h1",Q,f(r.title),1)]),t("div",W,[L(o.$slots,"actions",{},()=>[$(G),t("button",{class:"btn-icon",onClick:s,"aria-label":"Alternar tema"},[t("i",{class:p(n.value?"fas fa-sun":"fas fa-moon")},null,2)])])])])]),i[0]||(i[0]=t("div",{class:"h-14 pt-safe"},null,-1))],64))}}),Y={class:"bottom-nav"},Z={class:"flex items-center justify-around h-16"},ee={class:"relative"},te={key:0,class:"absolute -top-2 -right-2 bg-danger text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},ae={class:"mt-1"},oe=g({__name:"BottomNavigation",props:{notificationCount:{default:0}},setup(r){const n=r,s=B(),{t:o}=E(),i=_(()=>[{name:"feed",label:o("nav.home"),icon:"fas fa-home",to:"/"},{name:"map",label:o("nav.map"),icon:"fas fa-map",to:"/map"},{name:"report-found",label:o("nav.report"),icon:"fas fa-plus-circle",to:"/report-found"},{name:"notifications",label:o("nav.notifications"),icon:"fas fa-bell",to:"/notifications",badge:n.notificationCount},{name:"profile",label:o("nav.profile"),icon:"fas fa-user",to:"/profile"}]),v=m=>s.path===m;return(m,c)=>{const u=N("router-link");return a(),l("nav",Y,[t("div",Z,[(a(!0),l(k,null,C(i.value,e=>(a(),h(u,{key:e.name,to:e.to,class:p(["bottom-nav-item",{active:v(e.to)}])},{default:w(()=>[t("div",ee,[t("i",{class:p([e.icon,"text-xl"])},null,2),e.badge&&e.badge>0?(a(),l("span",te,f(e.badge>99?"99+":e.badge),1)):d("",!0)]),t("span",ae,f(e.label),1)]),_:2},1032,["to","class"]))),128))])])}}}),se={class:"min-h-screen bg-gray-50 dark:bg-dark-bg pb-16"},ne={class:"container mx-auto px-0 sm:px-4 max-w-2xl"},de=g({__name:"MainLayout",props:{showTopBar:{type:Boolean,default:!0},showBottomNav:{type:Boolean,default:!0},notificationCount:{default:0}},setup(r){const n=B(),s=_(()=>({"/":"FindMyDocs","/report-lost":"Relatar Perda","/report-found":"Relatar Encontrado","/notifications":"Notificações","/profile":"Perfil"})[n.path]||"FindMyDocs");return(o,i)=>(a(),l("div",se,[r.showTopBar?(a(),h(X,{key:0,title:s.value},null,8,["title"])):d("",!0),t("main",ne,[L(o.$slots,"default")]),r.showBottomNav?(a(),h(oe,{key:1,"notification-count":r.notificationCount},null,8,["notification-count"])):d("",!0)]))}});export{de as _};
